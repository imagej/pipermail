<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-builds] Build failed in Jenkins: ImageJ-1.x-patcher #80
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-builds%40imagej.net?Subject=Re%3A%20%5BImageJ-builds%5D%20Build%20failed%20in%20Jenkins%3A%20ImageJ-1.x-patcher%20%2380&In-Reply-To=%3C1883379867.1277.1404227500063.JavaMail.jenkins%40dev%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="005609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-builds] Build failed in Jenkins: ImageJ-1.x-patcher #80</H1>
    <B>jenkins at imagej.net</B> 
    <A HREF="mailto:imagej-builds%40imagej.net?Subject=Re%3A%20%5BImageJ-builds%5D%20Build%20failed%20in%20Jenkins%3A%20ImageJ-1.x-patcher%20%2380&In-Reply-To=%3C1883379867.1277.1404227500063.JavaMail.jenkins%40dev%3E"
       TITLE="[ImageJ-builds] Build failed in Jenkins: ImageJ-1.x-patcher #80">jenkins at imagej.net
       </A><BR>
    <I>Tue Jul  1 10:11:40 CDT 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="005609.html">[ImageJ-builds] Jenkins build is back to normal :	ImageJ-1.x-patcher #81
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5608">[ date ]</a>
              <a href="thread.html#5608">[ thread ]</a>
              <a href="subject.html#5608">[ subject ]</a>
              <a href="author.html#5608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>See &lt;<A HREF="http://jenkins.imagej.net/job/ImageJ-1.x-patcher/80/changes">http://jenkins.imagej.net/job/ImageJ-1.x-patcher/80/changes</A>&gt;

Changes:

[Johannes Schindelin] Add a helpful comment

[Johannes Schindelin] Change comment to conform with ImageJ2's coding style

[Johannes Schindelin] Introduce a hook to execute at the end of WindowManager#closeAllWindows()

[Curtis Rueden] LegacyHooks: fix javadoc terminology

[Curtis Rueden] LegacyHooks#quit(): improve javadoc

[Curtis Rueden] Introduce a hook called just before IJ1 disposal

[Curtis Rueden] EssentialLegacyHooks: fix javadoc link and style

[Curtis Rueden] LegacyHooks#getContext(): tweak javadoc

[Curtis Rueden] Add a test for LegacyHooks shutdown hooks

------------------------------------------
Started by an SCM change
Building on master in workspace &lt;<A HREF="http://jenkins.imagej.net/job/ImageJ-1.x-patcher/ws/">http://jenkins.imagej.net/job/ImageJ-1.x-patcher/ws/</A>&gt;
Fetching changes from the remote Git repository
Fetching upstream changes from <A HREF="https://github.com/imagej/ij1-patcher">https://github.com/imagej/ij1-patcher</A>
Checking out Revision 39c0c5c55807ad19cb63a5337b52450ea6302613 (origin/master)
[workspace] $ /bin/sh -xe /tmp/hudson7043144719324021557.sh
+ git clean -dfx
Removing target/
[workspace] $ mvn -U -Prun-its clean install
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Runtime patcher to introduce extension points into ImageJ 1.x 0.9.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ ij1-patcher ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.2:create (default) @ ij1-patcher ---
[INFO] Checking for local modifications: skipped.
[INFO] Updating project files from SCM: skipped.
[INFO] Executing: /bin/sh -c cd /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace &amp;&amp; git rev-parse --verify HEAD
[INFO] Working directory: /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace
[INFO] Storing buildNumber: 39c0c5c55807ad19cb63a5337b52450ea6302613 at timestamp: 1404227486516
[INFO] Executing: /bin/sh -c cd /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace &amp;&amp; git rev-parse --verify HEAD
[INFO] Working directory: /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ ij1-patcher ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ ij1-patcher ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 21 source files to /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ ij1-patcher ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ ij1-patcher ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 18 source files to /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ ij1-patcher ---
[INFO] Surefire report directory: /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running net.imagej.patcher.ImageJ1EncapsulationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.189 sec - in net.imagej.patcher.ImageJ1EncapsulationTest
Running net.imagej.patcher.HeadlessEnvironmentTest
(unset)
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.621 sec - in net.imagej.patcher.HeadlessEnvironmentTest
Running net.imagej.patcher.ClassLoaderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.195 sec - in net.imagej.patcher.ClassLoaderTest
Running net.imagej.patcher.BarePluginsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.453 sec - in net.imagej.patcher.BarePluginsTest
Running net.imagej.patcher.ImagePlusTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec - in net.imagej.patcher.ImagePlusTest
Running net.imagej.patcher.FatJarTest
first entry is xalan.jar
Now, first entry is batik.jar
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.234 sec - in net.imagej.patcher.FatJarTest
Running net.imagej.patcher.LegacyHooksTest
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.025 sec &lt;&lt;&lt; FAILURE! - in net.imagej.patcher.LegacyHooksTest
testShutdownHooks(net.imagej.patcher.LegacyHooksTest)  Time elapsed: 0.025 sec  &lt;&lt;&lt; ERROR!
java.awt.HeadlessException: 
No X11 DISPLAY variable was set, but this program performed an operation which requires it.
	at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)
	at java.awt.Window.&lt;init&gt;(Window.java:433)
	at java.awt.Frame.&lt;init&gt;(Frame.java:403)
	at ij.ImageJ.&lt;init&gt;(ImageJ.java:139)
	at ij.ImageJ.&lt;init&gt;(ImageJ.java:127)
	at net.imagej.patcher.LegacyHooksTest.testShutdownHooks(LegacyHooksTest.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

Running net.imagej.patcher.HeadlessCompletenessTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.216 sec - in net.imagej.patcher.HeadlessCompletenessTest
Running net.imagej.patcher.ExtraPluginDirsTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.837 sec - in net.imagej.patcher.ExtraPluginDirsTest
Running net.imagej.patcher.HelpfulExceptionTracesTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.308 sec - in net.imagej.patcher.HelpfulExceptionTracesTest

Results :

Tests in error: 
  LegacyHooksTest.testShutdownHooks:104 &#187; Headless 
No X11 DISPLAY variable was ...

Tests run: 25, Failures: 0, Errors: 1, Skipped: 3

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 16.794s
[INFO] Finished at: Tue Jul 01 10:11:39 CDT 2014
[INFO] Final Memory: 13M/360M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (default-test) on project ij1-patcher: There are test failures.
[ERROR] 
[ERROR] Please refer to /data/devel/jenkins/jobs/ImageJ-1.x-patcher/workspace/target/surefire-reports for the individual test results.
[ERROR] -&gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] <A HREF="http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</A>
Build step 'Invoke top-level Maven targets' marked build as failure
Archiving artifacts
Recording test results
Performance: Percentage of errors greater or equal than 0% sets the build as unstable
Performance: Percentage of errors greater or equal than 0% sets the build as failure



Performance: Recording JUnit reports '**/TEST-*.xml'
TEST-net.imagej.patcher.BarePluginsTest.xml has an average of: 226
Performance: File TEST-net.imagej.patcher.BarePluginsTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.ClassLoaderTest.xml has an average of: 194
Performance: File TEST-net.imagej.patcher.ClassLoaderTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.ExtraPluginDirsTest.xml has an average of: 209
Performance: File TEST-net.imagej.patcher.ExtraPluginDirsTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.FatJarTest.xml has an average of: 233
Performance: File TEST-net.imagej.patcher.FatJarTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.HeadlessCompletenessTest.xml has an average of: 71
Performance: File TEST-net.imagej.patcher.HeadlessCompletenessTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.HeadlessEnvironmentTest.xml has an average of: 513
Performance: File TEST-net.imagej.patcher.HeadlessEnvironmentTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.HelpfulExceptionTracesTest.xml has an average of: 154
Performance: File TEST-net.imagej.patcher.HelpfulExceptionTracesTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.ImageJ1EncapsulationTest.xml has an average of: 133
Performance: File TEST-net.imagej.patcher.ImageJ1EncapsulationTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.ImagePlusTest.xml has an average of: 0
Performance: File TEST-net.imagej.patcher.ImagePlusTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE



TEST-net.imagej.patcher.LegacyHooksTest.xml has an average of: 25
Performance: File TEST-net.imagej.patcher.LegacyHooksTest.xml reported 0.0% of errors [SUCCESS]. Build status is: FAILURE




</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="005609.html">[ImageJ-builds] Jenkins build is back to normal :	ImageJ-1.x-patcher #81
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5608">[ date ]</a>
              <a href="thread.html#5608">[ thread ]</a>
              <a href="subject.html#5608">[ subject ]</a>
              <a href="author.html#5608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-builds">More information about the ImageJ-builds
mailing list</a><br>
</body></html>
