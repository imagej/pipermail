<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Bug in ImageJ2 ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Bug%20in%20ImageJ2%20%3F&In-Reply-To=%3C506E9195.1090604%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001225.html">
   <LINK REL="Next"  HREF="001227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Bug in ImageJ2 ?</H1>
    <B>Michael Zinsmaier</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Bug%20in%20ImageJ2%20%3F&In-Reply-To=%3C506E9195.1090604%40gmx.de%3E"
       TITLE="[ImageJ-devel] Bug in ImageJ2 ?">michael.zinsmaier at gmx.de
       </A><BR>
    <I>Fri Oct  5 02:51:49 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001225.html">[ImageJ-devel] Bug in ImageJ2 ?
</A></li>
        <LI>Next message: <A HREF="001227.html">[ImageJ-devel] ImageJ on Android talk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1226">[ date ]</a>
              <a href="thread.html#1226">[ thread ]</a>
              <a href="subject.html#1226">[ subject ]</a>
              <a href="author.html#1226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Curtis,

I updated to the snapshot-core.jar and it works now as intended. We will 
release an updated (ImageJ4 beta compatible) version of the ImageJ 
plugin in the next few weeks together with the next minor release of the 
Knime Image Extension.

Thank you for your efforts
Regards Michael
&gt;<i> Hi Michael,
</I>&gt;<i>
</I>&gt;<i> &gt; The getPOM method does not work in the plugin/eclipse environment that
</I>&gt;<i> &gt; is used by KNIME. I think this might be related to some OSGI stuff
</I>&gt;<i> &gt; having separate class loaders for each plugin...
</I>&gt;<i>
</I>&gt;<i> After much research and experimentation, I believe I have fixed this bug:
</I>&gt;<i> <A HREF="https://github.com/imagej/imagej/commit/66b4e29e">https://github.com/imagej/imagej/commit/66b4e29e</A>
</I>&gt;<i>
</I>&gt;<i> I also made several other improvements to ImageJ2's base directory 
</I>&gt;<i> detection:
</I>&gt;<i> <A HREF="https://github.com/imagej/imagej/compare/66b4e29ede81...ca49a734d5cc">https://github.com/imagej/imagej/compare/66b4e29ede81...ca49a734d5cc</A>
</I>&gt;<i>
</I>&gt;<i> Using the latest ij-core-2.0.0-SNAPSHOT.jar in place of KNIP's bundled 
</I>&gt;<i> ij-core-2.0.0-beta4.jar, the problem is fixed on my system, and the 
</I>&gt;<i> ImageJ2 nodes appear as expected now.
</I>&gt;<i>
</I>&gt;<i> Please let me know if you have any other issues.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Curtis
</I>&gt;<i>
</I>&gt;<i> P.S. Special thanks to Christian for helping me set up my KNIME+KNIP 
</I>&gt;<i> development environment!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Sep 20, 2012 at 1:43 PM, Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi Michael,
</I>&gt;<i>
</I>&gt;<i>     Sorry to hear that the POM version detection is not working for
</I>&gt;<i>     KNIME. If the problem is *only* with the deprecated static
</I>&gt;<i>     VERSION, we plan to eliminate that soon anyway. But if the
</I>&gt;<i>     ImageJ#getVersion() method always returns null, that is a bad
</I>&gt;<i>     thing and we will need to fix it.
</I>&gt;<i>
</I>&gt;<i>     To debug this, I would need to set up a KNIP developer environment
</I>&gt;<i>     on my machine here so that I can reproduce and debug the issue.
</I>&gt;<i>     Are there instructions for doing that online?
</I>&gt;<i>
</I>&gt;<i>     Thanks,
</I>&gt;<i>     Curtis
</I>&gt;<i>
</I>&gt;<i>     P.S. Please CC imagej-devel on replies. Sometimes other developers
</I>&gt;<i>     may reply more quickly than I do, so it may save you time.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     On Mon, Sep 17, 2012 at 2:15 AM, Michael Zinsmaier
</I>&gt;<i>     &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">michael.zinsmaier at gmx.de</A> &lt;mailto:<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">michael.zinsmaier at gmx.de</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>         Hi Curtis,
</I>&gt;<i>
</I>&gt;<i>         thanks for your reply and the explenation. Unfortunately I
</I>&gt;<i>         have already a new issue. We tried to migrate the KNIME Image
</I>&gt;<i>         Extension
</I>&gt;<i>         to the beta 4 version of ImageJ and we have some problems with
</I>&gt;<i>         the introduced integration of the POM file. The getPOM method
</I>&gt;<i>         does not work in the plugin/eclipse environment that is used
</I>&gt;<i>         by KNIME I think this might be related to some OSGI stuff
</I>&gt;<i>         having separate
</I>&gt;<i>         class loaders for each plugin...
</I>&gt;<i>         In any case getPOM does not find the POM file although it is
</I>&gt;<i>         packed into the ImageJ jar file. Especially the static loading
</I>&gt;<i>         of the version number causes therefore some problems for us.
</I>&gt;<i>
</I>&gt;<i>             /** @deprecated Use {@link ImageJ#getVersion()} instead. */
</I>&gt;<i>             @Deprecated
</I>&gt;<i>             public static final String VERSION =
</I>&gt;<i>         POM.getPOM(ImageJ.class, &quot;net.imagej&quot;, &quot;ij-core&quot;).getVersion();
</I>&gt;<i>
</I>&gt;<i>         Do you have an idea how this could be resolved?
</I>&gt;<i>
</I>&gt;<i>         Best regards,
</I>&gt;<i>         Michael
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20121005/fca7d661/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20121005/fca7d661/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001225.html">[ImageJ-devel] Bug in ImageJ2 ?
</A></li>
	<LI>Next message: <A HREF="001227.html">[ImageJ-devel] ImageJ on Android talk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1226">[ date ]</a>
              <a href="thread.html#1226">[ thread ]</a>
              <a href="subject.html#1226">[ subject ]</a>
              <a href="author.html#1226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
