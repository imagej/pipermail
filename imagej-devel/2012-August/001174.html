<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20LOCI%20fails%20on%20current%20Fiji%20checkout%0A%09%28help%21%21%29&In-Reply-To=%3CCADN69ynRHZ3xLM3eyo0739zcD0nv-ZbD4PDkU-B5_EQe5nLXfg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001173.html">
   <LINK REL="Next"  HREF="001175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20LOCI%20fails%20on%20current%20Fiji%20checkout%0A%09%28help%21%21%29&In-Reply-To=%3CCADN69ynRHZ3xLM3eyo0739zcD0nv-ZbD4PDkU-B5_EQe5nLXfg%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)">ctrueden at wisc.edu
       </A><BR>
    <I>Wed Aug  8 17:13:21 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001173.html">[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)
</A></li>
        <LI>Next message: <A HREF="001175.html">[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1174">[ date ]</a>
              <a href="thread.html#1174">[ thread ]</a>
              <a href="subject.html#1174">[ subject ]</a>
              <a href="author.html#1174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Steffi,

I had problems building Fiji from source from a fresh clone. Johannes &amp; I
debugged it, and found a problem with how Fiji's build system was resolving
versions. That is now fixed and pushed to master. Afterwards, I tried
opening one of your sample LSMs, and was able to do so successfully. So my
hope is that this versioning issue is the same problem afflicting your
setup as well.

Can you please give it a try with the latest Fiji master and let us know
how it goes?

Regards,
Curtis


On Wed, Aug 8, 2012 at 3:33 PM, Stephan Preibisch &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">preibisch at mpi-cbg.de</A>&gt;wrote:

&gt;<i> No, I can only see
</I>&gt;<i>
</I>&gt;<i> jars/
</I>&gt;<i> MD5 (scifio.jar) = 9e101ed5cd590534f74d0001b98c1918
</I>&gt;<i> MD5 (loci-common.jar) = 10d372b14b99965ec8c8f809d5973853
</I>&gt;<i>
</I>&gt;<i> plugins/
</I>&gt;<i> MD5 (loci_plugins.jar) = 9b4a563016f5c2e9e1347a2c969bba05
</I>&gt;<i>
</I>&gt;<i> For some files I get a different error:
</I>&gt;<i> Caused by: java.lang.NoSuchMethodError:
</I>&gt;<i> loci.formats.meta.MetadataStore.setImageObjectiveSettingsID(Ljava/lang/String;I)V
</I>&gt;<i> at
</I>&gt;<i> loci.formats.in.ZeissLSMReader.populateMetadataStore(ZeissLSMReader.java:1249)
</I>&gt;<i>  at loci.formats.in.ZeissLSMReader.initMetadata(ZeissLSMReader.java:1168)
</I>&gt;<i> at loci.formats.in.ZeissLSMReader.initFile(ZeissLSMReader.java:520)
</I>&gt;<i>  at loci.formats.FormatReader.setId(FormatReader.java:1105)
</I>&gt;<i> at loci.plugins.in.ImportProcess.initializeFile(ImportProcess.java:482)
</I>&gt;<i>  at loci.plugins.in.ImportProcess.execute(ImportProcess.java:146)
</I>&gt;<i> at loci.plugins.in.Importer.showDialogs(Importer.java:141)
</I>&gt;<i>  at loci.plugins.in.Importer.run(Importer.java:79)
</I>&gt;<i> at loci.plugins.LociImporter.run(LociImporter.java:81)
</I>&gt;<i> at ij.IJ.runUserPlugIn(IJ.java:185)
</I>&gt;<i>  at ij.IJ.runPlugIn(IJ.java:152)
</I>&gt;<i> ... 8 more
</I>&gt;<i>
</I>&gt;<i> Beanshell reports for:
</I>&gt;<i> print( loci.formats.meta.MetadataStore.class.getResource(
</I>&gt;<i> &quot;/loci/formats/meta/MetadataStore.class&quot; ));
</I>&gt;<i>
</I>&gt;<i> jar:file:/Users/preibischs/workspace/fiji/jars/scifio.jar!/loci/formats/meta/MetadataStore.class
</I>&gt;<i>
</I>&gt;<i> Thanks for looking into it,
</I>&gt;<i> Steffi
</I>&gt;<i>
</I>&gt;<i> On Aug 8, 2012, at 16:22 , Curtis Rueden wrote:
</I>&gt;<i>
</I>&gt;<i> Hi Steffi,
</I>&gt;<i>
</I>&gt;<i> &gt; The same happens when I make a new clone of Fiji ...
</I>&gt;<i>
</I>&gt;<i> I am doing a full build of Fiji to help diagnose.
</I>&gt;<i>
</I>&gt;<i> The problem is certainly that there is a mismatch between JAR versions.
</I>&gt;<i>
</I>&gt;<i> Is there a loci_tools.jar anywhere? If so, delete it. If not, the problem
</I>&gt;<i> must be that an old bio-formats.jar is lying around somewhere&#8212;that stack
</I>&gt;<i> trace indicates an old ZeissLSMReader.
</I>&gt;<i>
</I>&gt;<i> I'll write back with any additional insight after some more testing.
</I>&gt;<i>
</I>&gt;<i> -Curtis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Aug 8, 2012 at 3:20 PM, Stephan Preibisch &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">preibisch at mpi-cbg.de</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> The same happens when I make a new clone of Fiji ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> git clone ...
</I>&gt;&gt;<i> git submoule init modules/imglib (without that Colocalization_Analysis
</I>&gt;&gt;<i> and Fiji does not compile btw)
</I>&gt;&gt;<i> git submodule update
</I>&gt;&gt;<i> Build
</I>&gt;&gt;<i> ImageJ
</I>&gt;&gt;<i> Plugins &gt; LOCI &gt; Import ... choose LSM
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; crash
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Steffi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Aug 8, 2012, at 15:59 , Stephan Preibisch wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Hi guys,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; during the last hour LOCI stopped working on all my machines when I try
</I>&gt;&gt;<i> to open LSM files (Fiji checkout master, Build clean, Build):
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; an example is here: <A HREF="http://fly.mpi-cbg.de/preibisch/nm/HisYFP-SPIM.zip">http://fly.mpi-cbg.de/preibisch/nm/HisYFP-SPIM.zip</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; preibischs-lm1:fiji preibischs$ ./ImageJ
</I>&gt;&gt;<i> &gt; SLF4J: Class path contains multiple SLF4J bindings.
</I>&gt;&gt;<i> &gt; SLF4J: Found binding in
</I>&gt;&gt;<i> [jar:file:/Users/preibischs/workspace/fiji/jars/slf4j-log4j12-1.5.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
</I>&gt;&gt;<i> &gt; SLF4J: Found binding in
</I>&gt;&gt;<i> [jar:file:/Users/preibischs/workspace/fiji/jars/slf4j-log4j12.jar!/org/slf4j/impl/StaticLoggerBinder.class]
</I>&gt;&gt;<i> &gt; SLF4J: See <A HREF="http://www.slf4j.org/codes.html#multiple_bindings">http://www.slf4j.org/codes.html#multiple_bindings</A> for an
</I>&gt;&gt;<i> explanation.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.PovrayReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.IMODReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.OperettaReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.ZeissTIFFReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.HRDGDFReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [ERROR] &quot;loci.formats.in.CanonRawReader&quot; is not valid.
</I>&gt;&gt;<i> &gt; [INFO ] Reading LSM metadata for series #0
</I>&gt;&gt;<i> &gt; java.lang.reflect.InvocationTargetException
</I>&gt;&gt;<i> &gt;       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
</I>&gt;&gt;<i> &gt;       at java.lang.reflect.Method.invoke(Method.java:597)
</I>&gt;&gt;<i> &gt;       at ij.Command.runPlugIn(Command.java:146)
</I>&gt;&gt;<i> &gt;       at ij.Command.runCommand(Command.java:95)
</I>&gt;&gt;<i> &gt;       at ij.Executer.run(Executer.java:64)
</I>&gt;&gt;<i> &gt;       at java.lang.Thread.run(Thread.java:680)
</I>&gt;&gt;<i> &gt; Caused by: java.lang.NoSuchMethodError:
</I>&gt;&gt;<i> loci.formats.meta.MetadataStore.setImageObjectiveSettingsID(Ljava/lang/String;I)V
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> loci.formats.in.ZeissLSMReader.populateMetadataStore(ZeissLSMReader.java:1249)
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> loci.formats.in.ZeissLSMReader.initMetadata(ZeissLSMReader.java:1168)
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> loci.formats.in.ZeissLSMReader.initFile(ZeissLSMReader.java:520)
</I>&gt;&gt;<i> &gt;       at loci.formats.FormatReader.setId(FormatReader.java:1105)
</I>&gt;&gt;<i> &gt;       at
</I>&gt;&gt;<i> loci.plugins.in.ImportProcess.initializeFile(ImportProcess.java:482)
</I>&gt;&gt;<i> &gt;       at loci.plugins.in.ImportProcess.execute(ImportProcess.java:146)
</I>&gt;&gt;<i> &gt;       at loci.plugins.in.Importer.showDialogs(Importer.java:141)
</I>&gt;&gt;<i> &gt;       at loci.plugins.in.Importer.run(Importer.java:79)
</I>&gt;&gt;<i> &gt;       at loci.plugins.LociImporter.run(LociImporter.java:81)
</I>&gt;&gt;<i> &gt;       at ij.IJ.runUserPlugIn(IJ.java:185)
</I>&gt;&gt;<i> &gt;       at ij.IJ.runPlugIn(IJ.java:152)
</I>&gt;&gt;<i> &gt;       ... 8 more
</I>&gt;&gt;<i> &gt; [INFO ] Reading IFDs
</I>&gt;&gt;<i> &gt; [INFO ] Populating metadata
</I>&gt;&gt;<i> &gt; [INFO ] Checking comment style
</I>&gt;&gt;<i> &gt; [INFO ] Populating OME metadata
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I tried replacing scifio, loci_plugins, anything that starts or
</I>&gt;&gt;<i> includes loci with different versions (from the download version of Fiji
</I>&gt;&gt;<i> and an older checkout where it still works) - but it will continue failing.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I was just working on my SPIM code and suddenly it broke upon a ./Build
</I>&gt;&gt;<i> where I changed nothing but my files ...
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Does anybody have a suggestion?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks a lot,
</I>&gt;&gt;<i> &gt; Steffi
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; --
</I>&gt;&gt;<i> &gt; Please avoid top-posting, and please make sure to reply-to-all!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Mailing list web interface: <A HREF="http://groups.google.com/group/fiji-devel">http://groups.google.com/group/fiji-devel</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Please avoid top-posting, and please make sure to reply-to-all!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mailing list web interface: <A HREF="http://groups.google.com/group/fiji-devel">http://groups.google.com/group/fiji-devel</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  --
</I>&gt;<i> Please avoid top-posting, and please make sure to reply-to-all!
</I>&gt;<i>
</I>&gt;<i> Mailing list web interface: <A HREF="http://groups.google.com/group/fiji-devel">http://groups.google.com/group/fiji-devel</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20120808/0eaf64dc/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20120808/0eaf64dc/attachment-0001.html</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001173.html">[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)
</A></li>
	<LI>Next message: <A HREF="001175.html">[ImageJ-devel] [fiji-devel] LOCI fails on current Fiji checkout	(help!!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1174">[ date ]</a>
              <a href="thread.html#1174">[ thread ]</a>
              <a href="subject.html#1174">[ subject ]</a>
              <a href="author.html#1174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
