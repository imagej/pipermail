<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [fiji-devel] Significant change to ImgOpener - or - why ImgOpener.openImg() cannot return a T
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20Significant%20change%20to%20ImgOpener%20-%0A%20or%20-%20why%20ImgOpener.openImg%28%29%20cannot%20return%20a%20T&In-Reply-To=%3C1ab5fa11-e7f9-4d22-b44f-d8f8264a7121%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001148.html">
   <LINK REL="Next"  HREF="001152.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [fiji-devel] Significant change to ImgOpener - or - why ImgOpener.openImg() cannot return a T</H1>
    <B>simon.ochsenreither at googlemail.com</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20Significant%20change%20to%20ImgOpener%20-%0A%20or%20-%20why%20ImgOpener.openImg%28%29%20cannot%20return%20a%20T&In-Reply-To=%3C1ab5fa11-e7f9-4d22-b44f-d8f8264a7121%40googlegroups.com%3E"
       TITLE="[ImageJ-devel] [fiji-devel] Significant change to ImgOpener - or - why ImgOpener.openImg() cannot return a T">simon.ochsenreither at googlemail.com
       </A><BR>
    <I>Wed Aug  1 12:41:07 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001148.html">[ImageJ-devel] [fiji-devel] Significant change to ImgOpener - or - why ImgOpener.openImg() cannot return a T
</A></li>
        <LI>Next message: <A HREF="001152.html">[ImageJ-devel] Basic usage of ImageJ2 libraries in seperate application (Simple display image in JFrame)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1151">[ date ]</a>
              <a href="thread.html#1151">[ thread ]</a>
              <a href="subject.html#1151">[ subject ]</a>
              <a href="author.html#1151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Barry,

Though Lion is instanceof Animal its not the case that Cage&lt;Lion&gt; 
&gt;<i> instanceof Cage&lt;Animal&gt;. This is counterintuitive but many people mention 
</I>&gt;<i> it. 
</I>&gt;<i>
</I>&gt;<i> If it was the case you could write code like this:
</I>&gt;<i>
</I>&gt;<i> Cage&lt;Animal&gt; animals;
</I>&gt;<i> Cage&lt;Lion&gt; lions;
</I>&gt;<i>
</I>&gt;<i> animals = lions; // This assignment is not allowed
</I>&gt;<i>
</I>&gt;<i> animals.add(rat); // If this executed, we'd have a Rat in a Cage&lt;Lion&gt;
</I>&gt;<i>
</I>&gt;<i> Even if you wrote 
</I>
Cage&lt;? extends Animal&gt; animals

It would allow the assignment of lions to animals ...

animals = lions;


... but would still need to disallow the addition of anything under Animal 
(because it is in a contravariant position).
 
That's the reason why in some situations wildcards don't add much benefit 
despite forcing people to write boilerplate.&#185;

The whole situation is made worse by some of the unreadable capture-of 
error messages produced from javac due to use-site variance and wildcards: 
<A HREF="https://gist.github.com/3229086">https://gist.github.com/3229086</A>
(Compare this with the error message from scalac: 
<A HREF="https://gist.github.com/3229104">https://gist.github.com/3229104</A> ... the main issue is that Java code like 
that can sleep in the source code for years until someone tries to use it, 
while in Scala the code is rejected right at the declaration.)

The stuff javac does and sometimes doesn't is sometimes quite unfortunate. 
:<i>-(
</I>
&#185;See also 
<A HREF="http://www.slideshare.net/marakana/effective-java-still-effective-after-all-these-years">http://www.slideshare.net/marakana/effective-java-still-effective-after-all-these-years</A> 
(p. 28)  in which using wildcards for return types is discouraged.

Bye,

Simon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20120801/c8d5fd30/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20120801/c8d5fd30/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001148.html">[ImageJ-devel] [fiji-devel] Significant change to ImgOpener - or - why ImgOpener.openImg() cannot return a T
</A></li>
	<LI>Next message: <A HREF="001152.html">[ImageJ-devel] Basic usage of ImageJ2 libraries in seperate application (Simple display image in JFrame)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1151">[ date ]</a>
              <a href="thread.html#1151">[ thread ]</a>
              <a href="subject.html#1151">[ subject ]</a>
              <a href="author.html#1151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
