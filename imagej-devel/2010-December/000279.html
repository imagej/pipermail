<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] ImageOpener always giving me three channels when these is only one.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageOpener%20always%20giving%20me%20three%20channels%20when%0A%20these%20is%20only%20one.&In-Reply-To=%3Calpine.DEB.1.00.1012131042590.1461%40bonsai2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000278.html">
   <LINK REL="Next"  HREF="000280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] ImageOpener always giving me three channels when these is only one.</H1>
    <B>Johannes Schindelin</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageOpener%20always%20giving%20me%20three%20channels%20when%0A%20these%20is%20only%20one.&In-Reply-To=%3Calpine.DEB.1.00.1012131042590.1461%40bonsai2%3E"
       TITLE="[ImageJ-devel] ImageOpener always giving me three channels when these is only one.">Johannes.Schindelin at gmx.de
       </A><BR>
    <I>Mon Dec 13 03:52:34 CST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000278.html">[ImageJ-devel] ImageOpener always giving me three channels when	these is only one.
</A></li>
        <LI>Next message: <A HREF="000280.html">[ImageJ-devel] ImageOpener always giving me three channels when	these is only one.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, 13 Dec 2010, Gabriel Landini wrote:

&gt;<i> On Sunday 12 December 2010 22:33:55 Curtis Rueden wrote:
</I>&gt;<i> &gt; FYI, ImageJ has a &quot;feature&quot; where if the LUT is totally grayscale, 
</I>&gt;<i> &gt; ImageJ ignores it and declares the file to be a regular 8-bit image, 
</I>&gt;<i> &gt; rather than &quot;RGB color.&quot; Unfortunately, this makes it difficult to 
</I>&gt;<i> &gt; tell if the image has a &quot;hidden&quot; color table. Still, you could 
</I>&gt;<i> &gt; probably eliminate the LUT by resaving as TIFF again from ImageJ.
</I>&gt;<i> 
</I>&gt;<i> Just imagine you are working with an 8 bit image, then you want to see 
</I>&gt;<i> some contrast enhanced and apply a false colour LUT and then go back to 
</I>&gt;<i> the greyscale LUT. If I saved this image which is now greyscale with the 
</I>&gt;<i> grey.lut, would this be re-opened as RGB? Maybe this is not such a good 
</I>&gt;<i> idea.
</I>&gt;<i> 
</I>&gt;<i> I do not know how IJ tests the LUT, but I guess it would be trivial: 
</I>&gt;<i> loop through the 256 entries and see if they are r=g=b in the expected 
</I>&gt;<i> sequential order. If so, then treat as 8bit greyscale image. Checking 
</I>&gt;<i> the table would tell you if there are any hidden colours.
</I>
IMHO an index-color image is _not_ of a numeric type. So to properly 
support index-color images, one would need to make a &quot;CategoricalType&quot; 
that still uses bytes or shorts, but that cannot add/multiply/whatever.

OTOH if the LUT is just a view mode (as it should always be seen in 
scientific imaging), then the LUT is not part of the image and should not 
be saved in the first place. I often catch users insisting on the DAPI 
channel being colored blue, when they should know fully well (because I 
told them) that the DAPI channel is the result of a range of frequencies, 
not blue.

In short: in most cases I hear people want index-color images, it turns 
out that they really want numeric images with lookup tables instead. Since 
we want to analyze the samples of which those images were taken, it is 
really, really important to keep the distinction in mind.

Ciao,
Johannes



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000278.html">[ImageJ-devel] ImageOpener always giving me three channels when	these is only one.
</A></li>
	<LI>Next message: <A HREF="000280.html">[ImageJ-devel] ImageOpener always giving me three channels when	these is only one.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
