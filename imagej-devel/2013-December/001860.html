<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [ome-devel] Make LOCI data browser default IJ /	Fiji viewer ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bome-devel%5D%20Make%20LOCI%20data%20browser%20default%20IJ%20/%0A%09Fiji%20viewer%20%3F&In-Reply-To=%3CCAEpSnnYvXdYBQPet_47VZgE_%2B9cu5zWxo-4AMwPam76bzOO4zQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001859.html">
   <LINK REL="Next"  HREF="001862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [ome-devel] Make LOCI data browser default IJ /	Fiji viewer ?</H1>
    <B>Hadrien Mary</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bome-devel%5D%20Make%20LOCI%20data%20browser%20default%20IJ%20/%0A%09Fiji%20viewer%20%3F&In-Reply-To=%3CCAEpSnnYvXdYBQPet_47VZgE_%2B9cu5zWxo-4AMwPam76bzOO4zQ%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] [ome-devel] Make LOCI data browser default IJ /	Fiji viewer ?">hadrien.mary at gmail.com
       </A><BR>
    <I>Thu Dec 12 14:51:01 CST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001859.html">[ImageJ-devel] [ome-devel] Make LOCI data browser default IJ /	Fiji viewer ?
</A></li>
        <LI>Next message: <A HREF="001862.html">[ImageJ-devel] [ImgLib2] The img-metadata branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1860">[ date ]</a>
              <a href="thread.html#1860">[ thread ]</a>
              <a href="subject.html#1860">[ subject ]</a>
              <a href="author.html#1860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for this detailled answer Curtis !


--
Hadrien Mary

Ph.D student in Biology
Tournier-Gachet Team
CNRS - LBCMCP - UMR 5088

Universit&#233; de Toulouse - B&#226;t. 4R3B1
118, route de Narbonne - 31062 Toulouse


On Thu, Dec 12, 2013 at 9:28 PM, Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A>&gt; wrote:

&gt;<i> Hi Hadrien,
</I>&gt;<i>
</I>&gt;<i> [Cross-posting with imagej-devel since this discussion is relevant there
</I>&gt;<i> too.]
</I>&gt;<i>
</I>&gt;<i> &gt; My problem is when for example I duplicate or make a z projection on
</I>&gt;<i> &gt; an OME Tiff file under data browser, the new viewer will be hyperstack
</I>&gt;<i> &gt; (IJ/Fiji default viewer). However if I export the file with LOCI
</I>&gt;<i> &gt; exporter and then I re open it with LOCI importer I can still have
</I>&gt;<i> &gt; data browser and OME metadata are here as well.
</I>&gt;<i>
</I>&gt;<i> Ah. So at minimum, what you need is a way to wrap an ImageJ hyperstack
</I>&gt;<i> back into a Data Browser window again. You can do that with this Beanshell
</I>&gt;<i> one-liner:
</I>&gt;<i>
</I>&gt;<i>     new loci.plugins.util.DataBrowser(IJ.getImage());
</I>&gt;<i>
</I>&gt;<i> Paste that line into the script editor and save as (e.g.)
</I>&gt;<i> data-browser.bsh. When you run it, the currently active image window will
</I>&gt;<i> be converted to a Data Browser window.
</I>&gt;<i>
</I>&gt;<i> You can even install the script into the menus and map a shortcut key to
</I>&gt;<i> it, although of course that's still not completely automatic. For a totally
</I>&gt;<i> seamless override of the default image viewer you'll have to wait for IJ2.
</I>&gt;<i>
</I>&gt;<i> &gt; It really awesome if you can backport some IJ2 features to Fiji 1
</I>&gt;<i> &gt; since IJ2 won't be released before at least one year from what I
</I>&gt;<i> &gt; saw...
</I>&gt;<i>
</I>&gt;<i> Yes, we are working toward more of a gradual release schedule. Rather than
</I>&gt;<i> releasing &quot;ImageJ2&quot; as one monolithic thing (which it really isn't), we
</I>&gt;<i> want to start integrating the already polished parts of it into Fiji as
</I>&gt;<i> soon as possible. We are currently working on the &quot;legacy&quot; interoperability
</I>&gt;<i> layer to facilitate this.
</I>&gt;<i>
</I>&gt;<i> &gt; are you considering in a mid/long term to merge Fiji/IJ2 ? Does it
</I>&gt;<i> &gt; make really sense to separate both ? I think it would be best for
</I>&gt;<i> &gt; everyone (devs and users) to have only one place for download and
</I>&gt;<i> &gt; development so you would have a better visiblity and it will be much
</I>&gt;<i> &gt; more clear for potential contributors or bug reporters to know where
</I>&gt;<i> &gt; they need to go
</I>&gt;<i>
</I>&gt;<i>  That is essentially what we are doing, yes. ImageJ2 is the core software;
</I>&gt;<i> several parts of Fiji core infrastructure have migrated into ImageJ2. So at
</I>&gt;<i> heart, Fiji is now a big collection of life sciences plugins -- i.e., an
</I>&gt;<i> ImageJ update site. As such, you can currently obtain a working Fiji
</I>&gt;<i> installation by downloading ImageJ2, running the updater, and toggling the
</I>&gt;<i> Fiji update site.
</I>&gt;<i>
</I>&gt;<i> Fiji and ImageJ2 are fundamentally the same software, using the same
</I>&gt;<i> launcher. It's just that if you download &quot;Fiji&quot; and run it, it currently
</I>&gt;<i> starts up in ImageJ1 mode at the moment. But Fiji ships with ImageJ2 and
</I>&gt;<i> you can launch it in that mode instead if you prefer -- or switch to
</I>&gt;<i> ImageJ2 mode after launching using the &quot;Switch to Modern Mode&quot; command
</I>&gt;<i> under the Help menu.
</I>&gt;<i>
</I>&gt;<i> Ultimately, we probably do not want to get rid of the two distinct web
</I>&gt;<i> sites and project names though, since people are familiar with both. That
</I>&gt;<i> said, we are integrating resources when feasible: e.g., wiki.imagej.netand
</I>&gt;<i> fiji.sc are really both the same wiki with a different skin, to make
</I>&gt;<i> cross-linking more seamless. But we want to ensure it is clear that ImageJ2
</I>&gt;<i> is not a life-sciences-specific project, whereas Fiji is. Historically,
</I>&gt;<i> because Fiji has a life sciences focus, there have been some users who
</I>&gt;<i> refused to switch from vanilla ImageJ1 to Fiji even though Fiji makes
</I>&gt;<i> users' lives easier in lots of ways.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Curtis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Dec 11, 2013 at 3:41 PM, Hadrien Mary &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">hadrien.mary at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Thansk for the answer Curtis !o
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's my fault because I didn't explain entirely the issue but I already
</I>&gt;&gt;<i> knew all these behaviours. My problem is when for example I duplicate or
</I>&gt;&gt;<i> make a z projection on an OME Tiff file under data browser, the new viewer
</I>&gt;&gt;<i> will be hyperstack (IJ/Fiji default viewer). However if I export the file
</I>&gt;&gt;<i> with LOCI exporter and then I re open it with LOCI importer I can still
</I>&gt;&gt;<i> have data browser and OME metadata are here as well.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway I now understand all IJ1 core limitations and I guess this problem
</I>&gt;&gt;<i> is also due to IJ1 and so I will wait for IJ2. It really awesome if you can
</I>&gt;&gt;<i> backport some IJ2 features to Fiji 1 since IJ2 won't be released before at
</I>&gt;&gt;<i> least one year from what I saw...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> PS: quick question to end: are you considering in a mid/long term to
</I>&gt;&gt;<i> merge Fiji/IJ2 ? Does it make really sense to separate both ? I think it
</I>&gt;&gt;<i> would be best for everyone (devs and users) to have only one place for
</I>&gt;&gt;<i> download and development so you would have a better visiblity and it will
</I>&gt;&gt;<i> be much more clear for potential contributors or bug reporters to know
</I>&gt;&gt;<i> where they need to go... I am sure you already think about all of that, so
</I>&gt;&gt;<i> I am sorry if my question is naive but I didn't find any informations on
</I>&gt;&gt;<i> the web.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Hadrien Mary
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ph.D student in Biology
</I>&gt;&gt;<i> Tournier-Gachet Team
</I>&gt;&gt;<i> CNRS - LBCMCP - UMR 5088
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Universit&#233; de Toulouse - B&#226;t. 4R3B1
</I>&gt;&gt;<i> 118, route de Narbonne - 31062 Toulouse
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Dec 11, 2013 at 10:26 PM, Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A>&gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi Hadrien,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &gt; Is there is a way to make LOCI data browser the default viewer on IJ /
</I>&gt;&gt;&gt;<i> &gt; Fiji ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sort of. The Bio-Formats Importer dialog will remember that you selected
</I>&gt;&gt;&gt;<i> the Data Browser as your stack viewer, and hence it will be initially
</I>&gt;&gt;&gt;<i> selected upon subsequent calls to the Importer.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> However, when using the File &gt; Open command, ImageJ only calls
</I>&gt;&gt;&gt;<i> Bio-Formats in certain cases. The rule of thumb is: if the format is one
</I>&gt;&gt;&gt;<i> that only Bio-Formats knows how to handle, Bio-Formats will be called. If
</I>&gt;&gt;&gt;<i> not, ImageJ will handle it internally, or with a different plugin. This
</I>&gt;&gt;&gt;<i> behavior is not configurable.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> So, if ImageJ does not call Bio-Formats (which it won't when opening
</I>&gt;&gt;&gt;<i> e.g. a TIFF file), you will not end up with the Data Browser viewer.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &gt; Or at least use LOCI data browser when an OME Tiff file is detected ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Unfortunately, because OME-TIFF files end with the .ome.tif (or
</I>&gt;&gt;&gt;<i> .ome.tiff) extension, ImageJ will prefer its own internal TIFF reader to
</I>&gt;&gt;&gt;<i> Bio-Formats, even though its own internal reader does not actually support
</I>&gt;&gt;&gt;<i> OME-TIFF's metadata.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Your options are either: A) open the file using File &gt; Import &gt;
</I>&gt;&gt;&gt;<i> Bio-Formats rather than File &gt; Open; or B) run Plugins &gt; LOCI &gt; LOCI
</I>&gt;&gt;&gt;<i> Plugins Shortcut Window and then drag-and-drop your OME-TIFF files onto
</I>&gt;&gt;&gt;<i> that window.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;<i> Curtis
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> P.S. We have solved this problem in ImageJ2, thanks to its improved
</I>&gt;&gt;&gt;<i> plugin framework and use of the extensible SCIFIO image I/O library. We are
</I>&gt;&gt;&gt;<i> also planning to retrofit SCIFIO into Fiji in ImageJ 1.x mode, to address
</I>&gt;&gt;&gt;<i> this problem there, too.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Wed, Dec 11, 2013 at 1:29 PM, Hadrien Mary &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">hadrien.mary at gmail.com</A>&gt;wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Is there is a way to make LOCI data browser the default viewer on IJ /
</I>&gt;&gt;&gt;&gt;<i> Fiji ? Or at least use LOCI data browser when an OME Tiff file is detected ?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Best,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;<i> Hadrien Mary
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Ph.D student in Biology
</I>&gt;&gt;&gt;&gt;<i> Tournier-Gachet Team
</I>&gt;&gt;&gt;&gt;<i> CNRS - LBCMCP - UMR 5088
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Universit&#233; de Toulouse - B&#226;t. 4R3B1
</I>&gt;&gt;&gt;&gt;<i> 118, route de Narbonne - 31062 Toulouse
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> ome-devel mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ome-devel at lists.openmicroscopy.org.uk</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel">http://lists.openmicroscopy.org.uk/mailman/listinfo/ome-devel</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20131212/a3f1d706/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20131212/a3f1d706/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001859.html">[ImageJ-devel] [ome-devel] Make LOCI data browser default IJ /	Fiji viewer ?
</A></li>
	<LI>Next message: <A HREF="001862.html">[ImageJ-devel] [ImgLib2] The img-metadata branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1860">[ date ]</a>
              <a href="thread.html#1860">[ thread ]</a>
              <a href="subject.html#1860">[ subject ]</a>
              <a href="author.html#1860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
