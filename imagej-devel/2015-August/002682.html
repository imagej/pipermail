<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Scripts calling scripts with @Parameters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Scripts%20calling%20scripts%20with%20%40Parameters&In-Reply-To=%3CCADN69ymwRU1eb5Jv2irFmxa9fWkz_nJvPWS4b20K1%2BVOzO9DXQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002680.html">
   <LINK REL="Next"  HREF="002683.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Scripts calling scripts with @Parameters</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Scripts%20calling%20scripts%20with%20%40Parameters&In-Reply-To=%3CCADN69ymwRU1eb5Jv2irFmxa9fWkz_nJvPWS4b20K1%2BVOzO9DXQ%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] Scripts calling scripts with @Parameters">ctrueden at wisc.edu
       </A><BR>
    <I>Wed Aug 26 17:16:59 CDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002680.html">[ImageJ-devel] Scripts calling scripts with @Parameters
</A></li>
        <LI>Next message: <A HREF="002683.html">[ImageJ-devel] Scripts calling scripts with @Parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2682">[ date ]</a>
              <a href="thread.html#2682">[ thread ]</a>
              <a href="subject.html#2682">[ subject ]</a>
              <a href="author.html#2682">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jan,

&gt;<i> Is there a way to configure an ImagePlus (or Dataset or File) in this
</I>&gt;<i> case?
</I>
Thanks for reporting this issue!

It is (partially) fixed in:
<A HREF="https://github.com/imagej/imagej-legacy/commit/8cc4e7f37777bfe4d391e147d515238a8d0eaa23">https://github.com/imagej/imagej-legacy/commit/8cc4e7f37777bfe4d391e147d515238a8d0eaa23</A>

At the moment, you will have to write:

  imp=blobs.gif

Or:

  imp=-2

(where -2 is the image ID you want)

instead of the string generated by the recorder.

I guess we could make that string (which is what ImagePlus.toString()
produces, probably) work as well, if you feel strongly. Though IMO it just
clutters the macro.

Regards,
Curtis

On Wed, Aug 26, 2015 at 9:46 AM, Jan Eglinger &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">jan.eglinger at gmail.com</A>&gt;
wrote:

&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> how can I call a script using @Parameters (e.g. @ij.ImagePlus) from
</I>&gt;<i> another script? Is this possible already?
</I>&gt;<i>
</I>&gt;<i> I tried the following Javascript:
</I>&gt;<i>
</I>&gt;<i>     // @ij.ImagePlus imp
</I>&gt;<i>     // @String name
</I>&gt;<i>     // @OUTPUT String result
</I>&gt;<i>
</I>&gt;<i>     result = &quot;Hello, &quot; + name + &quot;, the title is &quot; + imp.getTitle();
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> and saved it into ./plugins/Print_Title.js
</I>&gt;<i> When I run it, the macro recorder records something like:
</I>&gt;<i>
</I>&gt;<i>     IJ.run(imp, &quot;Print Title&quot;, &quot;imp=[img[blobs.gif (256x254x1x1x1)]]
</I>&gt;<i> name=Jan&quot;);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When I now run this (Beanshell) script (with blobs.gif still open):
</I>&gt;<i>
</I>&gt;<i>     import ij.IJ;
</I>&gt;<i>
</I>&gt;<i>     imp = IJ.getImage();
</I>&gt;<i>     IJ.run(imp, &quot;Print Title&quot;, &quot;imp=[img[blobs.gif (256x254x1x1x1)]]
</I>&gt;<i> name=Jan&quot;);
</I>&gt;<i>
</I>&gt;<i> the String is initialized correctly, but `imp` seems to be `null`.
</I>&gt;<i> (Leaving away the imp=.. yields an error &quot;'imp' is required but unset.&quot;)
</I>&gt;<i>
</I>&gt;<i> Is there a way to configure an ImagePlus (or Dataset or File) in this case?
</I>&gt;<i>
</I>&gt;<i> Thx,
</I>&gt;<i> Jan
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ImageJ-devel mailing list
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagej.net</A>
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">http://imagej.net/mailman/listinfo/imagej-devel</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20150826/8ddb3200/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20150826/8ddb3200/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002680.html">[ImageJ-devel] Scripts calling scripts with @Parameters
</A></li>
	<LI>Next message: <A HREF="002683.html">[ImageJ-devel] Scripts calling scripts with @Parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2682">[ date ]</a>
              <a href="thread.html#2682">[ thread ]</a>
              <a href="subject.html#2682">[ subject ]</a>
              <a href="author.html#2682">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
