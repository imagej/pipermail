<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Calibration bug when rotating an image by 90&#176;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%0A%09%3D%3Fiso-8859-1%3Fq%3FCalibration_bug_when_rotating_an_im%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fage_by_90%3DB0%3F%3D&In-Reply-To=%3CCAKcvfuTr_CeUseYbkArbESQ7tre0gsOyWF0%3DGp8piLxeUDbfoQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001452.html">
   <LINK REL="Next"  HREF="001455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Calibration bug when rotating an image by 90&#176;</H1>
    <B>Barry DeZonia</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%0A%09%3D%3Fiso-8859-1%3Fq%3FCalibration_bug_when_rotating_an_im%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fage_by_90%3DB0%3F%3D&In-Reply-To=%3CCAKcvfuTr_CeUseYbkArbESQ7tre0gsOyWF0%3DGp8piLxeUDbfoQ%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] Calibration bug when rotating an image by 90&#176;">bdezonia at gmail.com
       </A><BR>
    <I>Thu Mar 21 16:21:03 CDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001452.html">[ImageJ-devel] Calibration bug when rotating an image by 90&#176;
</A></li>
        <LI>Next message: <A HREF="001455.html">[ImageJ-devel] Calibration bug when rotating an image by 90&#176;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1454">[ date ]</a>
              <a href="thread.html#1454">[ thread ]</a>
              <a href="subject.html#1454">[ subject ]</a>
              <a href="author.html#1454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

This is the email list for ImageJ2 development. We are happy to help people
with issues with ImageJ1 here as well when we can. But in general questions
pertaining to ImageJ1 are best directed to the ImageJ1 mailing list (
<A HREF="http://rsbweb.nih.gov/ij/list.html">http://rsbweb.nih.gov/ij/list.html</A>) as it will get read by many more people.

In this case I think you want the ImageJ1 code changed which is something
we don't have the access to do. You should bring your issue to the
attention of the primary ImageJ1 developer Wayne Rasband by posting your
question on the list I've referenced above.


On Thu, Mar 21, 2013 at 4:45 AM, Michael Epping &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">m.epping at arcor.de</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i> I hope this is the right address to report a small bug.
</I>&gt;<i>
</I>&gt;<i> Problem:
</I>&gt;<i> I use the calibration &quot;Origin (pixels)&quot; with different values for x and y.
</I>&gt;<i> When I rotate an image by 90&#176;, pixel width and pixel height are swapped as
</I>&gt;<i> expected. But the origin stays the same.
</I>&gt;<i> The attached code shows that only cal.pixelWidth and cal.pixelHeight are
</I>&gt;<i> swapped but not cal.xOrigin and cal.yOrigin.
</I>&gt;<i>
</I>&gt;<i> Code:
</I>&gt;<i> ij.plugin.filter.Transformer
</I>&gt;<i>
</I>&gt;<i> public void run(ImageProcessor ip) {
</I>&gt;<i>         if (arg.equals(&quot;fliph&quot;)) {
</I>&gt;<i>             ip.flipHorizontal();
</I>&gt;<i>             return;
</I>&gt;<i>         }
</I>&gt;<i>         if (arg.equals(&quot;flipv&quot;)) {
</I>&gt;<i>             ip.flipVertical();
</I>&gt;<i>             return;
</I>&gt;<i>         }
</I>&gt;<i>         if (arg.equals(&quot;right&quot;) || arg.equals(&quot;left&quot;)) {
</I>&gt;<i>             StackProcessor sp = new StackProcessor(imp.getStack(), ip);
</I>&gt;<i>             ImageStack s2 = null;
</I>&gt;<i>             if (arg.equals(&quot;right&quot;))
</I>&gt;<i>                 s2 = sp.rotateRight();
</I>&gt;<i>             else
</I>&gt;<i>                 s2 = sp.rotateLeft();
</I>&gt;<i>             Calibration cal = imp.getCalibration();
</I>&gt;<i>             imp.setStack(null, s2);
</I>&gt;<i>             double pixelWidth = cal.pixelWidth;
</I>&gt;<i>             cal.pixelWidth = cal.pixelHeight;
</I>&gt;<i>             cal.pixelHeight = pixelWidth;
</I>&gt;<i>             return;
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> ImageJ-devel mailing list
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagej.net</A>
</I>&gt;<i> <A HREF="http://imagej.net/mailman/**listinfo/imagej-devel&lt;http://imagej.net/mailman/listinfo/imagej-devel">http://imagej.net/mailman/**listinfo/imagej-devel&lt;http://imagej.net/mailman/listinfo/imagej-devel</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20130321/f352b482/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20130321/f352b482/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001452.html">[ImageJ-devel] Calibration bug when rotating an image by 90&#176;
</A></li>
	<LI>Next message: <A HREF="001455.html">[ImageJ-devel] Calibration bug when rotating an image by 90&#176;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1454">[ date ]</a>
              <a href="thread.html#1454">[ thread ]</a>
              <a href="subject.html#1454">[ subject ]</a>
              <a href="author.html#1454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
