<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] What do I need to add to my NetBeans ImgLib2	project to open a TIFF file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20What%20do%20I%20need%20to%20add%20to%20my%20NetBeans%20ImgLib2%0A%09project%20to%20open%20a%20TIFF%20file&In-Reply-To=%3C5736CE7F-98EF-463B-BD5D-A50361067EF2%40dsuk.biz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002332.html">
   <LINK REL="Next"  HREF="002345.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] What do I need to add to my NetBeans ImgLib2	project to open a TIFF file</H1>
    <B>Michael Ellis</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20What%20do%20I%20need%20to%20add%20to%20my%20NetBeans%20ImgLib2%0A%09project%20to%20open%20a%20TIFF%20file&In-Reply-To=%3C5736CE7F-98EF-463B-BD5D-A50361067EF2%40dsuk.biz%3E"
       TITLE="[ImageJ-devel] What do I need to add to my NetBeans ImgLib2	project to open a TIFF file">michael.ellis at dsuk.biz
       </A><BR>
    <I>Fri Dec  5 06:07:17 CST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002332.html">[ImageJ-devel] What do I need to add to my NetBeans ImgLib2 project to open a TIFF file
</A></li>
        <LI>Next message: <A HREF="002345.html">[ImageJ-devel] What do I need to add to my NetBeans ImgLib2 project to open a TIFF file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2336">[ date ]</a>
              <a href="thread.html#2336">[ thread ]</a>
              <a href="subject.html#2336">[ subject ]</a>
              <a href="author.html#2336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have followed the advice offered by Curtis regarding adding the io.scif: scifio dependency to my POM

The dependency part of my POM looks like this:

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;net.imglib2&lt;/groupId&gt;
            &lt;artifactId&gt;imglib2&lt;/artifactId&gt;
            &lt;version&gt;2.2.1-SNAPSHOT&lt;/version&gt;
            &lt;type&gt;jar&lt;/type&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.scif&lt;/groupId&gt;
            &lt;artifactId&gt;scifio&lt;/artifactId&gt;
            &lt;version&gt;0.17.1&lt;/version&gt;
            &lt;type&gt;jar&lt;/type&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

I am using NetBeans IDE, configured for use with maven project (I am slo using Java 8 and JavaFX)

However when I attempt to Build (or Build with Dependencies)  within NetBeans, I get the following error message:
============================================================

cd /Users/michaelellis/Documents/Development/MavenImgLib2FX; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home &quot;/Applications/NetBeans/NetBeans 8.0.app/Contents/Resources/NetBeans/java/maven/bin/mvn&quot; install
Scanning for projects...
                                                                        
------------------------------------------------------------------------
Building MavenImgLib2FX 1.0-SNAPSHOT
------------------------------------------------------------------------
The POM for io.scif:scifio:jar:0.17.1 is missing, no dependency information available
------------------------------------------------------------------------
BUILD FAILURE
------------------------------------------------------------------------
Total time: 0.341s
Finished at: Fri Dec 05 10:34:41 GMT 2014
Final Memory: 7M/245M
------------------------------------------------------------------------
Failed to execute goal on project MavenImgLib2FX: Could not resolve dependencies for project biz.dsuk:MavenImgLib2FX:jar:1.0-SNAPSHOT: Failure to find io.scif:scifio:jar:0.17.1 in <A HREF="http://repo.maven.apache.org/maven2">http://repo.maven.apache.org/maven2</A> was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]

To see the full stack trace of the errors, re-run Maven with the -e switch.
Re-run Maven using the -X switch to enable full debug logging.

For more information about the errors and possible solutions, please read the following articles:
[Help 1] <A HREF="http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException">http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</A>

============================================================

If I open a terminal window and cd into the project directory and:

	mvn clean package

It succeeds.

However, when I then attempt to run the project with:

	java -cp MavenImgLib2FX-1.0-SNAPSHOT.jar biz.dsuk.mavenimglib2fx.MainApp

The application starts to execute but throws &#8220;No compatible service: io.scif.SCIFIOService&#8221; exception.
============================================================

img1=CellImg [20x30]
BufferedImage=<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">BufferedImage at 3137c585</A>: type = 10 ColorModel: #pixelBits = 8 numComponents = 1 color space = <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">java.awt.color.ICC_ColorSpace at 134d9d5f</A> transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 707 height = 699 #numDataElements 1 dataOff[0] = 0
Loading image...
Exception in Application start method
java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:363)
	at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:303)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)
Caused by: java.lang.RuntimeException: Exception in Application start method
	at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:875)
	at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$150(LauncherImpl.java:157)
	at com.sun.javafx.application.LauncherImpl$$Lambda$50/553264065.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: No compatible service: io.scif.SCIFIOService
	at org.scijava.service.ServiceHelper.loadService(ServiceHelper.java:243)
	at org.scijava.service.ServiceHelper.loadService(ServiceHelper.java:194)
	at org.scijava.service.ServiceHelper.loadServices(ServiceHelper.java:170)
	at org.scijava.Context.&lt;init&gt;(Context.java:244)
	at org.scijava.Context.&lt;init&gt;(Context.java:203)
	at org.scijava.Context.&lt;init&gt;(Context.java:142)
	at org.scijava.Context.&lt;init&gt;(Context.java:128)
	at io.scif.SCIFIO.&lt;init&gt;(SCIFIO.java:81)
	at biz.dsuk.mavenimglib2fx.MainApp.start(MainApp.java:38)
	at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$156(LauncherImpl.java:821)
	at com.sun.javafx.application.LauncherImpl$$Lambda$53/681110827.run(Unknown Source)
	at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$169(PlatformImpl.java:326)
	at com.sun.javafx.application.PlatformImpl$$Lambda$47/693632176.run(Unknown Source)
	at com.sun.javafx.application.PlatformImpl.lambda$null$167(PlatformImpl.java:295)
	at com.sun.javafx.application.PlatformImpl$$Lambda$49/1260282780.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$168(PlatformImpl.java:294)
	at com.sun.javafx.application.PlatformImpl$$Lambda$48/1364335809.run(Unknown Source)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
Exception running application biz.dsuk.mavenimglib2fx.MainApp
============================================================

If I remove the calls to the SCIO code and build and run from the command line, all works well.

The SCIO source code that I am using is lifted/amended from one of the tutorials and is as follows:

============================================================
            imagePath = &quot;8bit-signed&amp;pixelType=int8&amp;lengths=50,50,3,5,7&amp;axes=X,Y,Z,Channel,Time.fake&quot;;
            System.out.println(&quot;Loading image... '&quot; + imagePath + &quot;'&quot;);
            SCIFIO scifio = new SCIFIO();
            final Reader reader = scifio.initializer().initializeReader(imagePath);
============================================================

This source code works file in the SCIFIO tutorial.

Any help gratefully appreciated!!!!!

&#8212; Michael Ellis




On 3 Dec 2014, at 19:31, Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at WISC.EDU</A>&gt; wrote:

&gt;<i> Hi Michael,
</I>&gt;<i> 
</I>&gt;<i> &gt; How do I establish what Maven projects I need to include? 
</I>&gt;<i> 
</I>&gt;<i> One way to check is using the dependency-maven-plugin like so:
</I>&gt;<i> 
</I>&gt;<i>     mvn dependency:analyze
</I>&gt;<i> 
</I>&gt;<i> This will tell you:
</I>&gt;<i> 
</I>&gt;<i> A) Dependencies you declared but do not actually use; and
</I>&gt;<i> B) Dependencies you did not declare directly, but actually need.
</I>&gt;<i> 
</I>&gt;<i> Note that this will only work if your project compiles successfully. In other words, it is easier to start with &quot;too many&quot; dependencies and pare down, rather than trying to &quot;build up&quot; from zero.
</I>&gt;<i> 
</I>&gt;<i> So in your case, you can start with the ImgLib2 Examples dependencies block, run dependency:analyze, and adjust the POM according to its recommendations.
</I>&gt;<i> 
</I>&gt;<i> &gt; When I go to my NetBeans project dependence, select Add dependency,
</I>&gt;<i> &gt; then type SCIF to the query text box, I get a huge list of
</I>&gt;<i> &gt; possibilities.
</I>&gt;<i> 
</I>&gt;<i> The dependency you probably want is io.scif:scifio (i.e.: a groupId of io.scif, and an artifactId of scifio). Presumably at the latest version. You can search for that here:
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://maven.imagej.net/index.html#nexus-search;gav~io.scif~scifio~~~">http://maven.imagej.net/index.html#nexus-search;gav~io.scif~scifio~~~</A>
</I>&gt;<i> 
</I>&gt;<i> So your dependency block in this case would be:
</I>&gt;<i> 
</I>&gt;<i>     &lt;dependency&gt;
</I>&gt;<i>       &lt;groupId&gt;io.scif&lt;/groupId&gt;
</I>&gt;<i>       &lt;artifactId&gt;scifio&lt;/artifactId&gt;
</I>&gt;<i>       &lt;version&gt;0.17.1&lt;/version&gt;
</I>&gt;<i>     &lt;/dependency&gt;
</I>&gt;<i> 
</I>&gt;<i> Note that that block of XML is available for copy-pasting from the link above.
</I>&gt;<i> 
</I>&gt;<i> &gt; I am completely new to maven
</I>&gt;<i> 
</I>&gt;<i> For more information, see:
</I>&gt;<i>     <A HREF="http://imagej.net/Maven">http://imagej.net/Maven</A>
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Curtis
</I>&gt;<i> 
</I>&gt;<i> On Tue, Dec 2, 2014 at 6:05 PM, Michael Ellis &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">michael.ellis at dsuk.biz</A>&gt; wrote:
</I>&gt;<i> I am investigating the using ImgLib2 for a project.
</I>&gt;<i> 
</I>&gt;<i> I am using NetBeans and have managed to create a NetBeans Mavern project and have  added a dependency for ImgLib2 Core Library and that seems to be working OK.
</I>&gt;<i> 
</I>&gt;<i> I now want to add the least possible requirements for the purpose of opening some image files.
</I>&gt;<i> 
</I>&gt;<i> How do I establish what Maven projects I need to include? 
</I>&gt;<i> 
</I>&gt;<i> I have cloned  the ImgLib2 Examples project and got that working but that seems to include all manner of things that I suspect I do not need.
</I>&gt;<i> 
</I>&gt;<i> When I go to my NetBeans project dependence, select Add dependency, then type SCIF to the query text box, I get a huge list of possibilities.
</I>&gt;<i> 
</I>&gt;<i> I am completely new to maven and so do not know what I am doing with it!
</I>&gt;<i> 
</I>&gt;<i> &#8212; Michael Ellis
</I>&gt;<i> Digital Scientific UK Ltd.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ImageJ-devel mailing list
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagej.net</A>
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">http://imagej.net/mailman/listinfo/imagej-devel</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20141205/ca8e5fb4/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20141205/ca8e5fb4/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002332.html">[ImageJ-devel] What do I need to add to my NetBeans ImgLib2 project to open a TIFF file
</A></li>
	<LI>Next message: <A HREF="002345.html">[ImageJ-devel] What do I need to add to my NetBeans ImgLib2 project to open a TIFF file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2336">[ date ]</a>
              <a href="thread.html#2336">[ thread ]</a>
              <a href="subject.html#2336">[ subject ]</a>
              <a href="author.html#2336">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
