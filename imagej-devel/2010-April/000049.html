<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [fiji-devel] JUnit tests,	was Re: when to close cursors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20JUnit%20tests%2C%0A%09was%20Re%3A%20when%20to%20close%20cursors&In-Reply-To=%3Cx2x857a86451004151050tf414819m58d3da3ccfac132%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000042.html">
   <LINK REL="Next"  HREF="000043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [fiji-devel] JUnit tests,	was Re: when to close cursors</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20JUnit%20tests%2C%0A%09was%20Re%3A%20when%20to%20close%20cursors&In-Reply-To=%3Cx2x857a86451004151050tf414819m58d3da3ccfac132%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] [fiji-devel] JUnit tests,	was Re: when to close cursors">ctrueden at wisc.edu
       </A><BR>
    <I>Thu Apr 15 12:50:24 CDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000042.html">[ImageJ-devel] JUnit tests, was Re: when to close cursors
</A></li>
        <LI>Next message: <A HREF="000043.html">[ImageJ-devel] when to close cursors,	was Re: [fiji-devel] imglib coding style
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Johannes,

Great, thanks for this. Rick, please take a look at this code before
beginning work on the imglib unit tests, as it looks like a good starting
point.

-Curtis

On Wed, Apr 14, 2010 at 6:37 PM, Johannes Schindelin &lt;
<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">Johannes.Schindelin at gmx.de</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Thu, 15 Apr 2010, Stephan Saalfeld wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Cursor.hasNext() == false does not mean that the cursor is out of image
</I>&gt;<i> &gt; bounds and, depending on the container may still point to some data.
</I>&gt;<i> &gt; Image keeping track of its cursors, it is good to close them for freeing
</I>&gt;<i> &gt; this data.  Currently, this is important in cell containers only.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think that the recent design changes regarding data access make this
</I>&gt;<i> &gt; tracking of cursors obsolete and so Cursor.close() too.  A good hint is
</I>&gt;<i> &gt; that Image.removeCursor() is just never called.  But I am very tired and
</I>&gt;<i> &gt; have to check this.
</I>&gt;<i>
</I>&gt;<i> Well, for the moment, I just played it safe. Please check out the
</I>&gt;<i> junit-tests branch (based on master~2, so it will need adjusting once the
</I>&gt;<i> huge changes of containerlevel come in).
</I>&gt;<i>
</I>&gt;<i> I know that I have to add a few comments, but I just spent almost 2 hours
</I>&gt;<i> to hunt down a bug that I introduced in Fiji's javac 3 weeks ago, so I am
</I>&gt;<i> thoroughly tired.
</I>&gt;<i>
</I>&gt;<i> The current version of the tests is here:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://pacific.mpi-cbg.de/cgi-bin/gitweb.cgi?p=imglib.git;a=commitdiff;h=fd8eb4b6a9ad62d4103d36017d9da7ff8f4fedae">http://pacific.mpi-cbg.de/cgi-bin/gitweb.cgi?p=imglib.git;a=commitdiff;h=fd8eb4b6a9ad62d4103d36017d9da7ff8f4fedae</A>
</I>&gt;<i>
</I>&gt;<i> The idea is to have a few helper methods in TestBase which can
</I>&gt;<i>
</I>&gt;<i> - construct images algorithmically
</I>&gt;<i> - compare images to some calculated values
</I>&gt;<i> - compare &quot;signatures&quot;, i.e. first and second order moments of intensity
</I>&gt;<i>  and coordinates.
</I>&gt;<i>
</I>&gt;<i> Obviously, I want to avoid large test images in the repository, and I want
</I>&gt;<i> to make it very simple to add tests, because we need them.
</I>&gt;<i>
</I>&gt;<i> Ciao,
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> You received this message because you are subscribed to the Google Groups
</I>&gt;<i> &quot;Fiji-devel&quot; group.
</I>&gt;<i> To post to this group, send email to <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">fiji-devel at googlegroups.com.</A>
</I>&gt;<i> To unsubscribe from this group, send email to
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">fiji-devel+unsubscribe at googlegroups.com</A>&lt;fiji-devel%<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">2Bunsubscribe at googlegroups.com</A>&gt;
</I>&gt;<i> .
</I>&gt;<i> For more options, visit this group at
</I>&gt;<i> <A HREF="http://groups.google.com/group/fiji-devel?hl=en.">http://groups.google.com/group/fiji-devel?hl=en.</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20100415/6323fb55/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20100415/6323fb55/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000042.html">[ImageJ-devel] JUnit tests, was Re: when to close cursors
</A></li>
	<LI>Next message: <A HREF="000043.html">[ImageJ-devel] when to close cursors,	was Re: [fiji-devel] imglib coding style
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
