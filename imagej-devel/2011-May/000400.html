<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] @Parameter fields - don't make them final
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%40Parameter%20fields%20-%20don%27t%20make%20them%20final&In-Reply-To=%3CBANLkTinw5KbiYMFnrR%2BGO3r1G6b0xy%2B7UQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000399.html">
   <LINK REL="Next"  HREF="000401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] @Parameter fields - don't make them final</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%40Parameter%20fields%20-%20don%27t%20make%20them%20final&In-Reply-To=%3CBANLkTinw5KbiYMFnrR%2BGO3r1G6b0xy%2B7UQ%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] @Parameter fields - don't make them final">ctrueden at wisc.edu
       </A><BR>
    <I>Tue May 24 17:23:41 CDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000399.html">[ImageJ-devel] @Parameter fields - don't make them final
</A></li>
        <LI>Next message: <A HREF="000401.html">[ImageJ-devel] @Parameter fields - don't make them final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Grant,

I fixed GradientImage in r2956. If you notice any others, please fix and
commit.

The problem is that I frequently use the command &quot;Clean up&quot; in Eclipse which
formats source code according to our conventions. One of the things it does
is add final where possible, which normally is very nice, but in this one
case causes problems. A workaround might be to add methods such as
&quot;setWidth(int)&quot; and &quot;setHeight(int)&quot; to GradientImage so that the parameters
cannot legally be final.

-Curtis

On Tue, May 24, 2011 at 5:07 PM, Grant B. Harris &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">gharris at mbl.edu</A>&gt; wrote:

&gt;<i> I discovered the hard way - don't declare @Parameter fields final.
</I>&gt;<i>
</I>&gt;<i> In the GradientImage plugin, the width and height are declared thus:
</I>&gt;<i>    @Parameter(min = &quot;1&quot;)
</I>&gt;<i>    private final int width = 512;
</I>&gt;<i>
</I>&gt;<i>    @Parameter(min = &quot;1&quot;)
</I>&gt;<i>    private final int height = 512;
</I>&gt;<i>
</I>&gt;<i> The input dialog gives you two spinners to change these values.  It even
</I>&gt;<i> remembers the last values input.  But then the plugin uses the initial final
</I>&gt;<i> values set when declared... which makes sense.  But the input dialog does
</I>&gt;<i> not recognize, and there are not warnings that the inputs will be ignored.
</I>&gt;<i>
</I>&gt;<i> So, if you really want the user to be able to change a parameter, best to
</I>&gt;<i> not final !
</I>&gt;<i>
</I>&gt;<i> -- Grant
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> ImageJ-devel mailing list
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagejdev.org</A>
</I>&gt;<i> <A HREF="http://imagejdev.org/mailman/listinfo/imagej-devel">http://imagejdev.org/mailman/listinfo/imagej-devel</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20110524/313e92f3/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20110524/313e92f3/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000399.html">[ImageJ-devel] @Parameter fields - don't make them final
</A></li>
	<LI>Next message: <A HREF="000401.html">[ImageJ-devel] @Parameter fields - don't make them final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
