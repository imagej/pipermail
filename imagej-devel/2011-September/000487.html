<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Progress on the Beanshell/macro front
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Progress%20on%20the%20Beanshell/macro%20front&In-Reply-To=%3Calpine.DEB.1.00.1109140753240.11785%40s15462909.onlinehome-server.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000486.html">
   <LINK REL="Next"  HREF="000488.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Progress on the Beanshell/macro front</H1>
    <B>Johannes Schindelin</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Progress%20on%20the%20Beanshell/macro%20front&In-Reply-To=%3Calpine.DEB.1.00.1109140753240.11785%40s15462909.onlinehome-server.info%3E"
       TITLE="[ImageJ-devel] Progress on the Beanshell/macro front">schindelin at wisc.edu
       </A><BR>
    <I>Wed Sep 14 01:09:46 CDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000486.html">[ImageJ-devel] Updates on the script front
</A></li>
        <LI>Next message: <A HREF="000488.html">[ImageJ-devel] Progress on the Beanshell/macro front
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#487">[ date ]</a>
              <a href="thread.html#487">[ thread ]</a>
              <a href="subject.html#487">[ subject ]</a>
              <a href="author.html#487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

I now have a proof-of concept of the Macro interpreter based on Beanshell. 
Note: it only supports the getDimensions() function for now. As described 
earlier, the problem is that that function takes possibly 
uninitialized variables by reference rather than values, which is fully 
out of line with the syntax of Beanshell (or C or Java).

Instead of forking Beanshell, I decided it'd be better to use javassist to 
rewrite a few method calls here and there. I also wanted to make sure that 
these modifications do not affect Beanshell itself, and I put a particular 
focus on making it possible to load the Beanshell classes before doing the 
Javassist modifications (because it would lead to nasty side effects 
otherwise).

My work so far can be seen on the 'scripts' topic branch of Fiji's mirror 
of the ImageJ2 project:

<A HREF="http://fiji.sc/cgi-bin/gitweb.cgi?p=imagej2/.git;a=shortlog;h=refs/heads/scripts">http://fiji.sc/cgi-bin/gitweb.cgi?p=imagej2/.git;a=shortlog;h=refs/heads/scripts</A>

Good night,
Dscho



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000486.html">[ImageJ-devel] Updates on the script front
</A></li>
	<LI>Next message: <A HREF="000488.html">[ImageJ-devel] Progress on the Beanshell/macro front
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#487">[ date ]</a>
              <a href="thread.html#487">[ thread ]</a>
              <a href="subject.html#487">[ subject ]</a>
              <a href="author.html#487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
