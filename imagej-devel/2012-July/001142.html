<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] ImageJ2 in headless mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageJ2%20in%20headless%20mode&In-Reply-To=%3CCADN69ymSnKRFCoHm3ARekkk%2BWj826G-Vn470qaqtfOo2fonszw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001140.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] ImageJ2 in headless mode</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageJ2%20in%20headless%20mode&In-Reply-To=%3CCADN69ymSnKRFCoHm3ARekkk%2BWj826G-Vn470qaqtfOo2fonszw%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] ImageJ2 in headless mode">ctrueden at wisc.edu
       </A><BR>
    <I>Tue Jul 31 16:45:43 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001140.html">[ImageJ-devel] ImageJ 2.0.0-beta3 released
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1142">[ date ]</a>
              <a href="thread.html#1142">[ thread ]</a>
              <a href="subject.html#1142">[ subject ]</a>
              <a href="author.html#1142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Raghuram,

I am terribly sorry for leaving this message unanswered for so long.


&gt;<i> 1)Xvfb didnt work on our server (ubuntu 12.04, hosted in our departmental
</I>&gt;<i> datacenter) for some reason. It always fails saying cannot start xvfb.
</I>

I think your best bet for the time being would be to debug these Xvfb
problems. It is the most surefire way to run ImageJ1 headless. The only
thing to watch out for is dialog boxes popping up waiting for user input on
the server side, with no way to close them. Hopefully your macros can avoid
doing such things.

Alternately, you could try Fiji in headless mode using the --headless
command line flag; it is quite good in many circumstances, but there are
certain macros that simply cannot work that way, since they rely on the
Java GUI (even if nothing is explicitly shown onscreen, sometimes dialogs
are being constructed and manipulated invisibly).


&gt;<i> 2) So we started dabbling with ImageJ2 beta1 and now the beta that was
</I>&gt;<i> released yesterday. But have had not success in getting it to run in
</I>&gt;<i> headless mode either.
</I>

We plan to create a tutorial for ImageJ2 headless, but the API is still in
flux and we have simply not had time yet. Hopefully very soon though! Both
beta2 and beta3 made improvements in the API to use headless.

What you will never be able to do with ImageJ2 though is run legacy ImageJ1
plugins (and some macros) fully headless, no matter what. The reason is
that the ImageJ1 compatibility layer keeps an invisible ImageJ1 window
around, which it uses to execute those things. And that window cannot ever
be fully headless. The solution, moving forward, will be to have an
ImageJ2-specific script or plugin that has no dependence on any explicit
GUI elements.

If you are really eager to get started with ImageJ2 programming, I would be
happy to go into more detail about it, but it may be easier to wait till we
have some documentation online about it.

Regards,
Curtis


On Sat, May 19, 2012 at 12:32 PM, raghuram sudhaakar &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">rs96 at buffalo.edu</A>&gt;wrote:

&gt;<i> Hello Curtis,
</I>&gt;<i> I have been using imageJ (v1) for an automated grading process. A
</I>&gt;<i> colleague and I developed a macro which runs well and until now we have
</I>&gt;<i> been using it on our personal machines. We are trying to host it on a local
</I>&gt;<i> server so the macro can be used by other colleagues as well, but are stuck
</I>&gt;<i> trying to run in headless mode
</I>&gt;<i>
</I>&gt;<i> 1)Xvfb didnt work on our server (ubuntu 12.04, hosted in our departmental
</I>&gt;<i> datacenter) for some reason. It always fails saying cannot start xvfb.
</I>&gt;<i>
</I>&gt;<i> 2) So we started dabbling with ImageJ2 beta1 and now the beta that was
</I>&gt;<i> released yesterday. But have had not success in getting it to run in
</I>&gt;<i> headless mode either.
</I>&gt;<i>
</I>&gt;<i> Some quick pointers on how to get this done will be great and very useful
</I>&gt;<i> for the upcoming summer session.
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i> raghuram
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20120731/51699917/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20120731/51699917/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001140.html">[ImageJ-devel] ImageJ 2.0.0-beta3 released
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1142">[ date ]</a>
              <a href="thread.html#1142">[ thread ]</a>
              <a href="subject.html#1142">[ subject ]</a>
              <a href="author.html#1142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
