<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Migrating an ImageJ1 plugin (Git,	Ant etc.) to ImageJ2 (Git, Maven)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Migrating%20an%20ImageJ1%20plugin%20%28Git%2C%0A%09Ant%20etc.%29%20to%20ImageJ2%20%28Git%2C%20Maven%29&In-Reply-To=%3C50150DCF.8060908%40doube.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001110.html">
   <LINK REL="Next"  HREF="001131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Migrating an ImageJ1 plugin (Git,	Ant etc.) to ImageJ2 (Git, Maven)</H1>
    <B>Michael Doube</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Migrating%20an%20ImageJ1%20plugin%20%28Git%2C%0A%09Ant%20etc.%29%20to%20ImageJ2%20%28Git%2C%20Maven%29&In-Reply-To=%3C50150DCF.8060908%40doube.net%3E"
       TITLE="[ImageJ-devel] Migrating an ImageJ1 plugin (Git,	Ant etc.) to ImageJ2 (Git, Maven)">michael at doube.net
       </A><BR>
    <I>Sun Jul 29 05:17:51 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001110.html">[ImageJ-devel] [fiji-devel] Re: Move of the Fiji Updater into	ImageJ complete
</A></li>
        <LI>Next message: <A HREF="001131.html">[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1128">[ date ]</a>
              <a href="thread.html#1128">[ thread ]</a>
              <a href="subject.html#1128">[ subject ]</a>
              <a href="author.html#1128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

In a new thread because it's a broad but different issue than the
others: How to move an active ImageJ1 plugin project to an ImageJ2 project?

The scenario:
I have an active ImageJ1 plugin project, which I want to move to Image2.
The old plugin needs to stay active with bugfixes and for archival
reasons. Currently, releases are tracked on the master branch of a Git
repository, the IDE is Eclipse and Ant is the builder. I'd like to keep
the whole project (IJ1 and IJ2 plugins) in the same Git repository.

The plan at the moment is to:
Keep releasing the old plugin on the master branch
Work on the new plugin on a version branch
When the new plugin is stable, send the old plugin to a legacy branch
and merge the new plugin to master

Because the two plugins use different build systems, I've set them up as
two separate Eclipse projects, one with the old style (Ant,
plugins.config) and one with the new style (Maven, annotations). The two
projects work on different branches of the same Git repository, so I can
work on both of them simultaneously in the same instance of Eclipse.

To do that I branched the new plugin off, cloned it locally into a new
Eclipse project (Import...) then 'Mavenized' the new project. The
pom.xml-related chatter from me lately has been a result of this
process. The new branch has the old directory structure:
workspace/src/org/bonej/MyPlugin.java but Maven expects something else
by convention.

The big question is, is this going to work at all or should I start
again in a different way?

I am asking all this because processing of annotations doesn't work in
my setup, so the new plugin's menu items aren't added to ImageJ2
(solution is to use the Ant build.xml and Sun javac to do the release
build, as we developed at the last Fiji Hackathon).

Do you see any disasters looming, or propose another streamlined
approach that will work? Maven is impressive so far, so I'd like to
continue with it, I just have to organise things so that it behaves
correctly.

Michael

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001110.html">[ImageJ-devel] [fiji-devel] Re: Move of the Fiji Updater into	ImageJ complete
</A></li>
	<LI>Next message: <A HREF="001131.html">[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1128">[ date ]</a>
              <a href="thread.html#1128">[ thread ]</a>
              <a href="subject.html#1128">[ subject ]</a>
              <a href="author.html#1128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
