<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Migrating%20an%20ImageJ1%20plugin%20%28Git%2C%0A%20Ant%20etc.%29%20to%20ImageJ2%20%28Git%2C%20Maven%29&In-Reply-To=%3Calpine.DEB.1.00.1207302124390.32459%40s15462909.onlinehome-server.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001133.html">
   <LINK REL="Next"  HREF="001136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)</H1>
    <B>Johannes Schindelin</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Migrating%20an%20ImageJ1%20plugin%20%28Git%2C%0A%20Ant%20etc.%29%20to%20ImageJ2%20%28Git%2C%20Maven%29&In-Reply-To=%3Calpine.DEB.1.00.1207302124390.32459%40s15462909.onlinehome-server.info%3E"
       TITLE="[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)">Johannes.Schindelin at gmx.de
       </A><BR>
    <I>Mon Jul 30 14:26:08 CDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001133.html">[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)
</A></li>
        <LI>Next message: <A HREF="001136.html">[ImageJ-devel] running macros on ImageJ2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1135">[ date ]</a>
              <a href="thread.html#1135">[ thread ]</a>
              <a href="subject.html#1135">[ subject ]</a>
              <a href="author.html#1135">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, 30 Jul 2012, Curtis Rueden wrote:

&gt;<i> Johannes wrote:
</I>&gt;<i> &gt; Ideally, however, you would really provide the very same .jar file (and
</I>&gt;<i> &gt; likewise have really just one project) for both the IJ1 and IJ2 plugin. If
</I>&gt;<i> &gt; you wrap the ImagePlus into an ImgLib2 structure in the IJ1-specific part,
</I>&gt;<i> &gt; you should be able to use the exact same code to perform the actual
</I>&gt;<i> &gt; computation from both IJ1 and IJ2.
</I>&gt;<i> 
</I>&gt;<i> One downside to this approach is that by using ImageJ1's ImagePlus as your
</I>&gt;<i> primary data structure, you will limit yourself to data types supported by
</I>&gt;<i> ImageJ1. The other way round would be to use an ImageJ2 Dataset, which can
</I>&gt;<i> be converted to an ImagePlus on the fly in IJ2's legacy layer.
</I>&gt;<i> 
</I>&gt;<i> I agree with Johannes that it is great to avoid duplicating code, but there
</I>&gt;<i> may also be merit in maintaining a clean IJ2 version of the plugin. We will
</I>&gt;<i> continue actively working on the IJ2 legacy layer to make this sort of code
</I>&gt;<i> sharing easier.
</I>
Actually, that is what I meant: the core should be using plain ImgLib2,
and the IJ1 plugin should be a mere wrapper that uses imglib2-ij to wrap
an ImagePlus in an Img and then hands off to the core of the plugin.

That way, you only have to maintain one code base, and it is automatically
prepared for ImageJ2.

Ciao,
Dscho

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001133.html">[ImageJ-devel] Migrating an ImageJ1 plugin (Git, Ant etc.) to ImageJ2 (Git, Maven)
</A></li>
	<LI>Next message: <A HREF="001136.html">[ImageJ-devel] running macros on ImageJ2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1135">[ date ]</a>
              <a href="thread.html#1135">[ thread ]</a>
              <a href="subject.html#1135">[ subject ]</a>
              <a href="author.html#1135">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
