<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5BLOCI%20ImageJ%5D%20IJ2%20Plugin%20Service&In-Reply-To=%3CCADN69y%3DxL8BTk-QJMfz9E9-1iqTT4ptH7uMyKz4eJyBWAOTHvw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002084.html">
   <LINK REL="Next"  HREF="002082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5BLOCI%20ImageJ%5D%20IJ2%20Plugin%20Service&In-Reply-To=%3CCADN69y%3DxL8BTk-QJMfz9E9-1iqTT4ptH7uMyKz4eJyBWAOTHvw%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service">ctrueden at wisc.edu
       </A><BR>
    <I>Wed May  7 03:28:15 CDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002084.html">[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service
</A></li>
        <LI>Next message: <A HREF="002082.html">[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2085">[ date ]</a>
              <a href="thread.html#2085">[ thread ]</a>
              <a href="subject.html#2085">[ subject ]</a>
              <a href="author.html#2085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jay,

&gt;<i> Any idea why the file is not created on processing?
</I>
Can you please push your changes to a branch of JEX? Otherwise there is not
enough information to understand what you tried to do.

Thanks,
Curtis


On Tue, May 6, 2014 at 5:13 PM, Jay Warrick &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">warrick at wisc.edu</A>&gt; wrote:

&gt;<i> Hi Johannes,
</I>&gt;<i>
</I>&gt;<i> Thanks for the reply.
</I>&gt;<i>
</I>&gt;<i> If I try to force Eclipse to process annotations. I get this error...
</I>&gt;<i>
</I>&gt;<i> java.io.IOException:
</I>&gt;<i> org.eclipse.core.internal.resources.ResourceException: Resource
</I>&gt;<i> '/JEX/bin/META-INF/json/org.scijava.plugin.Plugin' does not exist.
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.apt.pluggable.core.filer.IdeInputFileObject.openInputStream(IdeInputFileObject.java:88)
</I>&gt;<i>         at
</I>&gt;<i> org.scijava.annotations.AnnotationProcessor$Writer.openInput(AnnotationProcessor.java:224)
</I>&gt;<i>         at
</I>&gt;<i> org.scijava.annotations.AbstractIndexWriter.merge(AbstractIndexWriter.java:118)
</I>&gt;<i>         at
</I>&gt;<i> org.scijava.annotations.AbstractIndexWriter.write(AbstractIndexWriter.java:91)
</I>&gt;<i>         at
</I>&gt;<i> org.scijava.annotations.AnnotationProcessor.process(AnnotationProcessor.java:91)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.compiler.apt.dispatch.RoundDispatcher.handleProcessor(RoundDispatcher.java:139)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.compiler.apt.dispatch.RoundDispatcher.round(RoundDispatcher.java:121)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.compiler.apt.dispatch.BaseAnnotationProcessorManager.processAnnotations(BaseAnnotationProcessorManager.java:159)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.apt.pluggable.core.dispatch.IdeAnnotationProcessorManager.processAnnotations(IdeAnnotationProcessorManager.java:134)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.compiler.Compiler.processAnnotations(Compiler.java:820)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:434)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:366)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.BatchImageBuilder.compile(BatchImageBuilder.java:178)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:303)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:60)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:254)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:173)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:733)
</I>&gt;<i>         at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:206)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:246)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:299)
</I>&gt;<i>         at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:302)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:401)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Project$1.run(Project.java:618)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2345)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Project.internalBuild(Project.java:597)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Project.build(Project.java:114)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.ui.util.CoreUtility$BuildJob.run(CoreUtility.java:161)
</I>&gt;<i>         at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)
</I>&gt;<i> Caused by: org.eclipse.core.internal.resources.ResourceException: Resource
</I>&gt;<i> '/JEX/bin/META-INF/json/org.scijava.plugin.Plugin' does not exist.
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:341)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:215)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.File.getContents(File.java:287)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.core.internal.resources.File.getContents(File.java:278)
</I>&gt;<i>         at
</I>&gt;<i> org.eclipse.jdt.internal.apt.pluggable.core.filer.IdeInputFileObject.openInputStream(IdeInputFileObject.java:86)
</I>&gt;<i>         ... 31 more
</I>&gt;<i>
</I>&gt;<i> Any idea why the file is not created on processing?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Jay
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On May 6, 2014, at 12:43 PM, Johannes Schindelin &lt;
</I>&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">Johannes.Schindelin at gmx.de</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi Jay,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Tue, 6 May 2014, Jay Warrick wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; You run the application once, it fixes the jar file but the changes to
</I>&gt;<i> &gt;&gt; the jar file on disk are not reflected in the jar file that is loaded
</I>&gt;<i> &gt;&gt; already in memory for running the application (at least as indicated by
</I>&gt;<i> &gt;&gt; the getResources() method).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That is not the intended workflow -- as both Curtis &amp; I pointed out.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The annotation indexes are supposed to be generated at compile time. The
</I>&gt;<i> &gt; way we do that is fully compliant with the Java standard.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; By using an environment that does not abide by that standard -- Eclipse
</I>&gt;<i> --
</I>&gt;<i> &gt; you make it your responsibility to ensure that the annotation indexes are
</I>&gt;<i> &gt; generated correctly.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You could do that by making unit tests an integral part of your build
</I>&gt;<i> &gt; process *before* bundling into a .jar (which you should do anyway, if you
</I>&gt;<i> &gt; want to follow best Java practices), or by running the EclipseHelper in
</I>&gt;<i> &gt; another manner.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You could do that by making it a Maven project and importing it into
</I>&gt;<i> &gt; Eclipse.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You could do that by forcing Eclipse into running the annotation
</I>&gt;<i> &gt; processors (as mandated by the Java standard).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You could figure out another way to make the annotation indexing run
</I>&gt;<i> &gt; before packaging the sources into .jar files.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What will not work is to continue to try to generate the annotation
</I>&gt;<i> &gt; indexes at a stage that is way later than compile time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ciao,
</I>&gt;<i> &gt; Johannes
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20140507/49a0a36f/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20140507/49a0a36f/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002084.html">[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service
</A></li>
	<LI>Next message: <A HREF="002082.html">[ImageJ-devel] [LOCI ImageJ] IJ2 Plugin Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2085">[ date ]</a>
              <a href="thread.html#2085">[ thread ]</a>
              <a href="subject.html#2085">[ subject ]</a>
              <a href="author.html#2085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
