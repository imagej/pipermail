<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20LOCI%20crashes%20with%20current%20Fiji%0A%20build%20on%20runtime&In-Reply-To=%3C-534404626111887301%40unknownmsgid%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001304.html">
   <LINK REL="Next"  HREF="001306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime</H1>
    <B>Jonas D. S. &#216;gaard</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20%5Bfiji-devel%5D%20LOCI%20crashes%20with%20current%20Fiji%0A%20build%20on%20runtime&In-Reply-To=%3C-534404626111887301%40unknownmsgid%3E"
       TITLE="[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime">jonas.ogaard at gmail.com
       </A><BR>
    <I>Thu Dec 13 10:11:26 CST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001304.html">[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime
</A></li>
        <LI>Next message: <A HREF="001306.html">[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1305">[ date ]</a>
              <a href="thread.html#1305">[ thread ]</a>
              <a href="subject.html#1305">[ subject ]</a>
              <a href="author.html#1305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Essentially any (Nikon NIS) JPEG2000 formatted images fails. Will sen one
when home.

//JonasD

Den 13. des. 2012 kl. 17:08 skrev Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A>&gt;:

Hi Jonas,

&gt;<i> java.lang.IllegalArgumentException: 0 must not be null and positive.
</I>
That is actually great news. It means we fixed the problem with the update
site. Now there is most likely a bona fide bug in Bio-Formats.

Would you be willing to send us a problematic dataset, so that we can
address the issue? You can use Fiji's Help &gt; Upload Sample Image feature to
send it if is smaller than ~250MB.

But first, just to be sure: please run Help &gt; Update Fiji and make sure it
says your Fiji is fully up to date, with no locally modified files.

Thanks,
Curtis


On Thu, Dec 13, 2012 at 6:42 AM, Jonas &#216;gaard &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">jonas at ogaard.no</A>&gt; wrote:

&gt;<i> OK, back at work today. Here is trace log after attempting to import using
</I>&gt;<i> LOCI:
</I>&gt;<i>
</I>&gt;<i> java.lang.reflect.InvocationTargetException
</I>&gt;<i> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;<i>  at
</I>&gt;<i> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
</I>&gt;<i> at
</I>&gt;<i> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
</I>&gt;<i>  at java.lang.reflect.Method.invoke(Method.java:601)
</I>&gt;<i> at ij.Command.runPlugIn(Command.java:146)
</I>&gt;<i>  at ij.Command.runCommand(Command.java:95)
</I>&gt;<i> at ij.Executer.run(Executer.java:64)
</I>&gt;<i>  at java.lang.Thread.run(Thread.java:722)
</I>&gt;<i> Caused by: java.lang.IllegalArgumentException: 0 must not be null and
</I>&gt;<i> positive.
</I>&gt;<i>  at
</I>&gt;<i> ome.xml.model.primitives.PositiveInteger.&lt;init&gt;(PositiveInteger.java:56)
</I>&gt;<i> at loci.formats.MetadataTools.populatePixelsOnly(MetadataTools.java:272)
</I>&gt;<i>  at loci.formats.MetadataTools.populatePixelsOnly(MetadataTools.java:246)
</I>&gt;<i> at loci.formats.ChannelFiller.setId(ChannelFiller.java:267)
</I>&gt;<i>  at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:552)
</I>&gt;<i> at loci.formats.ChannelSeparator.setId(ChannelSeparator.java:274)
</I>&gt;<i>  at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:552)
</I>&gt;<i> at loci.formats.DimensionSwapper.setId(DimensionSwapper.java:285)
</I>&gt;<i>  at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:552)
</I>&gt;<i> at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:552)
</I>&gt;<i>  at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:552)
</I>&gt;<i> at loci.plugins.in.ImportProcess.setId(ImportProcess.java:682)
</I>&gt;<i>  at loci.plugins.in.ImportProcess.initializeStack(ImportProcess.java:519)
</I>&gt;<i> at loci.plugins.in.ImportProcess.execute(ImportProcess.java:150)
</I>&gt;<i>  at loci.plugins.in.Importer.showDialogs(Importer.java:141)
</I>&gt;<i> at loci.plugins.in.Importer.run(Importer.java:79)
</I>&gt;<i>  at loci.plugins.LociImporter.run(LociImporter.java:81)
</I>&gt;<i> at ij.IJ.runUserPlugIn(IJ.java:184)
</I>&gt;<i>  at ij.IJ.runPlugIn(IJ.java:151)
</I>&gt;<i> ... 8 more
</I>&gt;<i>
</I>&gt;<i> Sincerely,
</I>&gt;<i> Jonas Ogaard
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 11, 2012 at 11:17 PM, Jonas &#216;gaard &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">jonas at ogaard.no</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi again, Curtis!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; I sat at work all day today pulling my hair - I could not make it
</I>&gt;&gt;&gt;<i> &gt; work.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> My sincerest apologies for the pain. It is almost certainly due to
</I>&gt;&gt;&gt;<i> problems on the update site, not your configuration.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please don't apologize for providing me with tools for science (;
</I>&gt;&gt;<i> I will try it out first thing tomorrow. Pretty much done with developing,
</I>&gt;&gt;<i> now it's time for analysis (:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Besides, I like a challenge - although I have to admit this time I was in
</I>&gt;&gt;<i> over my head.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oh, by the way, I'm not sure if the Maven dependencies are all sorted
</I>&gt;&gt;<i> with regards to a certain Jama package... It looks for version 1.0.2
</I>&gt;&gt;<i> whereas the latest release is 1.0.3 so it cannot be found... I managed to
</I>&gt;&gt;<i> get it working through manually installing 1.0.2. It also works by changing
</I>&gt;&gt;<i> the pom files of VIB-lib, VIB_ and 3D_viewer making them up to date. Having
</I>&gt;&gt;<i> said that I only have a faintest clue of the infrastructure of Maven
</I>&gt;&gt;<i> repositories...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway, it didn't help me with my loci (;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sincerely,
</I>&gt;&gt;<i> Jonas
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have updated the Bio-Formats installation in Fiji to the absolute
</I>&gt;&gt;&gt;<i> latest available, and hopefully ironed out these problems. Can you please
</I>&gt;&gt;&gt;<i> run Help &gt; Update Fiji to install all the updates, and let me know if
</I>&gt;&gt;&gt;<i> Bio-Formats becomes functional for you?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Curtis
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Tue, Dec 11, 2012 at 10:55 AM, Jonas &#216;gaard &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">jonas at ogaard.no</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hi there,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have a working version of Fiji running at home (where I'm at now) and
</I>&gt;&gt;&gt;&gt;<i> don't dare to break it, but I sat at work all day today pulling my hair - I
</I>&gt;&gt;&gt;&gt;<i> could not make it work.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I tried fresh downloads (fiji with and without jre), I tried removing
</I>&gt;&gt;&gt;&gt;<i> one LOCI-jar, then the other, then both. I tried updating both fiji and
</I>&gt;&gt;&gt;&gt;<i> imagej in two seperate clean setups, and also tried repeating updates to
</I>&gt;&gt;&gt;&gt;<i> make sure no more components where awaiting updates.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> It could be that the java-install is not entirely stable/up-to-date -
</I>&gt;&gt;&gt;&gt;<i> it's running JRE6. Haven't tried 7.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have no clue. Working from home tomorrow where it's safe &amp; stable!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Sincerely,
</I>&gt;&gt;&gt;&gt;<i> Jonas
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Tue, Dec 11, 2012 at 5:47 PM, Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ctrueden at wisc.edu</A>&gt;wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Hi Jonas,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> &gt; I am unable to import files with LOCI, no matter which loci-jar is
</I>&gt;&gt;&gt;&gt;&gt;<i> &gt; deleted or not...
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I updated Fiji with the 4.4.5 release of Bio-Formats last night, so
</I>&gt;&gt;&gt;&gt;&gt;<i> these errors are almost certainly my fault.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Unfortunately, I am unable to replicate the problem. I tried updating
</I>&gt;&gt;&gt;&gt;&gt;<i> an existing Fiji on another workstation, and all worked fine (though I did
</I>&gt;&gt;&gt;&gt;&gt;<i> have to click &quot;break the dependency&quot; in response to one prompt). I also
</I>&gt;&gt;&gt;&gt;&gt;<i> tried with a fresh continuous release downloaded from fiji.sc just
</I>&gt;&gt;&gt;&gt;&gt;<i> now, and it also worked.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> If you run Help &gt; Update Fiji, click on Advanced mode, what do you see
</I>&gt;&gt;&gt;&gt;&gt;<i> for &quot;Locally modified files&quot; and &quot;Uninstalled files only&quot;? A fully
</I>&gt;&gt;&gt;&gt;&gt;<i> up-to-date Fiji should not have any entries.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -Curtis
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> On Tue, Dec 11, 2012 at 6:31 AM, &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">jonas.ogaard at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Hi!
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> I am still having difficulties with the latest Fiji (both w/w/out
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> jre) and LOCI. Receiving same errors as described above.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> As of now I am unable to import files with LOCI, no matter which
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> loci-jar is deleted or not...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Have I magically jinxed my Fiji folder (again) or is this a problem
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> shared by others?
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Awesome work btw, Johannes (:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> //Jonas
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> On Wednesday, August 1, 2012 7:37:26 PM UTC+2, Johannes Schindelin
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Hi Sebi,
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> On Wed, 1 Aug 2012, <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">sebr... at gmail.com</A> wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; I tried to download the most up-to-date version (
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; <A HREF="http://jenkins.imagej.net/job/**Stable-Fiji/**">http://jenkins.imagej.net/job/**Stable-Fiji/**</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> lastSuccessfulBuild/artifact/**fiji-nojre.zip&lt;<A HREF="http://jenkins.imagej.net/job/Stable-Fiji/lastSuccessfulBuild/artifact/fiji-nojre.zip">http://jenkins.imagej.net/job/Stable-Fiji/lastSuccessfulBuild/artifact/fiji-nojre.zip</A>&gt;)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; This contains the loci_tools.jar as well as the the individual
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> jars. So
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; should i just delete which files? This issues is quite critical
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> for us,
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; since the Loci Bio-Format import is cruicial for us (and customer)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> to
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; import the OME-TIFF data produced by our imaging software.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Yes, it is safe to delete loci_tools.jar. My work last year on
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> enabling
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> multiple update sites introduced the bug that removing files from
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> update
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> sites does not mark them as obsolete if you updated the files
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> successfully
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> before. We just did not hit that bug because we did not remove files
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> in a
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> long time ;-)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &gt; Do you still have an idea when this problem might get solved?
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> It is fixed in the source code, I just have to upload a new version
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> (for
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> which I need to be comfortable with the current state first, though
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> ;-).
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Should be happening within the hour.
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Ciao,
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Dscho
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> ImageJ-devel mailing list
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagej.net</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">http://imagej.net/mailman/listinfo/imagej-devel</A>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>  --
</I>&gt;<i> Please avoid top-posting, and please make sure to reply-to-all!
</I>&gt;<i>
</I>&gt;<i> Mailing list web interface: <A HREF="http://groups.google.com/group/fiji-devel">http://groups.google.com/group/fiji-devel</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20121213/184a3799/attachment-0001.html">http://imagej.net/pipermail/imagej-devel/attachments/20121213/184a3799/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001304.html">[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime
</A></li>
	<LI>Next message: <A HREF="001306.html">[ImageJ-devel] [fiji-devel] LOCI crashes with current Fiji build on runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1305">[ date ]</a>
              <a href="thread.html#1305">[ thread ]</a>
              <a href="subject.html#1305">[ subject ]</a>
              <a href="author.html#1305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
