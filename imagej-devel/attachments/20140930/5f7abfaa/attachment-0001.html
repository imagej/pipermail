<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Gaetano,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&gt; &lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;I&nbsp;created&nbsp;a&nbsp;small&nbsp;example&nbsp;that&nbsp;requires&nbsp;my&nbsp;library&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;working&nbsp;example.&nbsp;I&nbsp;did&nbsp;some&nbsp;digging,&nbsp;and&nbsp;here&nbsp;is&nbsp;what&nbsp;I&nbsp;discovered:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Vanilla&nbsp;ImageJ1&nbsp;does&nbsp;not&nbsp;have&nbsp;a&nbsp;&quot;jars/&quot;&nbsp;folder,&nbsp;so&nbsp;unpacking&nbsp;your&nbsp;JAR&nbsp;there&nbsp;would&nbsp;not&nbsp;work&nbsp;in&nbsp;that&nbsp;scenario.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Having&nbsp;an&nbsp;unpacked&nbsp;directory&nbsp;structure&nbsp;in&nbsp;&quot;plugins/&quot;&nbsp;_does_&nbsp;work,&nbsp;though.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;reason&nbsp;it&nbsp;doesn&#39;t&nbsp;work&nbsp;in&nbsp;ImageJ2&nbsp;is&nbsp;because&nbsp;ImageJ2&nbsp;recursively&nbsp;adds&nbsp;all&nbsp;subdirectories&nbsp;of&nbsp;all&nbsp;classpath&nbsp;directory&nbsp;elements&nbsp;to&nbsp;the&nbsp;effective&nbsp;classpath&nbsp;of&nbsp;the&nbsp;plugin&nbsp;class&nbsp;loader.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;I&nbsp;discussed&nbsp;with&nbsp;Johannes,&nbsp;and&nbsp;he&nbsp;decided&nbsp;not&nbsp;to&nbsp;support&nbsp;unpacked&nbsp;class&nbsp;files&nbsp;anymore&nbsp;[1].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Personally,&nbsp;I&nbsp;think&nbsp;there&nbsp;is&nbsp;a&nbsp;bug&nbsp;lurking&nbsp;there&nbsp;--&nbsp;probably&nbsp;only&nbsp;the&nbsp;&quot;plugins/&quot;&nbsp;folder&nbsp;should&nbsp;have&nbsp;the&nbsp;recursive&nbsp;behavior&nbsp;described&nbsp;above&nbsp;--&nbsp;but&nbsp;it&nbsp;is&nbsp;an&nbsp;edge&nbsp;case&nbsp;which&nbsp;we&nbsp;do&nbsp;not&nbsp;have&nbsp;time&nbsp;to&nbsp;fix&nbsp;right&nbsp;now.&nbsp;However,&nbsp;if&nbsp;you&nbsp;feel&nbsp;strongly&nbsp;about&nbsp;the&nbsp;issue,&nbsp;you&nbsp;are&nbsp;very&nbsp;welcome&nbsp;to&nbsp;submit&nbsp;a&nbsp;pull&nbsp;request&nbsp;addressing&nbsp;it!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Otherwise,&nbsp;I&#39;d&nbsp;encourage&nbsp;you&nbsp;to&nbsp;switch&nbsp;to&nbsp;an&nbsp;IDE,&nbsp;and/or&nbsp;JAR-based&nbsp;development&nbsp;model.&nbsp;Let&nbsp;us&nbsp;know&nbsp;if&nbsp;you&nbsp;need&nbsp;further&nbsp;guidance&nbsp;with&nbsp;it.&nbsp;See&nbsp;also: &lt;a&nbsp;href=&quot;http://imagej.net/Development&quot;&gt;http://imagej.net/Development&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1] &lt;a&nbsp;href=&quot;http://code.imagej.net/chatlogs/imagejdev?times=prefix&amp;start-date=2014-09-26&amp;start-time=1500&amp;end-date=2014-09-26&amp;end-time=1700&quot;&gt;http://code.imagej.net/chatlogs/imagejdev?times=prefix&amp;start-date=2014-09-26&amp;start-time=1500&amp;end-date=2014-09-26&amp;end-time=1700&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Sep&nbsp;16,&nbsp;2014&nbsp;at&nbsp;4:54&nbsp;AM,&nbsp;Gaetano&nbsp;Impoco&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gaetano@impoco.it&quot;&nbsp;target=&quot;_blank&quot;&gt;gaetano@impoco.it&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Curtis,&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;Could&nbsp;you&nbsp;please&nbsp;provide&nbsp;a&nbsp;minimal,&nbsp;complete,&nbsp;verifiable&nbsp;example&lt;br&gt;<br>
&gt;&nbsp;demonstrating&nbsp;the&nbsp;issue?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;I&nbsp;created&nbsp;a&nbsp;small&nbsp;example&nbsp;that&nbsp;requires&nbsp;my&nbsp;library&nbsp;(please,&nbsp;download&nbsp;it&nbsp;at&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.impoco.it/files/gijLib.jar&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.impoco.it/files/gijLib.jar&lt;/a&gt;)&lt;br&gt;<br>
&lt;br&gt;<br>
-------------&lt;br&gt;<br>
&lt;br&gt;<br>
import&nbsp;ij.*;&lt;br&gt;<br>
import&nbsp;ij.process.*;&lt;br&gt;<br>
import&nbsp;ij.plugin.filter.*;&lt;br&gt;<br>
import&nbsp;java.awt.*;&lt;br&gt;<br>
import&nbsp;java.awt.geom.*;&lt;br&gt;<br>
import&nbsp;gijlib.binary.*;&lt;br&gt;<br>
import&nbsp;gijlib.geom.*;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
public&nbsp;class&nbsp;Example_&nbsp;implements&nbsp;PlugInFilter&lt;br&gt;<br>
{&lt;br&gt;<br>
 &nbsp;public&nbsp;int&nbsp;setup(String&nbsp;arg,&nbsp;ImagePlus&nbsp;imp)&lt;br&gt;<br>
 &nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp;return&nbsp;DOES_8G;&lt;br&gt;<br>
 &nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp;public&nbsp;void&nbsp;run(ImageProcessor&nbsp;ip)&lt;br&gt;<br>
 &nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp;ContourFollower&nbsp;cf&nbsp;=&nbsp;new&nbsp;ContourFollower(ip);&lt;br&gt;<br>
 &nbsp; &nbsp;if(cf.getNContours()&nbsp;!=&nbsp;1)&lt;br&gt;<br>
 &nbsp; &nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;IJ.error(&quot;The&nbsp;input&nbsp;image&nbsp;should&nbsp;contain&nbsp;one&nbsp;and&nbsp;only&nbsp;one&nbsp;object!\nFound&lt;br&gt;<br>
&quot;+cf.getNContours());&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;return;&lt;br&gt;<br>
 &nbsp; &nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Point[]&nbsp;contour&nbsp;=&nbsp;cf.getContour(0);&lt;br&gt;<br>
 &nbsp; &nbsp;Point2D&nbsp;cHull[]&nbsp;=&nbsp;ConvexHull.grahamsScan(contour);&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Line2D &nbsp;diam &nbsp; &nbsp;=&nbsp;PolygonUtilities.computeDiameter(cHull);&lt;br&gt;<br>
 &nbsp; &nbsp;Line2D &nbsp;odiam &nbsp; =&nbsp;PolygonUtilities.computeOrthogonalDiameter(cHull,&nbsp;diam);&lt;br&gt;<br>
 &nbsp; &nbsp;OrientedRectangle&nbsp;obbox&nbsp;=&nbsp;PolygonUtilities.computeBoundingRect(diam,&nbsp;odiam);&lt;br&gt;<br>
 &nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
}&lt;br&gt;<br>
&lt;br&gt;<br>
-------------&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;I&nbsp;put&nbsp;gijLib.jar&nbsp;in&nbsp;the&nbsp;&quot;jars&quot;&nbsp;directory&nbsp;and&nbsp;compile&nbsp;this&nbsp;class&nbsp;using&nbsp;the&lt;br&gt;<br>
--javac&nbsp;option&nbsp;of&nbsp;the&nbsp;ij2&nbsp;launcher,&nbsp;everything&nbsp;is&nbsp;ok.&nbsp;When&nbsp;I&nbsp;uncompress&nbsp;the&nbsp;JAR&lt;br&gt;<br>
file&nbsp;into&nbsp;the&nbsp;&quot;jars&quot;&nbsp;directory,&nbsp;the&nbsp;compiler&nbsp;cannot&nbsp;find&nbsp;the&nbsp;classes&nbsp;in&nbsp;the&lt;br&gt;<br>
library.&lt;br&gt;<br>
&lt;br&gt;<br>
Moreover,&nbsp;if&nbsp;I&nbsp;try&nbsp;to&nbsp;run&nbsp;a&nbsp;plugin&nbsp;that&nbsp;includes&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&lt;br&gt;<br>
(but&nbsp;not&nbsp;using&nbsp;packages)&nbsp;the&nbsp;compiler&nbsp;fails,&nbsp;as&nbsp;well.&nbsp;I&nbsp;avoid&nbsp;this&nbsp;problem&lt;br&gt;<br>
using&nbsp;the&nbsp;option&nbsp;--class-path&nbsp;$HOME/Fiji.app/jars/&lt;br&gt;<br>
&lt;br&gt;<br>
Hope&nbsp;I&nbsp;gave&nbsp;enough&nbsp;information.&lt;br&gt;<br>
&lt;br&gt;<br>
Thank&nbsp;you&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;Gaetano&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;im&nbsp;HOEnZb&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Quoting&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Hi&nbsp;Gaetano,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;In&nbsp;my&nbsp;brand&nbsp;new&nbsp;Fiji&nbsp;installation,&nbsp;I&nbsp;can&nbsp;import&nbsp;my&nbsp;library&nbsp;only&nbsp;if&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;archive&nbsp;all&nbsp;.class&nbsp;files&nbsp;into&nbsp;a&nbsp;JAR&nbsp;file.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;IIUC,&nbsp;what&nbsp;you&nbsp;describe&nbsp;is&nbsp;still&nbsp;supposed&nbsp;to&nbsp;work.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://imagej.net/Bug_reporting_best_practices&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/Bug_reporting_best_practices&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Regards,&lt;br&gt;<br>
&gt;&nbsp;Curtis&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Fri,&nbsp;Sep&nbsp;12,&nbsp;2014&nbsp;at&nbsp;6:05&nbsp;AM,&nbsp;Gaetano&nbsp;Impoco&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:gaetano@impoco.it&quot;&gt;gaetano@impoco.it&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Dear&nbsp;all,&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;I&nbsp;developed&nbsp;a&nbsp;custom&nbsp;library&nbsp;for&nbsp;my&nbsp;own&nbsp;convenience&nbsp;that&nbsp;used&nbsp;to&nbsp;work&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;ImageJ1.x.&nbsp;In&nbsp;my&nbsp;old&nbsp;IJ1&nbsp;installation&nbsp;I&nbsp;used&nbsp;to&nbsp;add&nbsp;the&nbsp;library&nbsp;root&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;directory&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;to&nbsp;the&nbsp;Java&nbsp;CLASSPATH&nbsp;(using&nbsp;a&nbsp;simple&nbsp;bash&nbsp;script).&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;In&nbsp;my&nbsp;brand&nbsp;new&nbsp;Fiji&nbsp;installation,&nbsp;I&nbsp;can&nbsp;import&nbsp;my&nbsp;library&nbsp;only&nbsp;if&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;archive&nbsp;all&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;.class&nbsp;files&nbsp;into&nbsp;a&nbsp;JAR&nbsp;file.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;JARs&nbsp;only&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;deployment.&nbsp;Is&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;include&nbsp;the&nbsp;&quot;uncompressed&quot;&nbsp;(development&nbsp;version)&nbsp;library?&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Thank&nbsp;you&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Gaetano&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
