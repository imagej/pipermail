<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;<br>
Hi&nbsp;Adrian,&nbsp;Jan&nbsp;and&nbsp;Curtis<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;went&nbsp;through&nbsp;the&nbsp;tutorials&nbsp;and&nbsp;found&nbsp;about&nbsp;the&nbsp;initialisation&nbsp;method.&nbsp;Curtis&nbsp;was&nbsp;absolutely&nbsp;right&nbsp;about&nbsp;what&nbsp;I&nbsp;wanted&nbsp;to&nbsp;do.&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;detailed&nbsp;explanations.&nbsp;In&nbsp;fact&nbsp;I&nbsp;was&nbsp;aiming&nbsp;for&nbsp;the&nbsp;use&nbsp;case&nbsp;4)&nbsp;update&nbsp;parameter&nbsp;attributes&nbsp;several&nbsp;times<br>
&nbsp;during&nbsp;callbacks.&nbsp;Since&nbsp;the&nbsp;file&nbsp;chooser&nbsp;could&nbsp;have&nbsp;its&nbsp;input&nbsp;changed&nbsp;several&nbsp;times&nbsp;(typically&nbsp;a&nbsp;click&nbsp;accident,&nbsp;mistake&nbsp;of&nbsp;choice&nbsp;or&nbsp;such),&nbsp;It&nbsp;would&nbsp;be&nbsp;odd&nbsp;for&nbsp;the&nbsp;user&nbsp;if&nbsp;the&nbsp;UI&nbsp;get’s&nbsp;updated&nbsp;only&nbsp;once.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;The&nbsp;alternative&nbsp;of&nbsp;course&nbsp;is&nbsp;to&nbsp;use&nbsp;an&nbsp;OpenDialog&nbsp;previous&nbsp;to&nbsp;the&nbsp;configuration&nbsp;dialog.&nbsp;Or&nbsp;to&nbsp;program&nbsp;the&nbsp;the&nbsp;dialog&nbsp;from&nbsp;scratch&nbsp;(but&nbsp;this&nbsp;certainly&nbsp;does&nbsp;not&nbsp;improve&nbsp;reusability&nbsp;neither).&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;The&nbsp;proposal&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/181&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/scijava/scijava-common/issues/181&lt;/a&gt;&nbsp;sounds&nbsp;like&nbsp;a&nbsp;promising&nbsp;idea&nbsp;to&nbsp;me.&nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;Felix&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;22&nbsp;Aug&nbsp;2015,&nbsp;at&nbsp;6:10&nbsp;,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;class=&quot;&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;<br>
&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;Hi&nbsp;Adrian,<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;Doesn't&nbsp;that&nbsp;allow&nbsp;doing&nbsp;what&nbsp;Felix&nbsp;would&nbsp;like&nbsp;to&nbsp;do,&nbsp;by&nbsp;populating&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;the&nbsp;combobox&nbsp;through&nbsp;such&nbsp;an&nbsp;initialiser&nbsp;?&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;think&nbsp;what&nbsp;Felix&nbsp;wants&nbsp;is&nbsp;to&nbsp;set&nbsp;a&nbsp;parameter's&nbsp;&quot;choices&quot;&nbsp;attribute&nbsp;--&nbsp;i.e.,&nbsp;the&nbsp;values&nbsp;that&nbsp;will&nbsp;appear&nbsp;in&nbsp;the&nbsp;input&nbsp;harvester&nbsp;UI's&nbsp;dropdown&nbsp;list&nbsp;box.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;It&nbsp;can&nbsp;be&nbsp;done&nbsp;with&nbsp;a&nbsp;DynamicCommand,&nbsp;but&nbsp;right&nbsp;now&nbsp;it&nbsp;only&nbsp;works&nbsp;from&nbsp;an&nbsp;initializer,&nbsp;not&nbsp;from&nbsp;a&nbsp;callback.&nbsp;So&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;populate&nbsp;the&nbsp;choice&nbsp;once&nbsp;from,&nbsp;say,&nbsp;the&nbsp;active&nbsp;Dataset,&nbsp;it&nbsp;works.&nbsp;But&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;update&nbsp;the&nbsp;choices&nbsp;e.g.&nbsp;every&nbsp;time<br>
&nbsp;the&nbsp;user&nbsp;moves&nbsp;a&nbsp;numerical&nbsp;slider,&nbsp;it&nbsp;will&nbsp;not&nbsp;work&nbsp;because&nbsp;the&nbsp;UI&nbsp;will&nbsp;not&nbsp;update.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;See&nbsp;also:&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;*&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/180&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/scijava/scijava-common/issues/180&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;*&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/181&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/scijava/scijava-common/issues/181&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;Are&nbsp;the&nbsp;parameters&nbsp;populated/initialised&nbsp;in&nbsp;the&nbsp;order&nbsp;they&nbsp;appear?&nbsp;In&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;particular,&nbsp;is&nbsp;the&nbsp;initialisation&nbsp;done&nbsp;serially&nbsp;or&nbsp;can&nbsp;there&nbsp;be&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;parallel&nbsp;execution&nbsp;of&nbsp;initialisers&nbsp;?&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;Initialization&nbsp;is&nbsp;currently&nbsp;implemented&nbsp;serially&nbsp;[1].&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;I&nbsp;have&nbsp;parameters&nbsp;a,&nbsp;b,&nbsp;c&nbsp;whose&nbsp;initialisation&nbsp;depend&nbsp;on&nbsp;a&nbsp;common&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;calculation&nbsp;(depending&nbsp;on&nbsp;the&nbsp;image&nbsp;gotten&nbsp;through&nbsp;a&nbsp;previous&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;@Parameter&nbsp;ImagePlus&nbsp;imp):&nbsp;can&nbsp;I&nbsp;do&nbsp;this&nbsp;calculation&nbsp;in&nbsp;the&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;initialiser&nbsp;for&nbsp;the&nbsp;first&nbsp;parameter&nbsp;a,&nbsp;and&nbsp;then&nbsp;in&nbsp;the&nbsp;initialisers&nbsp;of&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&gt;&nbsp;b&nbsp;and&nbsp;c&nbsp;rely&nbsp;on&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;calculation&nbsp;was&nbsp;already&nbsp;done&nbsp;?&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;Perhaps&nbsp;simplest&nbsp;at&nbsp;the&nbsp;moment&nbsp;would&nbsp;be&nbsp;to&nbsp;give&nbsp;your&nbsp;command&nbsp;a&nbsp;global&nbsp;initializer&nbsp;--&nbsp;i.e.,&nbsp;set&nbsp;the&nbsp;initializer&nbsp;method&nbsp;in&nbsp;the&nbsp;@Plugin&nbsp;annotation&nbsp;itself,&nbsp;rather&nbsp;than&nbsp;on&nbsp;specific&nbsp;parameters.&nbsp;The&nbsp;ImagePlus&nbsp;will&nbsp;be&nbsp;populated&nbsp;by&nbsp;a&nbsp;preprocessor&nbsp;_before_<br>
&nbsp;the&nbsp;initialize&nbsp;method&nbsp;is&nbsp;called,&nbsp;so&nbsp;when&nbsp;your&nbsp;global&nbsp;initializer&nbsp;gets&nbsp;called&nbsp;you&nbsp;will&nbsp;already&nbsp;have&nbsp;access&nbsp;to&nbsp;the&nbsp;ImagePlus.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;But&nbsp;again,&nbsp;scijava/scijava-common#181&nbsp;is&nbsp;very&nbsp;relevant&nbsp;here.&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;Regards,&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;Curtis&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/blob/scijava-common-2.42.2/src/main/java/org/scijava/module/AbstractModule.java#L75-L88&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/scijava/scijava-common/blob/scijava-common-2.42.2/src/main/java/org/scijava/module/AbstractModule.java#L75-L88&lt;/a&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Aug&nbsp;21,&nbsp;2015&nbsp;at&nbsp;6:18&nbsp;AM,&nbsp;Adrian&nbsp;Daerr&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;<br>
&lt;&lt;a&nbsp;href=&quot;mailto:adrian.daerr@univ-paris-diderot.fr&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;adrian.daerr@univ-paris-diderot.fr&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi&nbsp;Curtis,&nbsp;Felix,&nbsp;Jan,&nbsp;and&nbsp;others,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
In&nbsp;the&nbsp;CommandWithPreview&nbsp;tutorial&nbsp;example[*]&nbsp;that&nbsp;Curtis&nbsp;sent&nbsp;to&lt;br&nbsp;class=&quot;&quot;&gt;<br>
the&nbsp;list&nbsp;a&nbsp;few&nbsp;weeks&nbsp;back,&nbsp;there&nbsp;is&nbsp;a&nbsp;@Parameter&nbsp;which&nbsp;is&lt;br&nbsp;class=&quot;&quot;&gt;<br>
initialised&nbsp;to&nbsp;a&nbsp;value&nbsp;depending&nbsp;on&nbsp;the&nbsp;initialisation&nbsp;of&nbsp;another&lt;br&nbsp;class=&quot;&quot;&gt;<br>
parameter:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
@Parameter&nbsp;private&nbsp;ImagePlus&nbsp;imp;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
@Parameter(persist&nbsp;=&nbsp;false,&nbsp;initializer&nbsp;=&nbsp;&quot;initTitle&quot;)&nbsp;private&nbsp;String&nbsp;title;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
/**&nbsp;Initializes&nbsp;the&nbsp;{@link&nbsp;#title}&nbsp;parameter.&nbsp;*/&lt;br&nbsp;class=&quot;&quot;&gt;<br>
protected&nbsp;void&nbsp;initTitle()&nbsp;{&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;=&nbsp;initialTitle&nbsp;=&nbsp;imp.getTitle();&lt;br&nbsp;class=&quot;&quot;&gt;<br>
}&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
[*]&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-tutorials/blob/master/commands-with-preview/src/main/java/CommandWithPreview.java&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/imagej/imagej-tutorials/blob/master/commands-with-preview/src/main/java/CommandWithPreview.java&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Doesn't&nbsp;that&nbsp;allow&nbsp;doing&nbsp;what&nbsp;Felix&nbsp;would&nbsp;like&nbsp;to&nbsp;do,&nbsp;by&lt;br&nbsp;class=&quot;&quot;&gt;<br>
populating&nbsp;the&nbsp;combobox&nbsp;through&nbsp;such&nbsp;an&nbsp;initialiser&nbsp;?&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Are&nbsp;the&nbsp;parameters&nbsp;populated/initialised&nbsp;in&nbsp;the&nbsp;order&nbsp;they&lt;br&nbsp;class=&quot;&quot;&gt;<br>
appear?&nbsp;In&nbsp;particular,&nbsp;is&nbsp;the&nbsp;initialisation&nbsp;done&nbsp;serially&nbsp;or&nbsp;can&lt;br&nbsp;class=&quot;&quot;&gt;<br>
there&nbsp;be&nbsp;parallel&nbsp;execution&nbsp;of&nbsp;initialisers&nbsp;?&nbsp;I&nbsp;ask&nbsp;because&nbsp;I&lt;br&nbsp;class=&quot;&quot;&gt;<br>
have&nbsp;parameters&nbsp;a,&nbsp;b,&nbsp;c&nbsp;whose&nbsp;initialisation&nbsp;depend&nbsp;on&nbsp;a&nbsp;common&lt;br&nbsp;class=&quot;&quot;&gt;<br>
calculation&nbsp;(depending&nbsp;on&nbsp;the&nbsp;image&nbsp;gotten&nbsp;through&nbsp;a&nbsp;previous&lt;br&nbsp;class=&quot;&quot;&gt;<br>
@Parameter&nbsp;ImagePlus&nbsp;imp):&nbsp;can&nbsp;I&nbsp;do&nbsp;this&nbsp;calculation&nbsp;in&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;<br>
initialiser&nbsp;for&nbsp;the&nbsp;first&nbsp;parameter&nbsp;a,&nbsp;and&nbsp;then&nbsp;in&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;<br>
initialisers&nbsp;of&nbsp;b&nbsp;and&nbsp;c&nbsp;rely&nbsp;on&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;calculation&nbsp;was&lt;br&nbsp;class=&quot;&quot;&gt;<br>
already&nbsp;done&nbsp;?&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
cheers,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Adrian<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
On&nbsp;Thu,&nbsp;20&nbsp;Aug&nbsp;2015&nbsp;17:13:11&nbsp;-0500&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi&nbsp;Felix,&nbsp;Jan&nbsp;and&nbsp;everyone,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;couldn’t&nbsp;find&nbsp;any&nbsp;hint&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&lt;br&nbsp;class=&quot;&quot;&gt;<br>
a&nbsp;parameter&nbsp;(declared&nbsp;with&nbsp;the&nbsp;annotator)&nbsp;in&nbsp;a&nbsp;callback&nbsp;that&nbsp;for&lt;br&nbsp;class=&quot;&quot;&gt;<br>
another&nbsp;parameter.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
It&nbsp;is&nbsp;possible&nbsp;to&nbsp;dynamically&nbsp;adjust&nbsp;parameters&nbsp;from&nbsp;Java&nbsp;code&nbsp;[1].&nbsp;You&nbsp;can&lt;br&nbsp;class=&quot;&quot;&gt;<br>
also&nbsp;dynamically&nbsp;add&nbsp;and&nbsp;remove&nbsp;parameters.&nbsp;Such&nbsp;commands&nbsp;extend&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;<br>
DynamicCommand&nbsp;class.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
There&nbsp;are&nbsp;many&nbsp;examples&nbsp;currently&nbsp;in&nbsp;the&nbsp;imagej-plugins-commands&nbsp;project;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
e.g.:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-plugins-commands/blob/imagej-plugins-commands-0.5.1/src/main/java/net/imagej/plugins/commands/restructure/AddAxis.java&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/imagej/imagej-plugins-commands/blob/imagej-plugins-commands-0.5.1/src/main/java/net/imagej/plugins/commands/restructure/AddAxis.java&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
However,&nbsp;a&nbsp;couple&nbsp;of&nbsp;notes:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
-&nbsp;This&nbsp;pattern&nbsp;makes&nbsp;the&nbsp;command&nbsp;less&nbsp;reusable&nbsp;from&nbsp;other&nbsp;contexts,&nbsp;because&lt;br&nbsp;class=&quot;&quot;&gt;<br>
some&nbsp;contexts&nbsp;require&nbsp;a&nbsp;priori&nbsp;knowledge&nbsp;about&nbsp;the&nbsp;number&nbsp;and&nbsp;types&nbsp;of&lt;br&nbsp;class=&quot;&quot;&gt;<br>
input&nbsp;and&nbsp;output&nbsp;parameters.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
-&nbsp;The&nbsp;user&nbsp;interface&nbsp;currently&nbsp;does&nbsp;not&nbsp;properly&nbsp;refresh&nbsp;the&nbsp;input&lt;br&nbsp;class=&quot;&quot;&gt;<br>
harvester&nbsp;dialog&nbsp;if&nbsp;changes&nbsp;are&nbsp;made&nbsp;to&nbsp;parameters&nbsp;from&nbsp;a&nbsp;callback.&nbsp;So&lt;br&nbsp;class=&quot;&quot;&gt;<br>
while&nbsp;you&nbsp;can&nbsp;technically&nbsp;do&nbsp;things&nbsp;like&nbsp;change&nbsp;the&nbsp;choices&nbsp;array&nbsp;of&nbsp;a&lt;br&nbsp;class=&quot;&quot;&gt;<br>
multiple-choice&nbsp;input,&nbsp;the&nbsp;user&nbsp;will&nbsp;not&nbsp;actually&nbsp;see&nbsp;it.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
-&nbsp;What&nbsp;does&nbsp;work&nbsp;currently&nbsp;is&nbsp;to&nbsp;determine&nbsp;the&nbsp;multiple-choice&nbsp;values&nbsp;at&lt;br&nbsp;class=&quot;&quot;&gt;<br>
initialization&nbsp;time,&nbsp;based&nbsp;on&nbsp;the&nbsp;values&nbsp;of&nbsp;parameters&nbsp;which&nbsp;have&nbsp;already&lt;br&nbsp;class=&quot;&quot;&gt;<br>
been&nbsp;populated&nbsp;earlier,&nbsp;such&nbsp;as&nbsp;an&nbsp;active&nbsp;dataset.&nbsp;This&nbsp;is&nbsp;what&nbsp;many&nbsp;of&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;<br>
DynamicCommand&nbsp;implementations&nbsp;in&nbsp;imagej-plugins-commands&nbsp;do.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Really,&nbsp;there&nbsp;are&nbsp;_five_&nbsp;different&nbsp;classes&nbsp;of&nbsp;commands&nbsp;here:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
1)&nbsp;Totally&nbsp;fixed,&nbsp;with&nbsp;inputs&nbsp;and&nbsp;outputs&nbsp;known&nbsp;in&nbsp;advance.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
2)&nbsp;Updates&nbsp;parameter&nbsp;attributes&nbsp;(such&nbsp;as&nbsp;choices—but&nbsp;not&nbsp;#&nbsp;or&nbsp;type&nbsp;of&lt;br&nbsp;class=&quot;&quot;&gt;<br>
inputs/outputs)&nbsp;once&nbsp;during&nbsp;initialization.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
3)&nbsp;Updates&nbsp;parameter&nbsp;number&nbsp;and&nbsp;type&nbsp;(i.e.,&nbsp;adding/removing&nbsp;inputs/outputs)&lt;br&nbsp;class=&quot;&quot;&gt;<br>
once&nbsp;during&nbsp;initialization.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
4)&nbsp;Updates&nbsp;parameter&nbsp;attributes&nbsp;repeatedly&nbsp;e.g.&nbsp;during&nbsp;callbacks.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
5)&nbsp;Updates&nbsp;parameter&nbsp;number&nbsp;and&nbsp;type&nbsp;repeatedly&nbsp;e.g.&nbsp;during&nbsp;callbacks.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Of&nbsp;these,&nbsp;type&nbsp;#1&nbsp;is&nbsp;most&nbsp;desirable&nbsp;for&nbsp;a&nbsp;variety&nbsp;of&nbsp;reasons.&nbsp;Failing&nbsp;that,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
types&nbsp;#2&nbsp;and&nbsp;#3&nbsp;can&nbsp;be&nbsp;done&nbsp;right&nbsp;now&nbsp;using&nbsp;DynamicCommand&nbsp;and&nbsp;it&nbsp;works&lt;br&nbsp;class=&quot;&quot;&gt;<br>
properly&nbsp;from&nbsp;the&nbsp;ImageJ&nbsp;UI—but&nbsp;not&nbsp;from&nbsp;other&nbsp;contexts&nbsp;like&nbsp;CellProfiler,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
KNIME,&nbsp;etc.&nbsp;Types&nbsp;#4&nbsp;and&nbsp;#5&nbsp;can&nbsp;also&nbsp;be&nbsp;coded&nbsp;but&nbsp;will&nbsp;not&nbsp;work&nbsp;properly&lt;br&nbsp;class=&quot;&quot;&gt;<br>
from&nbsp;the&nbsp;UI&nbsp;in&nbsp;ImageJ&nbsp;because&nbsp;the&nbsp;input&nbsp;harvester&nbsp;is&nbsp;not&nbsp;rebuilt&nbsp;on&lt;br&nbsp;class=&quot;&quot;&gt;<br>
callbacks.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
See&nbsp;also:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
*&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/42&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/scijava/scijava-common/issues/42&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
*&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/43&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/scijava/scijava-common/issues/43&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
*&nbsp;&lt;a&nbsp;href=&quot;https://github.com/CellProfiler/CellProfiler/issues/647&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/CellProfiler/CellProfiler/issues/647&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Regards,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Curtis&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
[1]&nbsp;Dynamically&nbsp;updating&nbsp;parameters&nbsp;from&nbsp;scripts&nbsp;would&nbsp;be&nbsp;a&nbsp;different&lt;br&nbsp;class=&quot;&quot;&gt;<br>
story.&nbsp;No&nbsp;plans&nbsp;to&nbsp;do&nbsp;that&nbsp;any&nbsp;time&nbsp;soon...&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
On&nbsp;Thu,&nbsp;Aug&nbsp;20,&nbsp;2015&nbsp;at&nbsp;6:50&nbsp;AM,&nbsp;Jan&nbsp;Eglinger&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jan.eglinger@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;jan.eglinger@gmail.com&lt;/a&gt;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
wrote:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi&nbsp;Felix&nbsp;and&nbsp;all,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
On&nbsp;20.08.2015&nbsp;10:06,&nbsp;MEYENHOFER&nbsp;Felix&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;couldn’t&nbsp;find&nbsp;any&nbsp;hint&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&nbsp;a&lt;br&nbsp;class=&quot;&quot;&gt;<br>
parameter&nbsp;(declared&nbsp;with&nbsp;the&nbsp;annotator)&nbsp;in&nbsp;a&nbsp;callback&nbsp;that&nbsp;for&nbsp;another&lt;br&nbsp;class=&quot;&quot;&gt;<br>
parameter.&nbsp;For&nbsp;example;&nbsp;I&nbsp;have&nbsp;a&nbsp;file&nbsp;chooser&nbsp;and&nbsp;once&nbsp;a&nbsp;file&nbsp;hase&nbsp;been&lt;br&nbsp;class=&quot;&quot;&gt;<br>
chosen,&nbsp;I&nbsp;want&nbsp;to&nbsp;read&nbsp;some&nbsp;file&nbsp;metadata&nbsp;and&nbsp;then&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&lt;br&nbsp;class=&quot;&quot;&gt;<br>
the&nbsp;combobox&nbsp;that&nbsp;allows&nbsp;to&nbsp;select&nbsp;the&nbsp;images&nbsp;series.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Since&nbsp;I&nbsp;could&nbsp;not&nbsp;figure&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;it,&nbsp;I&nbsp;wanted&nbsp;to&nbsp;ask&nbsp;here&nbsp;if&nbsp;it&nbsp;is&lt;br&nbsp;class=&quot;&quot;&gt;<br>
possible&nbsp;at&nbsp;all?&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/blockquote&gt;<br>
I&nbsp;think&nbsp;dynamic&nbsp;adjustment&nbsp;of&nbsp;parameters&nbsp;isn't&nbsp;possible&nbsp;currently,&nbsp;but&nbsp;I&lt;br&nbsp;class=&quot;&quot;&gt;<br>
agree&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;a&nbsp;great&nbsp;thing&nbsp;to&nbsp;have.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
I&nbsp;know&nbsp;quite&nbsp;some&nbsp;use&nbsp;cases&nbsp;where&nbsp;either&nbsp;a&nbsp;DialogListener&nbsp;or&nbsp;a&nbsp;series&nbsp;of&lt;br&nbsp;class=&quot;&quot;&gt;<br>
subsequent&nbsp;dialogs&nbsp;are&nbsp;used&nbsp;in&nbsp;ImageJ&nbsp;1.x&nbsp;plugins&nbsp;to&nbsp;adjust&nbsp;parameter&lt;br&nbsp;class=&quot;&quot;&gt;<br>
choice&nbsp;to&nbsp;previously&nbsp;harvested&nbsp;input.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Furthermore,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;get&nbsp;a&nbsp;directory&nbsp;chooser&nbsp;instead&nbsp;of&nbsp;a&nbsp;file&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
chooser&nbsp;in&nbsp;the&nbsp;configuration&nbsp;dialog&nbsp;of&nbsp;a&nbsp;command&nbsp;using&nbsp;the&nbsp;@Parameter&lt;br&nbsp;class=&quot;&quot;&gt;<br>
annotation?&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/blockquote&gt;<br>
Yes,&nbsp;by&nbsp;using&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;style&nbsp;=&nbsp;&quot;directory&quot;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
attribute.&nbsp;See&nbsp;*Templates&nbsp;&gt;&nbsp;Python&nbsp;&gt;&nbsp;Process&nbsp;Folder*&nbsp;in&nbsp;the&nbsp;script&nbsp;editor,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
and&nbsp;this&nbsp;related&nbsp;discussion:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-legacy/pull/114&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;<br>
https://github.com/imagej/imagej-legacy/pull/114&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Best,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Jan&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
_______________________________________________&lt;br&nbsp;class=&quot;&quot;&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&nbsp;class=&quot;&quot;&gt;--&nbsp;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;http://www.msc.univ-paris-diderot.fr/~daerr/&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://www.msc.univ-paris-diderot.fr/~daerr/&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
