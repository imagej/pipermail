<tt>
Hi&nbsp;everyone,&lt;br&gt;&lt;br&gt;Lee&nbsp;&amp;amp;&nbsp;I&nbsp;discussed&nbsp;a&nbsp;bit&nbsp;in&nbsp;the&nbsp;ImageJDev&nbsp;chat&nbsp;room,&nbsp;but&nbsp;for&nbsp;the&nbsp;benefit&nbsp;of&nbsp;the&nbsp;list&nbsp;archives:&nbsp;this&nbsp;was&nbsp;done&nbsp;in&nbsp;several&nbsp;of&nbsp;today&amp;#39;s&nbsp;commits:&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3682&quot;&gt;r3682&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3683&quot;&gt;r3683&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3684&quot;&gt;r3684&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3685&quot;&gt;r3685&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3686&quot;&gt;r3686&lt;/a&gt;&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://dev.imagejdev.org/trac/imagej/changeset/3687&quot;&gt;r3687&lt;/a&gt;.&lt;br&gt;<br>
<br>
&lt;br&gt;-Curtis&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;11,&nbsp;2011&nbsp;at&nbsp;2:50&nbsp;PM,&nbsp;Lee&nbsp;Kamentsky&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:leek@broadinstitute.org&quot;&nbsp;target=&quot;_blank&quot;&gt;leek@broadinstitute.org&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
Hi&nbsp;Curtis,&nbsp;all,&lt;br&gt;<br>
I&amp;#39;m&nbsp;looking&nbsp;at&nbsp;ModuleService.run&nbsp;and&nbsp;thinking&nbsp;of&nbsp;how&nbsp;to&nbsp;use&nbsp;it&nbsp;in&nbsp;CellProfiler.&nbsp;There&amp;#39;s&nbsp;a&nbsp;comment:&lt;br&gt;<br>
//&nbsp;TODO&nbsp;-&nbsp;Implement&nbsp;a&nbsp;better&nbsp;threading&nbsp;mechanism&nbsp;for&nbsp;launching&nbsp;modules.&lt;br&gt;<br>
//&nbsp;Perhaps&nbsp;a&nbsp;ThreadService&nbsp;so&nbsp;that&nbsp;the&nbsp;UI&nbsp;can&nbsp;query&nbsp;currently&lt;br&gt;<br>
//&nbsp;running&nbsp;modules&nbsp;and&nbsp;so&nbsp;forth?&lt;br&gt;<br>
&lt;br&gt;<br>
which&nbsp;is&nbsp;pretty&nbsp;relevant.&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;natural&nbsp;thing&nbsp;to&nbsp;do&nbsp;would&nbsp;be&nbsp;to&nbsp;return&nbsp;java.util.concurrent.Future&amp;lt;&lt;u&gt;&lt;/u&gt;Map&amp;lt;String,&nbsp;Object&amp;gt;&amp;gt;&nbsp;which&nbsp;would&nbsp;be&nbsp;a&nbsp;future&nbsp;promising&nbsp;the&nbsp;map&nbsp;of&nbsp;outputs&nbsp;for&nbsp;the&nbsp;module.&nbsp;You&amp;#39;d&nbsp;wrap&nbsp;the&nbsp;ModuleRunner&nbsp;in&nbsp;a&nbsp;java.util.concurrent.Callable&amp;lt;&lt;u&gt;&lt;/u&gt;Map&amp;lt;String,&nbsp;Object&amp;gt;&amp;gt;&nbsp;instead&nbsp;of&nbsp;in&nbsp;a&nbsp;Runnable&nbsp;and&nbsp;use&nbsp;java.util.concurrent.&lt;u&gt;&lt;/u&gt;FutureTask&nbsp;to&nbsp;return&nbsp;the&nbsp;future.&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;br&gt;<br>
I&nbsp;like&nbsp;a&nbsp;programmatic&nbsp;style&nbsp;myself&nbsp;where&nbsp;you&nbsp;do&nbsp;things&nbsp;step-by-step&nbsp;instead&nbsp;of&nbsp;an&nbsp;event-driven&nbsp;style&nbsp;like&nbsp;a&nbsp;ThreadService.&nbsp;This&nbsp;would&nbsp;be&nbsp;great&nbsp;for&nbsp;scripting&nbsp;-&nbsp;you&nbsp;can&nbsp;imagine&nbsp;a&nbsp;script&nbsp;that&nbsp;executes&nbsp;a&nbsp;module,&nbsp;then,&nbsp;further&nbsp;down,&nbsp;gets&nbsp;the&nbsp;results&nbsp;from&nbsp;the&nbsp;execution.&nbsp;The&nbsp;script&nbsp;would&nbsp;proceed&nbsp;in&nbsp;parallel&nbsp;with&nbsp;the&nbsp;module&nbsp;execution&nbsp;and&nbsp;the&nbsp;additional&nbsp;boilerplate&nbsp;for&nbsp;threading&nbsp;would&nbsp;be&nbsp;minimal&nbsp;-&nbsp;just&nbsp;an&nbsp;additional&nbsp;call&nbsp;to&nbsp;Future.get()&nbsp;at&nbsp;the&nbsp;point&nbsp;where&nbsp;the&nbsp;result&nbsp;was&nbsp;needed.&lt;br&gt;<br>
<br>
<br>
<br>
<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
--Lee&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
