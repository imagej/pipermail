<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi&nbsp;all,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;looking&nbsp;for&nbsp;ideas&nbsp;on&nbsp;how&nbsp;to&nbsp;harmonize&nbsp;the&nbsp;ImageJ&nbsp;1.0&nbsp;rois&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;ImageJ&nbsp;2.0&nbsp;overlays.&nbsp;At&nbsp;present,&nbsp;if&nbsp;you&nbsp;run&nbsp;an&nbsp;ImageJ&nbsp;1.0<br>
&nbsp;&nbsp;&nbsp;&nbsp;plugin,&nbsp;the&nbsp;harmonization&nbsp;code&nbsp;will&nbsp;duplicate&nbsp;the&nbsp;overlays&nbsp;because<br>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;has&nbsp;no&nbsp;mechanism&nbsp;to&nbsp;check&nbsp;whether&nbsp;a&nbsp;roi&nbsp;was&nbsp;intentionally<br>
&nbsp;&nbsp;&nbsp;&nbsp;duplicated&nbsp;or&nbsp;just&nbsp;happens&nbsp;to&nbsp;be&nbsp;there.&nbsp;Also,&nbsp;in&nbsp;ImageJ&nbsp;1.0,&nbsp;each<br>
&nbsp;&nbsp;&nbsp;&nbsp;ImagePlus&nbsp;has&nbsp;a&nbsp;single&nbsp;ROI&nbsp;which&nbsp;can&nbsp;be&nbsp;a&nbsp;composite&nbsp;of&nbsp;other&nbsp;ROIs<br>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;the&nbsp;compositing&nbsp;is&nbsp;done&nbsp;by&nbsp;AWT.&nbsp;The&nbsp;pieces&nbsp;of&nbsp;the&nbsp;ROI&nbsp;composite<br>
&nbsp;&nbsp;&nbsp;&nbsp;produced&nbsp;by&nbsp;AWT&nbsp;will&nbsp;not&nbsp;have&nbsp;a&nbsp;direct&nbsp;one-to-one&nbsp;correspondence<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;overlays&nbsp;that&nbsp;produced&nbsp;them&nbsp;and&nbsp;this&nbsp;makes&nbsp;matching&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;back-translation&nbsp;to&nbsp;ImageJ&nbsp;a&nbsp;non-trivial&nbsp;task.&nbsp;Presently,&nbsp;the&nbsp;code<br>
&nbsp;&nbsp;&nbsp;&nbsp;correctly&nbsp;produces&nbsp;one&nbsp;overlay&nbsp;that&nbsp;represents&nbsp;the&nbsp;one&nbsp;ImageJ&nbsp;ROI&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;ImagePlus&nbsp;and&nbsp;it&nbsp;adds,&nbsp;not&nbsp;replaces,&nbsp;the&nbsp;current&nbsp;set&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;overlays.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'd&nbsp;really&nbsp;like&nbsp;some&nbsp;guidance&nbsp;on&nbsp;how&nbsp;to&nbsp;proceed&nbsp;and&nbsp;what&nbsp;would&nbsp;be&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;acceptable&nbsp;solution.&nbsp;I'm&nbsp;sure&nbsp;I&nbsp;can&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;implement&nbsp;any<br>
&nbsp;&nbsp;&nbsp;&nbsp;reasonable&nbsp;idea&nbsp;but&nbsp;I&nbsp;feel&nbsp;completely&nbsp;unqualified&nbsp;to&nbsp;choose&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;solution.&nbsp;Some&nbsp;possibilities:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Only&nbsp;back-translate&nbsp;an&nbsp;ImagePlus's&nbsp;ROI&nbsp;if&nbsp;the&nbsp;area&nbsp;it&nbsp;masks&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different&nbsp;on&nbsp;output&nbsp;from&nbsp;what&nbsp;it&nbsp;was&nbsp;on&nbsp;input.&nbsp;Slow,&nbsp;but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibly&nbsp;as&nbsp;close&nbsp;to&nbsp;correct&nbsp;as&nbsp;possible.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Replace&nbsp;all&nbsp;overlays&nbsp;with&nbsp;a&nbsp;single&nbsp;composite&nbsp;on&nbsp;output.&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Replace&nbsp;all&nbsp;overlays&nbsp;with&nbsp;individual&nbsp;overlays&nbsp;as&nbsp;represented<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;paths&nbsp;in&nbsp;the&nbsp;ImagePlus's&nbsp;ROI.&nbsp;Requires&nbsp;analysis&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths&nbsp;to&nbsp;determine&nbsp;which&nbsp;are&nbsp;disjoint&nbsp;(donut&nbsp;ROI&nbsp;is&nbsp;large<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;circle&nbsp;XORed&nbsp;with&nbsp;smaller&nbsp;inner&nbsp;circle&nbsp;and&nbsp;translates&nbsp;into&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;composite&nbsp;ROI&nbsp;in&nbsp;this&nbsp;case&nbsp;whereas&nbsp;two&nbsp;circles&nbsp;that&nbsp;do&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlap&nbsp;become&nbsp;two&nbsp;separate&nbsp;ROIs).&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Have&nbsp;a&nbsp;&quot;HarmonizeOverlays&quot;&nbsp;plugin&nbsp;that&nbsp;lets&nbsp;a&nbsp;user&nbsp;control<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what&nbsp;happens&nbsp;via&nbsp;macros.&nbsp;Advantages:&nbsp;user&nbsp;can&nbsp;construct&nbsp;a&nbsp;macro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;composed&nbsp;of&nbsp;several&nbsp;ImageJ&nbsp;1.0&nbsp;plugins&nbsp;and&nbsp;those&nbsp;will&nbsp;not&nbsp;suffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;a&nbsp;mis-harmonization&nbsp;during&nbsp;the&nbsp;course&nbsp;of&nbsp;the&nbsp;macro.&nbsp;User<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;have&nbsp;some&nbsp;degree&nbsp;of&nbsp;control&nbsp;over&nbsp;how&nbsp;the&nbsp;harmonization<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;takes&nbsp;place,&nbsp;choosing&nbsp;whether&nbsp;to&nbsp;replace&nbsp;overlays&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display,&nbsp;add&nbsp;to&nbsp;them&nbsp;and&nbsp;whether&nbsp;to&nbsp;translate&nbsp;to&nbsp;a&nbsp;composite&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;individual&nbsp;overlays.&nbsp;Disadvantages:&nbsp;not&nbsp;automatic&nbsp;and&nbsp;possibly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;confusing.&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;again,&nbsp;I&nbsp;don't&nbsp;want&nbsp;to&nbsp;decide&nbsp;what's&nbsp;right&nbsp;and&nbsp;I&nbsp;am&nbsp;most<br>
&nbsp;&nbsp;&nbsp;&nbsp;definitely&nbsp;open&nbsp;to&nbsp;suggestion.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;--Lee&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
