<tt>
Hi&nbsp;Pol,&lt;br&gt;&lt;br&gt;  Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;feedback&nbsp;regarding&nbsp;OpenCL&nbsp;in&nbsp;ImageJ.&nbsp; Per&nbsp;your&nbsp;second&nbsp;question,&nbsp;there&nbsp;are&nbsp;some&nbsp;very&nbsp;minor&nbsp;changes&nbsp;needed&nbsp;to&nbsp;get&nbsp;your&nbsp;started&nbsp;on&nbsp;your&nbsp;development&nbsp;of&nbsp;ImageJ&nbsp;OpenCL&nbsp;plugins.&nbsp; I&nbsp;have&nbsp;updated&nbsp;the&nbsp;source&nbsp;documentation&nbsp;to&nbsp;be&nbsp;reflective&nbsp;of&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the&nbsp;source&nbsp;available&nbsp;in&nbsp;the&nbsp;loci&nbsp;repository&nbsp;(&lt;a&nbsp;href=&quot;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&quot;&gt;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&lt;/a&gt;).&lt;br&gt;<br>
&lt;br&gt;  If&nbsp;your&nbsp;refresh&nbsp;your&nbsp;download&nbsp;of&nbsp;the&nbsp;opencl-decon&nbsp;source,&nbsp;you&nbsp;may&nbsp;notice&nbsp;the&nbsp;addition&nbsp;of&nbsp;a&nbsp;README&nbsp;file.&nbsp; Here&nbsp;is&nbsp;the&nbsp;text&nbsp;from&nbsp;that&nbsp;file:&lt;br&gt;&lt;br&gt;(&nbsp;Please&nbsp;ensure&nbsp;installation&nbsp;of&nbsp;OpenCL&nbsp;prior&nbsp;to&nbsp;running&nbsp;these&nbsp;programs&nbsp;)&lt;br&gt;<br>
The&nbsp;source&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&quot;&gt;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&lt;/a&gt;&nbsp;was&nbsp;developed&nbsp;to&nbsp;demonstrate&nbsp;successful&nbsp;leveraging&nbsp;of&nbsp;OpenCL&nbsp;within&nbsp;ImageJ&nbsp;using&nbsp;JOCL&nbsp;both&nbsp;locally&nbsp;and remotely&nbsp;(as&nbsp;a&nbsp;binary&nbsp;web&nbsp;service).&lt;br&gt;<br>
&lt;br&gt;The&nbsp;folder&nbsp;structure&nbsp;of&nbsp;the&nbsp;source&nbsp;consists&nbsp;of&nbsp;the&nbsp;following&nbsp;folders:&lt;br&gt;src&nbsp;-&nbsp;Java&nbsp;and&nbsp;OpenCL&nbsp;source&nbsp;files&nbsp;(extension&nbsp;.cl)&lt;br&gt;sourcedata&nbsp;-&nbsp;PSF&nbsp;and&nbsp;3D&nbsp;data&nbsp;used&nbsp;as&nbsp;a&nbsp;small&nbsp;sample&nbsp;data&nbsp;set&nbsp;for&nbsp;the&nbsp;FHT3D&nbsp;Example.&lt;br&gt;lib&nbsp;-&nbsp;libraries&nbsp;needed&nbsp;for&nbsp;classes&nbsp;using&nbsp;JOCL,&nbsp;ImageJ,&nbsp;and&nbsp;Hessian&nbsp;4.0.7&lt;br&gt;<br>
native&nbsp;-&nbsp;contains&nbsp;the&nbsp;dynamic&nbsp;libraries&nbsp;needed&nbsp;for&nbsp;runtime&nbsp;execution&nbsp;of&nbsp;OpenCL&nbsp;code&nbsp;on&nbsp;various&nbsp;operating&nbsp;systems&lt;br&gt;&lt;br&gt;Background:&lt;br&gt;To&nbsp;use&nbsp;OpenCL&nbsp;from&nbsp;Java&nbsp;in&nbsp;ImageJ&nbsp;we&nbsp;leverage&nbsp;JOCL.&nbsp; JOCL&nbsp;uses&nbsp;JNI&nbsp;to&nbsp;make&nbsp;calls&nbsp;into&nbsp;the&nbsp;OpenCL&nbsp;API.&nbsp; The&nbsp;OpenCL&nbsp;code&nbsp;you&nbsp;write&nbsp;can&nbsp;also&nbsp;leverage&nbsp;JOCL&nbsp;to&nbsp;accelerate&nbsp;execution&nbsp;of ImageJ&nbsp;plugins&nbsp;from&nbsp;Java.&lt;br&gt;<br>
&lt;br&gt;Notice&nbsp;the&nbsp;files&nbsp;&lt;a&nbsp;href=&quot;http://fht.cl&quot;&gt;fht.cl&lt;/a&gt;&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://sobel.cl&quot;&gt;sobel.cl&lt;/a&gt;&nbsp;in&nbsp;the&nbsp;source&nbsp;(src)&nbsp;directory.&nbsp; The&nbsp;Java&nbsp;code&nbsp;in&nbsp;provided&nbsp;in&nbsp;the&nbsp;examples&nbsp;compile&nbsp;these&nbsp;two&nbsp;files&nbsp;for&nbsp;execution&nbsp;on&nbsp;the&nbsp;OpenCL&nbsp;enabled&nbsp;device&nbsp;that&nbsp;is&nbsp;programmatically&nbsp;chosen&nbsp;at&nbsp;runtime.&nbsp; It&nbsp;is&nbsp;runtime&nbsp;compilation&nbsp;of&nbsp;OpenCL&nbsp;that&nbsp;allows&nbsp;execution&nbsp;on&nbsp;any&nbsp;potential&nbsp;OpenCL&nbsp;enabled&nbsp;device.&lt;br&gt;<br>
&lt;br&gt;Start&nbsp;exploring&nbsp;the&nbsp;examples&nbsp;by&nbsp;viewing&nbsp;the&nbsp;developer&nbsp;comments&nbsp;in&nbsp;the&nbsp;file&nbsp;SobelFilterExample.java.&nbsp; Notice&nbsp;the&nbsp;Main()&nbsp;method&nbsp;calls&nbsp;run()&nbsp;which&nbsp;use&nbsp;an&nbsp;awt.Image&nbsp;type&nbsp;as&nbsp;an&nbsp;input&nbsp;parameter.&nbsp; Modify&nbsp;and&nbsp;run&nbsp;the&nbsp;Main()&nbsp;method&nbsp;as&nbsp;a&nbsp;Java&nbsp;application&nbsp;with&nbsp;the&nbsp;VM&nbsp;Arguments&nbsp;-Xmx1024m. &lt;br&gt;<br>
&lt;br&gt;  Without&nbsp;modification, SobelFilterExample.java loads&nbsp;an&nbsp;image&nbsp;from&nbsp;a&nbsp;web&nbsp;server,&nbsp;process&nbsp;it&nbsp;locally&nbsp;using&nbsp;OpenCL,&nbsp;and&nbsp;displays&nbsp;the&nbsp;results.&nbsp; There&nbsp;is&nbsp;nothing&nbsp;novel&nbsp;about&nbsp;this&nbsp;example.&nbsp; It&nbsp;simply&nbsp;allows&nbsp;runtime&nbsp;testing&nbsp;of several&nbsp;system&nbsp;configuration&nbsp;steps to&nbsp;ensure&nbsp;working&nbsp;configuration&nbsp;of&nbsp;JOCL&nbsp;and&nbsp;OpenCL&nbsp;native&nbsp;libraries. &nbsp;Modify&nbsp;this&nbsp;example&nbsp;to&nbsp;suite&nbsp;your&nbsp;needs,&nbsp;but&nbsp;please&nbsp;ensure&nbsp;proper&nbsp;JOCL&nbsp;and&nbsp;OpenCL&nbsp;configuration&nbsp;before&nbsp;proceeding.&lt;br&gt;<br>
 &lt;br&gt;Working&nbsp;within&nbsp;ImageJ:&nbsp;If&nbsp;developing&nbsp;an&nbsp;ImageJ&nbsp;plugin&nbsp;using&nbsp;OpenCL&nbsp;realize&nbsp;that&nbsp;programatic&nbsp;control&nbsp;is&nbsp;passed&nbsp;to&nbsp;your&nbsp;plugin&nbsp;inside&nbsp;the&nbsp;PlugIn&nbsp;(or&nbsp;PluginFilter)&nbsp;run()&nbsp;method.&nbsp; An&nbsp;example&nbsp;of&nbsp;this&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;src.demos.OpenCL_SobelFilter.java.&nbsp; For&nbsp;this&nbsp;plugin&nbsp;to&nbsp;run&nbsp;within&nbsp;ImageJ,&nbsp;the&nbsp;JOCL&nbsp;jars&nbsp;and&nbsp;native&nbsp;libraries&nbsp;respective&nbsp;to&nbsp;the&nbsp;target&nbsp;platform&nbsp;will&nbsp;need&nbsp;to&nbsp;be&nbsp;available&nbsp;by&nbsp;the&nbsp;ImageJ&nbsp;classloader.&nbsp; &nbsp;The&nbsp;supporting&nbsp;JOCL&nbsp;native&nbsp;libraries&nbsp;can&nbsp;be&nbsp;copied&nbsp;into&nbsp;the&nbsp;plugin&nbsp;directory&nbsp;within&nbsp;ImageJ&nbsp;to&nbsp;allow&nbsp;plugin&nbsp;implementations&nbsp;using&nbsp;OpenCL&nbsp;from&nbsp;Java&nbsp;to&nbsp;reference&nbsp;the&nbsp;installed&nbsp;native&nbsp;libraries&nbsp;provided&nbsp;by&nbsp;the&nbsp;OpenCL&nbsp;installation.&nbsp; &lt;br&gt;<br>
&lt;br&gt;Now&nbsp;that&nbsp;you&nbsp;have&nbsp;demonstrated&nbsp;use&nbsp;of&nbsp;OpenCL&nbsp;from&nbsp;Java&nbsp;and&nbsp;within&nbsp;ImageJ,&nbsp;you&nbsp;may&nbsp;wish&nbsp;to&nbsp;see&nbsp;an&nbsp;a&nbsp;compute&nbsp;intensive&nbsp;example&nbsp;demonstrating&nbsp;modification&nbsp;of&nbsp;an&nbsp;existing&nbsp;Java&nbsp;implementation&nbsp;that&nbsp;delegates&nbsp;a&nbsp;portion&nbsp;of&nbsp;its&nbsp;implementation&nbsp;to&nbsp;OpenCL. &nbsp;Take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;developer&nbsp;comments&nbsp;in&nbsp;the&nbsp;FHT3D_3D_Deconvolution.java&nbsp;example&nbsp;to&nbsp;see&nbsp;what&nbsp;steps&nbsp;are&nbsp;used&nbsp;for&nbsp;brokering&nbsp;of&nbsp;data&nbsp;between&nbsp;Java&nbsp;and&nbsp;OpenCL&nbsp;between&nbsp;steps&nbsp;within&nbsp;an&nbsp;algorithm&amp;#39;s&nbsp;implementation.&lt;br&gt;<br>
&lt;br&gt;Finally,&nbsp;the&nbsp;need&nbsp;may&nbsp;arise&nbsp;where&nbsp;the&nbsp;GPU&nbsp;compute&nbsp;capabilities&nbsp;you&nbsp;wish&nbsp;to&nbsp;leverage&nbsp;are&nbsp;not&nbsp;on&nbsp;the&nbsp;same&nbsp;computer&nbsp;that&nbsp;ImageJ&nbsp;is&nbsp;running&nbsp;on. &nbsp;The&nbsp;FHTEJBService&nbsp;and&nbsp;Iterative_Deconvolve_3D_WS&nbsp;classes&nbsp;demonstrate&nbsp;how&nbsp;to&nbsp;remotely&nbsp;serve&nbsp;up&nbsp;the&nbsp;functionality&nbsp;leveraging&nbsp;standard,&nbsp;open&nbsp;source&nbsp;J2EE&nbsp;technologies.&nbsp;&lt;br&gt;<br>
&lt;br&gt;I&nbsp;will&nbsp;comment&nbsp;in&nbsp;a separate email&nbsp;regarding&nbsp;your&nbsp;first&nbsp;question.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;interested&nbsp;in&nbsp;following&nbsp;your&nbsp;progress.&nbsp; Please&nbsp;feel&nbsp;free&nbsp;to&nbsp;contact&nbsp;me&nbsp;via&nbsp;Google&nbsp;chat,&nbsp;Skype&nbsp;or&nbsp;email&nbsp;if&nbsp;you&nbsp;run&nbsp;into&nbsp;any&nbsp;more&nbsp;configuration&nbsp;problems.&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;Best&nbsp;Regards,&lt;br&gt;&lt;br&gt;Rick&nbsp;Lentz&lt;br&gt;&lt;br&gt;  &lt;br&gt;&lt;br&gt;Hello,&lt;br&gt;I&nbsp;am&nbsp;a&nbsp;PhD&nbsp;student&nbsp;working&nbsp;on&nbsp;image&nbsp;segmentation&nbsp;by&nbsp;texture&nbsp;analysis&nbsp;with&nbsp;an&nbsp;application&nbsp;on&nbsp;remote&nbsp;sensing&nbsp;images&nbsp;(Montpellier,&nbsp;France).&nbsp;So&nbsp;i&nbsp;have&nbsp;to&nbsp;process&nbsp;very&nbsp;large&nbsp;images&nbsp;(e.g.&nbsp;15000*8000). &lt;br&gt;<br>
All&nbsp;methods&nbsp;I&nbsp;developed&nbsp;are&nbsp;formed&nbsp;as&nbsp;plugin&nbsp;under&nbsp;ImageJ&nbsp;API&nbsp;that&nbsp;I&nbsp;really&nbsp;like,&nbsp;but&nbsp;not&nbsp;yet applicable&nbsp;on&nbsp;this&nbsp;sort&nbsp;of&nbsp;image.&lt;br&gt;Recently,&nbsp;I&nbsp;tough&nbsp;to&nbsp;use&nbsp;finally&nbsp;my&nbsp;graphic&nbsp;card&nbsp;(Nvidia&nbsp;GTS240)&nbsp;which&nbsp;I&nbsp;think&nbsp;will&nbsp;help&nbsp;me&nbsp;a&nbsp;lot&nbsp;in&nbsp;my&nbsp;process.&nbsp;So&nbsp;after&nbsp;several&nbsp;search&nbsp;on&nbsp;the&nbsp;web,&nbsp;I&nbsp;found&nbsp;this (OpenCL&nbsp;plugin&nbsp;you&nbsp;wrote)&nbsp;great&nbsp;!&nbsp;it&amp;#39;s&nbsp;precisely&nbsp;what&nbsp;i&nbsp;need.&lt;br&gt;<br>
So&nbsp;I&nbsp;decided&nbsp;to&nbsp;follow&nbsp;your&nbsp;tutorial&nbsp;to&nbsp;setup&nbsp;the&nbsp;environment&nbsp;but&nbsp;met&nbsp;some&nbsp;problems...&nbsp;:&lt;br&gt;&lt;br&gt;When&nbsp;launching&nbsp;makefile&nbsp;in&nbsp;&amp;quot;~/NVIDIA_GPU_Computing_SDK/C/&nbsp;&amp;quot;&nbsp;and&nbsp;&amp;quot;~/NVIDIA_GPU_Computing_SDK/OpenCL&amp;quot; I&nbsp;had&nbsp;following&nbsp;error&nbsp;&amp;quot;/usr/bin/ld:&nbsp;cannot&nbsp;find&nbsp;-lGL&amp;quot;.&nbsp;Plus,&nbsp;I&nbsp;dont&nbsp;have&nbsp;the&nbsp;same&nbsp;demo&nbsp;files,&nbsp;maybe&nbsp;because&nbsp;of&nbsp;version&nbsp;?&nbsp;(cudatoolkit_3.2.16_linux_64,&nbsp;gpucomputingsdk_3.2.16&nbsp;and&nbsp;devdriver_3.2_linux_64_260.19.26&nbsp;on&nbsp;Ubuntu&nbsp;10.10).&nbsp;On&nbsp;the&nbsp;other&nbsp;side&nbsp;demos&nbsp;I&nbsp;have&nbsp;work&nbsp;perfectly&nbsp;(ooclDCT8x8,&nbsp;oclHistogram,...)&lt;br&gt;<br>
Main&nbsp;problem&nbsp;is&nbsp;that&nbsp;the&nbsp;repository&nbsp;you&nbsp;indicate&nbsp;to&nbsp;get&nbsp;the&nbsp;example&nbsp;project&nbsp;(&lt;a&nbsp;href=&quot;http://www.loci.wisc.edu/svn/decon&quot;&gt;http://www.loci.wisc.edu/svn/decon&lt;/a&gt;)&nbsp;doesn&amp;#39;t&nbsp;work...&nbsp;&amp;quot;&lt;a&nbsp;href=&quot;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&quot;&gt;http://dev.loci.wisc.edu/svn/software/branches/maven/projects/opencl-decon&lt;/a&gt;&amp;quot;&nbsp;repository&nbsp;works&nbsp;well.&nbsp;Is&nbsp;is&nbsp;the&nbsp;same&nbsp;?&lt;br&gt;<br>
&lt;br&gt;Thanks&nbsp;a&nbsp;lot&nbsp;if&nbsp;you&nbsp;find&nbsp;time&nbsp;to&nbsp;answer&nbsp;me&nbsp;(and&nbsp;sorry&nbsp;for&nbsp;my&nbsp;english).&lt;br&gt;And&nbsp;thanks&nbsp;you&nbsp;for&nbsp;work&nbsp;you&nbsp;are&nbsp;doing&nbsp;on&nbsp;ImageJ.&lt;br&gt;Best&nbsp;regards,&lt;br&gt;Pol&nbsp;Kennel&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
