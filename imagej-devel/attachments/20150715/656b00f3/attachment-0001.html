<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Cyril,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Awesome&nbsp;that&nbsp;you&nbsp;are&nbsp;trying&nbsp;out&nbsp;the&nbsp;OPS&nbsp;functionality.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;PointSet&nbsp;is&nbsp;deprecated.&nbsp;The&nbsp;latest&nbsp;ROI&nbsp;library&nbsp;is&nbsp;in&nbsp;the&nbsp;imglib2-roi&nbsp;component&nbsp;[1].&nbsp;Unfortunately,&nbsp;there&nbsp;are&nbsp;not&nbsp;really&nbsp;any&nbsp;examples&nbsp;yet,&nbsp;since&nbsp;the&nbsp;new&nbsp;API&nbsp;was&nbsp;just&nbsp;created&nbsp;in&nbsp;January.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;main&nbsp;problem&nbsp;you&nbsp;are&nbsp;encountering&nbsp;here&nbsp;is&nbsp;a&nbsp;clash&nbsp;of&nbsp;&quot;layers&quot;&nbsp;of&nbsp;the&nbsp;ImageJ2&nbsp;API&nbsp;designed&nbsp;at&nbsp;different&nbsp;times.&nbsp;The&nbsp;imagej-common&nbsp;classes&nbsp;(ImageDisplay&nbsp;and&nbsp;Overlay)&nbsp;were&nbsp;created&nbsp;before&nbsp;we&nbsp;started&nbsp;OPS,&nbsp;so&nbsp;they&nbsp;use&nbsp;the&nbsp;old&nbsp;ROI&nbsp;library&nbsp;of&nbsp;ImgLib2,&nbsp;including&nbsp;extensions&nbsp;built&nbsp;on&nbsp;top,&nbsp;such&nbsp;as&nbsp;PointSets.&nbsp;The&nbsp;imagej-ops&nbsp;classes&nbsp;are&nbsp;much&nbsp;newer&nbsp;and&nbsp;IMHO&nbsp;well-designed,&nbsp;but&nbsp;have&nbsp;mostly&nbsp;focused&nbsp;on&nbsp;building&nbsp;on&nbsp;top&nbsp;of&nbsp;ImgLib2&nbsp;data&nbsp;structures.&nbsp;(OPS&nbsp;does&nbsp;use&nbsp;the&nbsp;ImgPlus&nbsp;class&nbsp;but&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;redesigned&nbsp;very&nbsp;soon.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ultimately,&nbsp;you&nbsp;have&nbsp;two&nbsp;options&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A)&nbsp;Stick&nbsp;with&nbsp;the&nbsp;deprecated-but-still-available&nbsp;API&nbsp;of&nbsp;PointSet&nbsp;and&nbsp;StatisticsService&nbsp;[2].&nbsp;You&nbsp;can&nbsp;call&nbsp;StatisticsService.arithmeticMean(Dataset,&nbsp;PointSet)&nbsp;to&nbsp;get&nbsp;the&nbsp;answer&nbsp;you&nbsp;are&nbsp;looking&nbsp;for&nbsp;here.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;B)&nbsp;Use&nbsp;OPS,&nbsp;knowing&nbsp;you&#39;ll&nbsp;have&nbsp;to&nbsp;jump&nbsp;through&nbsp;some&nbsp;hoops&nbsp;right&nbsp;now&nbsp;as&nbsp;the&nbsp;layers&nbsp;of&nbsp;API&nbsp;are&nbsp;&quot;repaved.&quot;&nbsp;In&nbsp;theory,&nbsp;you&nbsp;can&nbsp;compute&nbsp;the&nbsp;mean&nbsp;of&nbsp;a&nbsp;region&nbsp;using&nbsp;OPS,&nbsp;by&nbsp;doing&nbsp;something&nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; opService.stats().mean(new&nbsp;DoubleType(),&nbsp;overlay.getRegionOfInterest());&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;I&nbsp;have&nbsp;not&nbsp;tested&nbsp;this.&nbsp;ImageJ2&nbsp;components&nbsp;downstream&nbsp;from&nbsp;ops&nbsp;(e.g.,&nbsp;imagej-plugins-commands)&nbsp;are&nbsp;in&nbsp;dire&nbsp;need&nbsp;of&nbsp;an&nbsp;update&nbsp;to&nbsp;use&nbsp;OPS&nbsp;rather&nbsp;than&nbsp;the&nbsp;deprecated&nbsp;APIs,&nbsp;but&nbsp;we&nbsp;have&nbsp;not&nbsp;had&nbsp;time&nbsp;to&nbsp;work&nbsp;on&nbsp;it&nbsp;yet.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1] &lt;a&nbsp;href=&quot;https://github.com/imglib/imglib2-roi&quot;&gt;https://github.com/imglib/imglib2-roi&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[2] &lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-ops/blob/imagej-ops-0.15.0/src/main/java/net/imagej/measure/StatisticsService.java&quot;&gt;https://github.com/imagej/imagej-ops/blob/imagej-ops-0.15.0/src/main/java/net/imagej/measure/StatisticsService.java&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jul&nbsp;6,&nbsp;2015&nbsp;at&nbsp;8:19&nbsp;AM,&nbsp;Mongis&nbsp;Cyril&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:cyril.mongis@googlemail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;cyril.mongis@googlemail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Dear&nbsp;everyone,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&#39;m&nbsp;trying&nbsp;to&nbsp;calculate&nbsp;the&nbsp;statistics&nbsp;of&nbsp;a&nbsp;an&nbsp;overlay&nbsp;for&nbsp;the&nbsp;active&nbsp;display.&lt;br&gt;&lt;/div&gt;I&nbsp;try&nbsp;to&nbsp;use&nbsp;the&nbsp;PointSet&nbsp;but&nbsp;it&nbsp;doesn&#39;t&nbsp;work.&nbsp;The&nbsp;thread&nbsp;is&nbsp;just&nbsp;blocked&nbsp;:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public&nbsp;double&nbsp;getMean(ImageDisplay&nbsp;imageDisplay,&nbsp;Overlay&nbsp;overlay)&nbsp;{&lt;br&gt;&lt;/div&gt;    &nbsp;final&nbsp;PointSet&nbsp;ps&nbsp;=&nbsp;new&nbsp;RoiPointSet(overlay.getRegionOfInterest());&lt;br&gt;&lt;/div&gt;    &nbsp;return&nbsp;(double)&nbsp;opService.mean(ps);&lt;br&gt;}&lt;br&gt;&lt;br&gt;&lt;/div&gt;The&nbsp;PointSet&nbsp;API&nbsp;seems&nbsp;to&nbsp;be&nbsp;deprecated&nbsp;and&nbsp;when&nbsp;I&nbsp;dig&nbsp;into&nbsp;the&nbsp;Ops&nbsp;code,&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;statistic&nbsp;function&nbsp;just&nbsp;accept&nbsp;an&nbsp;iterable.&nbsp;From&nbsp;what&nbsp;I&nbsp;understood,&nbsp;PointSet&nbsp;are&nbsp;set&nbsp;of&nbsp;coordinates&nbsp;inside&nbsp;the&nbsp;image.&nbsp;I&nbsp;guess&nbsp;I&nbsp;need&nbsp;to&nbsp;associate&nbsp;the&nbsp;coordinates&nbsp;to&nbsp;a&nbsp;dataset&nbsp;and&nbsp;get&nbsp;an&nbsp;Iterable/Function&nbsp;out&nbsp;of&nbsp;it.&nbsp;Is&nbsp;there&nbsp;a&nbsp;service&nbsp;that&nbsp;already&nbsp;does&nbsp;this&nbsp;?&nbsp;Or&nbsp;is&nbsp;it&nbsp;the&nbsp;wrong&nbsp;approach&nbsp;?&lt;br&gt;&lt;br&gt;&lt;/div&gt;Cheers,&lt;br&gt;&lt;br&gt;&lt;/div&gt;Cyril&lt;br&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
