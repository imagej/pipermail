<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=Windows-1252&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;<br>
Hi&nbsp;Tobi,<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;this&nbsp;does&nbsp;look&nbsp;pretty&nbsp;impressive&nbsp;indeed.&nbsp;As&nbsp;it&nbsp;is&nbsp;modified&nbsp;on&nbsp;runtime,&nbsp;it&nbsp;should&nbsp;even&nbsp;work&nbsp;with&nbsp;new&nbsp;Types&nbsp;and&nbsp;Accessibles&nbsp;that&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;ImgLib2&nbsp;but&nbsp;some&nbsp;external&nbsp;program&nbsp;that&nbsp;is&nbsp;based&nbsp;on&nbsp;ImgLib2&nbsp;and&nbsp;adds&nbsp;for&nbsp;example&nbsp;its&nbsp;own&nbsp;types,&nbsp;or?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Did&nbsp;you&nbsp;test&nbsp;if&nbsp;this&nbsp;scales&nbsp;well&nbsp;with&nbsp;larger&nbsp;number&nbsp;of&nbsp;instances?&nbsp;For&nbsp;ImgLib2&nbsp;it&nbsp;would&nbsp;be&nbsp;something&nbsp;like&nbsp;|accessibles|&nbsp;x&nbsp;|types|,&nbsp;right?&nbsp;In&nbsp;many&nbsp;cases&nbsp;it&nbsp;would&nbsp;not&nbsp;use&nbsp;a&nbsp;lot&nbsp;of&nbsp;the&nbsp;possibilities,&nbsp;but&nbsp;for&nbsp;something&nbsp;like&nbsp;KNIME&nbsp;or&nbsp;ImageJ2&nbsp;this&nbsp;might&nbsp;actually<br>
&nbsp;happen.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Again,&nbsp;looks&nbsp;awesome!&nbsp;And&nbsp;if&nbsp;it&nbsp;turns&nbsp;out&nbsp;to&nbsp;be&nbsp;working&nbsp;in&nbsp;all&nbsp;cases,&nbsp;I&nbsp;agree,&nbsp;this&nbsp;could&nbsp;be&nbsp;a&nbsp;huge&nbsp;game&nbsp;changer.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Cheers,&lt;/div&gt;<br>
&lt;div&gt;Steffi&lt;br&gt;<br>
&lt;div&nbsp;apple-content-edited=&quot;true&quot;&gt;<br>
&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;---&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;Dr.&nbsp;Stephan&nbsp;Preibisch&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;HFSP&nbsp;Fellow&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;Robert&nbsp;H.&nbsp;Singer&nbsp;/&nbsp;Eugene&nbsp;Myers&nbsp;lab&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;Albert&nbsp;Einstein&nbsp;College&nbsp;of&nbsp;Medicine&nbsp;/&nbsp;HHMI&nbsp;Janelia&nbsp;Farm&nbsp;/&nbsp;MPI-CBG&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;email:&nbsp;&lt;a&nbsp;href=&quot;mailto:stephan.preibisch@einstein.yu.edu&quot;&gt;stephan.preibisch@einstein.yu.edu&lt;/a&gt;&nbsp;/&nbsp;&lt;a&nbsp;href=&quot;mailto:preibischs@janelia.hhmi.org&quot;&gt;preibischs@janelia.hhmi.org&lt;/a&gt;&nbsp;/&nbsp;&lt;a&nbsp;href=&quot;mailto:preibisch@mpi-cbg.de&quot;&gt;preibisch@mpi-cbg.de&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;orphans:&nbsp;2;&nbsp;widows:&nbsp;2;&quot;&gt;web:&nbsp;&lt;a&nbsp;href=&quot;http://fly.mpi-cbg.de/preibisch&quot;&gt;http://www.preibisch.net/&lt;/a&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;On&nbsp;Sep&nbsp;23,&nbsp;2014,&nbsp;at&nbsp;19:02&nbsp;,&nbsp;Tobias&nbsp;Pietzsch&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:pietzsch@mpi-cbg.de&quot;&gt;pietzsch@mpi-cbg.de&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;<br>
&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hi&nbsp;guys,&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;a&nbsp;weekend&nbsp;project&nbsp;I&nbsp;have&nbsp;started&nbsp;to&nbsp;look&nbsp;into&nbsp;bytecode&nbsp;modification&nbsp;using&nbsp;the&nbsp;wonderful&nbsp;ASM&nbsp;library&nbsp;(&lt;a&nbsp;href=&quot;http://asm.ow2.org&quot;&gt;http://asm.ow2.org&lt;/a&gt;).&lt;br&gt;<br>
I&nbsp;have&nbsp;cleaned&nbsp;up&nbsp;what&nbsp;I&nbsp;have&nbsp;played&nbsp;with&nbsp;and&nbsp;put&nbsp;it&nbsp;on&nbsp;github&nbsp;&lt;a&nbsp;href=&quot;https://github.com/tpietzsch/neon&quot;&gt;<br>
https://github.com/tpietzsch/neon&lt;/a&gt;.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;tackles&nbsp;a&nbsp;long-standing&nbsp;imglib&nbsp;obstacle,&nbsp;namely&nbsp;megamorphic&nbsp;call-sites&nbsp;in&nbsp;certain&nbsp;methods,&nbsp;where&nbsp;the&nbsp;JIT&nbsp;fails&nbsp;to&nbsp;recognise&nbsp;that&nbsp;the&nbsp;runtime&nbsp;target&nbsp;of&nbsp;the&nbsp;polymorphic&nbsp;changes&nbsp;between&nbsp;calls&nbsp;to&nbsp;a&nbsp;method&nbsp;but&nbsp;doesn’t&nbsp;change&nbsp;in&nbsp;the&nbsp;hot&nbsp;inner&nbsp;loop&nbsp;of&nbsp;the&nbsp;method<br>
&nbsp;during&nbsp;a&nbsp;single&nbsp;call.&nbsp;I&nbsp;have&nbsp;been&nbsp;talking&nbsp;about&nbsp;ideas&nbsp;to&nbsp;address&nbsp;this&nbsp;for&nbsp;quite&nbsp;some&nbsp;time,&nbsp;most&nbsp;recently&nbsp;here<br>
&lt;a&nbsp;href=&quot;https://github.com/imglib/imglib/issues/71#issuecomment-51227237&quot;&gt;https://github.com/imglib/imglib/issues/71#issuecomment-51227237&lt;/a&gt;.&nbsp;Now&nbsp;I&nbsp;went&nbsp;ahead&nbsp;and&nbsp;actually&nbsp;tried&nbsp;to&nbsp;do&nbsp;something&nbsp;about&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;applied&nbsp;it&nbsp;to&nbsp;an&nbsp;example&nbsp;in&nbsp;imglib,&nbsp;which&nbsp;is&nbsp;described&nbsp;below.&nbsp;But&nbsp;for&nbsp;anyone&nbsp;not&nbsp;familiar&nbsp;with&nbsp;this&nbsp;particular&nbsp;issue&nbsp;(which&nbsp;is&nbsp;everyone&nbsp;except&nbsp;Christian&nbsp;probably)&nbsp;there&lt;br&gt;<br>
is&nbsp;an&nbsp;illustrative&nbsp;example&nbsp;with&nbsp;explanations&nbsp;in&nbsp;the&nbsp;README&nbsp;on&nbsp;github&nbsp;&lt;a&nbsp;href=&quot;https://github.com/tpietzsch/neon/blob/master/README.md&quot;&gt;<br>
https://github.com/tpietzsch/neon/blob/master/README.md&lt;/a&gt;.&lt;br&gt;<br>
This&nbsp;does&nbsp;not&nbsp;involve&nbsp;imglib&nbsp;at&nbsp;all&nbsp;and&nbsp;is&nbsp;a&nbsp;clear&nbsp;illustration&nbsp;of&nbsp;the&nbsp;problem&nbsp;(and&nbsp;my&nbsp;solution).&lt;br&gt;<br>
&lt;br&gt;<br>
I’m&nbsp;quite&nbsp;happy&nbsp;with&nbsp;how&nbsp;it&nbsp;turned&nbsp;out&nbsp;so&nbsp;far.&nbsp;It&nbsp;certainly&nbsp;has&nbsp;to&nbsp;be&nbsp;applied&nbsp;with&nbsp;care,&nbsp;but&nbsp;I&nbsp;think&nbsp;this&nbsp;can&nbsp;be&nbsp;potentially&nbsp;huge&nbsp;for&nbsp;imglib2.&nbsp;It&nbsp;might&nbsp;open&nbsp;up&nbsp;new&nbsp;possibilities&nbsp;that&nbsp;we&nbsp;have&nbsp;shied&nbsp;away&nbsp;from&nbsp;because&nbsp;of&nbsp;performance&nbsp;reasons,&nbsp;such&nbsp;as&nbsp;internal&nbsp;iteration<br>
&nbsp;for&nbsp;IterableIntervals.&lt;br&gt;<br>
&lt;br&gt;<br>
Curtis,&nbsp;Johannes&nbsp;and&nbsp;Christian,&nbsp;I&nbsp;would&nbsp;also&nbsp;be&nbsp;interested&nbsp;what&nbsp;you&nbsp;think&nbsp;of&nbsp;this&nbsp;as&nbsp;a&nbsp;potential&nbsp;tool&nbsp;for&nbsp;imagej-ops.&lt;br&gt;<br>
I&nbsp;think&nbsp;it&nbsp;is&nbsp;orthogonal&nbsp;to&nbsp;what&nbsp;you&nbsp;do&nbsp;with&nbsp;compile-time&nbsp;code&nbsp;generation&nbsp;currently&nbsp;and&nbsp;therefore&nbsp;might&nbsp;complement&nbsp;it&nbsp;nicely.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;hope&nbsp;you&nbsp;have&nbsp;a&nbsp;look&nbsp;and&nbsp;tell&nbsp;me&nbsp;what&nbsp;you&nbsp;think.&lt;br&gt;<br>
I&nbsp;would&nbsp;be&nbsp;especially&nbsp;interested&nbsp;in&nbsp;whether&nbsp;you&nbsp;can&nbsp;think&nbsp;of&nbsp;optimization&nbsp;idioms&nbsp;besides&nbsp;the&nbsp;@Instantiate&nbsp;@ByTypeOf&nbsp;that&nbsp;is&nbsp;implemented&nbsp;right&nbsp;now.&lt;br&gt;<br>
It&nbsp;would&nbsp;be&nbsp;cool&nbsp;if&nbsp;we&nbsp;discuss&nbsp;this&nbsp;in&nbsp;the&nbsp;upcoming&nbsp;imglib&nbsp;hackathon.&lt;br&gt;<br>
&lt;br&gt;<br>
Okay,&nbsp;everybody&nbsp;except&nbsp;Christian&nbsp;might&nbsp;as&nbsp;well&nbsp;stop&nbsp;reading&nbsp;now.&lt;br&gt;<br>
&lt;br&gt;<br>
all&nbsp;the&nbsp;best,&lt;br&gt;<br>
Tobias&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
PS:&nbsp;the&nbsp;imglib&nbsp;stuff...&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;the&nbsp;imglib&nbsp;issue&nbsp;&lt;a&nbsp;href=&quot;https://github.com/imglib/imglib/issues/71&quot;&gt;https://github.com/imglib/imglib/issues/71&lt;/a&gt;,&nbsp;we&nbsp;played&nbsp;with&nbsp;ways&nbsp;of&nbsp;iterating&nbsp;pixels&nbsp;which&nbsp;can&nbsp;be&nbsp;optimized&nbsp;for&nbsp;certain&nbsp;subintervals&nbsp;of&nbsp;larger&nbsp;images.&lt;br&gt;<br>
The&nbsp;optimizations&nbsp;work&nbsp;out&nbsp;nicely&nbsp;when&nbsp;done&nbsp;on&nbsp;their&nbsp;own,&nbsp;but&nbsp;everything&nbsp;really&nbsp;breaks&nbsp;down&nbsp;when&nbsp;a&nbsp;single&nbsp;method&nbsp;is&nbsp;used&nbsp;with&nbsp;differnent&nbsp;Cursor&nbsp;incarnations.&lt;br&gt;<br>
This&nbsp;is&nbsp;actually&nbsp;already&nbsp;a&nbsp;potential&nbsp;problem&nbsp;in&nbsp;standard&nbsp;imglib,&nbsp;when&nbsp;Cursors&nbsp;from&nbsp;different&nbsp;Img&nbsp;types&nbsp;are&nbsp;uses&nbsp;in&nbsp;a&nbsp;single&nbsp;method.&nbsp;But&nbsp;adding&nbsp;the&nbsp;new&nbsp;optimized&nbsp;versions&lt;br&gt;<br>
only&nbsp;made&nbsp;it&nbsp;more&nbsp;probable&nbsp;that&nbsp;the&nbsp;problem&nbsp;actually&nbsp;occurs.&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;numbers&nbsp;from&nbsp;a&nbsp;recent&nbsp;test,&nbsp;at&nbsp;a&nbsp;stage&nbsp;where&nbsp;4&nbsp;different&nbsp;kinds&nbsp;of&nbsp;cursors&nbsp;are&nbsp;in&nbsp;play:&lt;br&gt;<br>
&lt;br&gt;<br>
normal&nbsp;cursor&nbsp;|&nbsp;array&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;566&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;371&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;195ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;34.4%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
localizing&nbsp;cursor&nbsp;|&nbsp;array&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;907&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;584&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;323ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;35.6%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
normal&nbsp;cursor&nbsp;|&nbsp;planar&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;562&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;373&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;189ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;33.6%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
localizing&nbsp;cursor&nbsp;|&nbsp;planar&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;928&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;611&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;317ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;34.1%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
With&nbsp;the&nbsp;neon&nbsp;java&nbsp;agent&nbsp;this&nbsp;improves&nbsp;to:&lt;br&gt;<br>
&lt;br&gt;<br>
normal&nbsp;cursor&nbsp;|&nbsp;array&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;153&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;8&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;145ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;94.7%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
localizing&nbsp;cursor&nbsp;|&nbsp;array&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;235&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;200&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;35ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;14.8%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
normal&nbsp;cursor&nbsp;|&nbsp;planar&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;128&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;8&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;120ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;93.7%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
localizing&nbsp;cursor&nbsp;|&nbsp;planar&nbsp;img&lt;br&gt;<br>
walk&nbsp;through&nbsp;a&nbsp;subinterval&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Unoptimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;Optimized&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;Time<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;|&nbsp;Speedup&nbsp;%&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&lt;br&gt;<br>
Best&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;217&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;208&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&nbsp;9ms&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;<br>
&lt;/span&gt;|&nbsp;4.1%&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;|&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;speedup&nbsp;of&nbsp;factor&nbsp;~4&nbsp;to&nbsp;~40&nbsp;can&nbsp;be&nbsp;observed.&lt;br&gt;<br>
These&nbsp;two&nbsp;runs&nbsp;were&nbsp;made&nbsp;with&nbsp;exactly&nbsp;the&nbsp;same&nbsp;code,&nbsp;but&nbsp;for&nbsp;the&nbsp;second&nbsp;one,&nbsp;the&nbsp;program&nbsp;was&nbsp;run&nbsp;with&nbsp;the&nbsp;option&lt;br&gt;<br>
&nbsp;&nbsp;java&nbsp;-javaagent:/path/to/neon-1.0.0-SNAPSHOT.jar&nbsp;…&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;just&nbsp;pushed&nbsp;the&nbsp;example&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;https://github.com/imglib/imglib/commit/a9b70d923e9a84c4055acae96f71d05ca4a26344&quot;&gt;<br>
https://github.com/imglib/imglib/commit/a9b70d923e9a84c4055acae96f71d05ca4a26344&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>

</tt>
