<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Dscho,&lt;div&gt;&lt;br&gt;&lt;div&gt;&gt;&nbsp;as&nbsp;promised,&nbsp;a&nbsp;little&nbsp;Perl&nbsp;script&nbsp;to&nbsp;help&nbsp;with&nbsp;fixup&nbsp;commits.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;very&nbsp;much!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;FYI,&nbsp;I&nbsp;have&nbsp;committed&nbsp;the&nbsp;script,&nbsp;together&nbsp;with&nbsp;your&nbsp;comments,&nbsp;here:&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://github.com/ctrueden/ctr-scripts/commit/35f37efe&quot;&gt;https://github.com/ctrueden/ctr-scripts/commit/35f37efe&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;I&nbsp;also&nbsp;added&nbsp;the&nbsp;alias&nbsp;&quot;fix&nbsp;=&nbsp;!fixup-rebase&quot;&nbsp;to&nbsp;my&nbsp;.gitconfig.&nbsp;Works&nbsp;like&nbsp;a&nbsp;charm.&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Cheers,&lt;/div&gt;&lt;div&nbsp;style&gt;Curtis&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Feb&nbsp;4,&nbsp;2013&nbsp;at&nbsp;5:55&nbsp;PM,&nbsp;Johannes&nbsp;Schindelin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:schindelin@wisc.edu&quot;&nbsp;target=&quot;_blank&quot;&gt;schindelin@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;Hi&nbsp;Curtis,&lt;br&gt;<br>
&lt;br&gt;<br>
as&nbsp;promised,&nbsp;a&nbsp;little&nbsp;Perl&nbsp;script&nbsp;to&nbsp;help&nbsp;with&nbsp;fixup&nbsp;commits.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;everybody&nbsp;who&nbsp;wonders&nbsp;what&nbsp;I&nbsp;am&nbsp;talking&nbsp;about:&nbsp;my&nbsp;preferred&nbsp;workflow&lt;br&gt;<br>
involves&nbsp;topic&nbsp;branches&nbsp;for&nbsp;projects&nbsp;involving&nbsp;more&nbsp;than&nbsp;one&nbsp;commit&lt;br&gt;<br>
(single&nbsp;commits&nbsp;are&nbsp;not&nbsp;worth&nbsp;the&nbsp;hassle).&nbsp;For&nbsp;this,&nbsp;I&nbsp;start&nbsp;with&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;git&nbsp;checkout&nbsp;-b&nbsp;&lt;name&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
(Actually,&nbsp;very&nbsp;often&nbsp;I&nbsp;do&nbsp;have&nbsp;changes&nbsp;already,&nbsp;but&nbsp;that&#39;s&nbsp;okay,&nbsp;I&nbsp;can&lt;br&gt;<br>
still&nbsp;make&nbsp;a&nbsp;new&nbsp;branch&nbsp;from&nbsp;the&nbsp;current&nbsp;state.)&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;I&nbsp;make&nbsp;changes&nbsp;and&nbsp;commit&nbsp;and&nbsp;rewrite&nbsp;the&nbsp;topic&nbsp;branch&nbsp;frequently.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;example,&nbsp;when&nbsp;I&nbsp;find&nbsp;that&nbsp;I&nbsp;made&nbsp;a&nbsp;mistake&nbsp;in&nbsp;the&nbsp;first&nbsp;commit,&nbsp;but&nbsp;I&lt;br&gt;<br>
am&nbsp;already&nbsp;on&nbsp;the&nbsp;fourth&nbsp;commit&nbsp;in&nbsp;the&nbsp;topic&nbsp;branch,&nbsp;I&nbsp;commit&nbsp;a&nbsp;&quot;fixup&quot;:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;git&nbsp;commit&nbsp;--fixup&nbsp;HEAD^^^&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;tells&nbsp;Git&nbsp;to&nbsp;look&nbsp;at&nbsp;the&nbsp;third-last&nbsp;commit,&nbsp;take&nbsp;the&nbsp;first&nbsp;line,&lt;br&gt;<br>
prepend&nbsp;it&nbsp;with&nbsp;&quot;fixup!&nbsp;&quot;&nbsp;and&nbsp;commit&nbsp;with&nbsp;that&nbsp;message.&nbsp;Such&nbsp;a&lt;br&gt;<br>
specially-crafted&nbsp;commit&nbsp;message&nbsp;is&nbsp;interpreted&nbsp;by&nbsp;&quot;git&nbsp;rebase&nbsp;-i&lt;br&gt;<br>
--autosquash&quot;&nbsp;to&nbsp;mean&nbsp;that&nbsp;it&nbsp;should&nbsp;reorder&nbsp;the&nbsp;commits&nbsp;so&nbsp;that&nbsp;the&nbsp;fixup&lt;br&gt;<br>
commit&nbsp;can&nbsp;amend&nbsp;the&nbsp;original&nbsp;one.&lt;br&gt;<br>
&lt;br&gt;<br>
After&nbsp;a&nbsp;couple&nbsp;of&nbsp;commits,&nbsp;my&nbsp;topic&nbsp;branch&nbsp;would&nbsp;look&nbsp;a&nbsp;bit&nbsp;like&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;hash&gt;&nbsp; &nbsp;&lt;first-line&gt;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;01234567&nbsp;Fix&nbsp;typos&nbsp;in&nbsp;the&nbsp;README&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;cafebabe&nbsp;Format&nbsp;LICENSE&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;fedcba98&nbsp;fixup!&nbsp;Fix&nbsp;typos&nbsp;in&nbsp;the&nbsp;README&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;223387ab&nbsp;Add&nbsp;another&nbsp;author&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;calling&nbsp;&quot;git&nbsp;rebase&nbsp;-i&nbsp;--autosquash&nbsp;origin/master&quot;&nbsp;--&nbsp;assuming&nbsp;that&nbsp;I&lt;br&gt;<br>
started&nbsp;my&nbsp;topic&nbsp;branch&nbsp;directly&nbsp;on&nbsp;origin/master&nbsp;--&nbsp;Git&nbsp;would&nbsp;present&nbsp;me&lt;br&gt;<br>
with&nbsp;an&nbsp;&quot;edit&nbsp;script&quot;&nbsp;like&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;pick&nbsp;01234567&nbsp;Fix&nbsp;typos&nbsp;in&nbsp;the&nbsp;README&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;fixup&nbsp;fedcba98&nbsp;fixup!&nbsp;Fix&nbsp;typos&nbsp;in&nbsp;the&nbsp;README&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;pick&nbsp;cafebabe&nbsp;Format&nbsp;LICENSE&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;pick&nbsp;223387ab&nbsp;Add&nbsp;another&nbsp;author&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;&quot;fixup&quot;&nbsp;means&nbsp;that&nbsp;the&nbsp;second&nbsp;commit&nbsp;will&nbsp;be&nbsp;applied,&nbsp;but&nbsp;these&lt;br&gt;<br>
changes&nbsp;will&nbsp;be&nbsp;merged&nbsp;into&nbsp;the&nbsp;first&nbsp;commit.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;could&nbsp;ask&nbsp;rebase&nbsp;for&nbsp;further&nbsp;changes,&nbsp;such&nbsp;as&nbsp;&quot;reword&quot;ing&nbsp;the&nbsp;rather&lt;br&gt;<br>
unhelpful&nbsp;commit&nbsp;message&nbsp;of&nbsp;the&nbsp;now-last&nbsp;commit,&nbsp;but&nbsp;usually&nbsp;I&nbsp;keep&nbsp;things&lt;br&gt;<br>
as&nbsp;they&nbsp;are&nbsp;with&nbsp;the&nbsp;autosquash&#39;ed&nbsp;reordering.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;grow&nbsp;tired&nbsp;--&nbsp;as&nbsp;did&nbsp;I&nbsp;--&nbsp;of&nbsp;having&nbsp;to&nbsp;type&nbsp;&quot;--autosquash&quot;&nbsp;all&nbsp;the&lt;br&gt;<br>
time:&nbsp;do&nbsp;what&nbsp;I&nbsp;did:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;git&nbsp;config&nbsp;--global&nbsp;rebase.autosquash&nbsp;true&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;will&nbsp;make&nbsp;that&nbsp;rather&nbsp;helpful&nbsp;behavior&nbsp;the&nbsp;default.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;try&nbsp;to&nbsp;document&nbsp;such&nbsp;things&nbsp;on&nbsp;the&nbsp;Fiji&nbsp;Wiki,&nbsp;of&nbsp;course:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://fiji.sc/Topic_branches&quot;&nbsp;target=&quot;_blank&quot;&gt;http://fiji.sc/Topic_branches&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Back&nbsp;to&nbsp;you&nbsp;Curtis:&nbsp;I&nbsp;did&nbsp;write&nbsp;that&nbsp;Perl&nbsp;script&nbsp;which&nbsp;finds&nbsp;out&nbsp;what&lt;br&gt;<br>
commit&nbsp;you&nbsp;should&nbsp;rebase&nbsp;onto,&nbsp;but&nbsp;the&nbsp;truth&nbsp;is&nbsp;that&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;git&nbsp;rebase&nbsp;-i&nbsp;--autosquash&nbsp;$(git&nbsp;merge-base&nbsp;HEAD&nbsp;origin/master)&lt;br&gt;<br>
&lt;br&gt;<br>
would&nbsp;work&nbsp;just&nbsp;as&nbsp;well:&nbsp;interactive&nbsp;rebase&nbsp;is&nbsp;clever&nbsp;enough&nbsp;not&nbsp;to&lt;br&gt;<br>
rewrite&nbsp;the&nbsp;first&nbsp;commits&nbsp;when&nbsp;there&nbsp;is&nbsp;no&nbsp;need&nbsp;to.&nbsp;In&nbsp;other&nbsp;words,&nbsp;it&lt;br&gt;<br>
does&nbsp;not&nbsp;re-commit&nbsp;any&nbsp;commit&nbsp;when&nbsp;it&nbsp;would&nbsp;have&nbsp;the&nbsp;same&nbsp;parent.&lt;br&gt;<br>
&lt;br&gt;<br>
Ciao,&lt;br&gt;<br>
Dscho&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
