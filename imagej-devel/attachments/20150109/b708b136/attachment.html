<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Hadrien,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&#39;ve&nbsp;identified&nbsp;at&nbsp;least&nbsp;two&nbsp;bugs&nbsp;that&nbsp;could&nbsp;be&nbsp;affecting&nbsp;you&nbsp;here.&lt;br&gt;&lt;br&gt;&lt;/div&gt;First&nbsp;of&nbsp;all,&nbsp;there&nbsp;was&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;OME-TIFF&nbsp;format&nbsp;writing&nbsp;out&nbsp;multi-dimensional&nbsp;images.&nbsp;That&#39;s&nbsp;fixed&nbsp;on&nbsp;a&nbsp;branch&nbsp;but&nbsp;not&nbsp;uploaded&nbsp;to&nbsp;Fiji&nbsp;yet&nbsp;[1].&lt;br&gt;&lt;br&gt;&lt;/div&gt;Second,&nbsp;it&nbsp;seems&nbsp;like&nbsp;cropping&nbsp;is&nbsp;restricting&nbsp;pixel&nbsp;reads&nbsp;to&nbsp;the&nbsp;correct&nbsp;region&nbsp;but&nbsp;then&nbsp;doesn&#39;t&nbsp;change&nbsp;the&nbsp;image&nbsp;size.&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&#39;m&nbsp;hoping&nbsp;when&nbsp;I&nbsp;fix&nbsp;the&nbsp;second&nbsp;issue&nbsp;writing&nbsp;cropped&nbsp;regions&nbsp;will&nbsp;be&nbsp;fixed.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Thanks&nbsp;for&nbsp;the&nbsp;great&nbsp;feedback!&lt;br&gt;&lt;/div&gt;-&nbsp;Mark&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-ome-xml/tree/fix-writing&quot;&gt;https://github.com/scifio/scifio-ome-xml/tree/fix-writing&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;9,&nbsp;2015&nbsp;at&nbsp;11:49&nbsp;AM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;also&nbsp;confirm&nbsp;the&nbsp;same&nbsp;behaviour&nbsp;when&nbsp;replacing&nbsp;original&nbsp;file&nbsp;by&nbsp;OME&lt;br&gt;<br>
sample&nbsp;data&nbsp;:&nbsp;&lt;a&nbsp;href=&quot;http://www.openmicroscopy.org/Schemas/Samples/2013-06/bioformats-artificial/multi-channel-4D-series.ome.tif.zip&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.openmicroscopy.org/Schemas/Samples/2013-06/bioformats-artificial/multi-channel-4D-series.ome.tif.zip&lt;/a&gt;.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;im&nbsp;HOEnZb&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Hadrien&nbsp;Mary&lt;br&gt;<br>
&lt;br&gt;<br>
Ph.D&nbsp;student&nbsp;in&nbsp;Biology&lt;br&gt;<br>
Tournier-Gachet&nbsp;Team&lt;br&gt;<br>
CNRS&nbsp;-&nbsp;LBCMCP&nbsp;-&nbsp;UMR&nbsp;5088&lt;br&gt;<br>
&lt;br&gt;<br>
Université&nbsp;de&nbsp;Toulouse&nbsp;-&nbsp;Bât.&nbsp;4R3B1&lt;br&gt;<br>
118,&nbsp;route&nbsp;de&nbsp;Narbonne&nbsp;-&nbsp;31062&nbsp;Toulouse&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;9,&nbsp;2015&nbsp;at&nbsp;6:46&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;After&nbsp;some&nbsp;investigations&nbsp;I&nbsp;think&nbsp;there&nbsp;is&nbsp;a&nbsp;bug&nbsp;with&nbsp;ImgSaver.&nbsp;In&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;following&nbsp;script,&nbsp;X,&nbsp;Y&nbsp;crop&nbsp;is&nbsp;fine&nbsp;but&nbsp;axes&nbsp;informations&nbsp;(T&nbsp;and&nbsp;Z)&lt;br&gt;<br>
&gt;&nbsp;are&nbsp;lost&nbsp;and&nbsp;all&nbsp;frames&nbsp;appears&nbsp;on&nbsp;the&nbsp;same&nbsp;axes.&nbsp;Now&nbsp;if&nbsp;I&nbsp;replace&lt;br&gt;<br>
&gt;&nbsp;&quot;target&nbsp;=&nbsp;&quot;/home/hadim/cropped.tif&quot;&nbsp;by&nbsp;&quot;target&nbsp;=&lt;br&gt;<br>
&gt;&nbsp;&quot;/home/hadim/cropped.ome.tif&quot;&nbsp;on&nbsp;line&nbsp;9.&nbsp;X,&nbsp;Y&nbsp;crop&nbsp;fails,&nbsp;cropped&lt;br&gt;<br>
&gt;&nbsp;image&nbsp;has&nbsp;the&nbsp;same&nbsp;dimensions&nbsp;than&nbsp;original&nbsp;however&nbsp;axes&nbsp;informations&lt;br&gt;<br>
&gt;&nbsp;(T&nbsp;and&nbsp;Z)&nbsp;are&nbsp;ok.&nbsp;Note&nbsp;that&nbsp;in&nbsp;cropped.ome.tif,&nbsp;pixel&nbsp;values&nbsp;are&lt;br&gt;<br>
&gt;&nbsp;totally&nbsp;incoherent&nbsp;which&nbsp;is&nbsp;not&nbsp;the&nbsp;case&nbsp;in&nbsp;cropped.tif.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Files&nbsp;can&nbsp;be&nbsp;found&nbsp;here&nbsp;:&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://arwen.hadim.fr/public.php?service=files&amp;t=71aa17336dcccb3437d9a3dff789d2c0&quot;&nbsp;target=&quot;_blank&quot;&gt;https://arwen.hadim.fr/public.php?service=files&amp;t=71aa17336dcccb3437d9a3dff789d2c0&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Archive&nbsp;contains&nbsp;cropped.tif,&nbsp;cropped.ome.tif&nbsp;and&nbsp;original.ome.tif.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;script:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;---------------------------------------------------&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;io.scif&nbsp;import&nbsp;SCIFIO&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;io.scif.config&nbsp;import&nbsp;SCIFIOConfig&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImageRegion&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgOpener&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgSaver&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;net.imglib2.meta&nbsp;import&nbsp;Axes&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;fname&nbsp;=&nbsp;&quot;/home/hadim/original.ome.tif&quot;&lt;br&gt;<br>
&gt;&nbsp;target&nbsp;=&nbsp;&quot;/home/hadim/cropped.tif&quot;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;axes&nbsp;=&nbsp;[Axes.X,&nbsp;Axes.Y]&lt;br&gt;<br>
&gt;&nbsp;ranges&nbsp;=&nbsp;[&quot;%i-%i&quot;&nbsp;%&nbsp;(0,&nbsp;15),&nbsp;&quot;%i-%i&quot;&nbsp;%&nbsp;(0,&nbsp;25)]&lt;br&gt;<br>
&gt;&nbsp;config&nbsp;=&nbsp;SCIFIOConfig()&lt;br&gt;<br>
&gt;&nbsp;config.imgOpenerSetRegion(ImageRegion(axes,&nbsp;ranges))&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;opener&nbsp;=&nbsp;ImgOpener()&lt;br&gt;<br>
&gt;&nbsp;imps&nbsp;=&nbsp;opener.openImgs(fname,&nbsp;config)&lt;br&gt;<br>
&gt;&nbsp;imp&nbsp;=&nbsp;imps[0]&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;saver&nbsp;=&nbsp;ImgSaver()&lt;br&gt;<br>
&gt;&nbsp;saver.saveImg(target,&nbsp;imp)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;print(&#39;Done&#39;)&lt;br&gt;<br>
&gt;&nbsp;---------------------------------------------------&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Fri,&nbsp;Jan&nbsp;9,&nbsp;2015&nbsp;at&nbsp;12:25&nbsp;AM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;tip&nbsp;(reminder&nbsp;to&nbsp;me:&nbsp;always&nbsp;look&nbsp;for&nbsp;example&nbsp;in&nbsp;tests!).&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Unfortunately&nbsp;crop&nbsp;does&nbsp;not&nbsp;work...&nbsp;I&nbsp;will&nbsp;try&nbsp;to&nbsp;do&nbsp;more&nbsp;tests&lt;br&gt;<br>
&gt;&gt;&nbsp;tomorrow&nbsp;or&nbsp;wait&nbsp;for&nbsp;you&nbsp;or&nbsp;someone&nbsp;else&nbsp;to&nbsp;have&nbsp;a&nbsp;look.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Updated&nbsp;code:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;ij&nbsp;import&nbsp;IJ&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;ij&nbsp;import&nbsp;ImagePlus&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;io.scif&nbsp;import&nbsp;SCIFIO&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;io.scif.config&nbsp;import&nbsp;SCIFIOConfig&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImageRegion&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgOpener&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgSaver&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;net.imglib2.meta&nbsp;import&nbsp;Axes&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;fname&nbsp;=&nbsp;&quot;/home/hadim/original.ome.tif&quot;&lt;br&gt;<br>
&gt;&gt;&nbsp;target&nbsp;=&nbsp;&quot;/home/hadim/cropped.ome.tif&quot;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;axes&nbsp;=&nbsp;[Axes.X,&nbsp;Axes.Y]&lt;br&gt;<br>
&gt;&gt;&nbsp;ranges&nbsp;=&nbsp;[&quot;%i-%i&quot;&nbsp;%&nbsp;(2,&nbsp;15),&nbsp;&quot;%i-%i&quot;&nbsp;%&nbsp;(2,&nbsp;25)]&lt;br&gt;<br>
&gt;&gt;&nbsp;config&nbsp;=&nbsp;SCIFIOConfig()&lt;br&gt;<br>
&gt;&gt;&nbsp;config.imgOpenerSetRegion(ImageRegion(axes,&nbsp;ranges))&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;opener&nbsp;=&nbsp;ImgOpener()&lt;br&gt;<br>
&gt;&gt;&nbsp;imps&nbsp;=&nbsp;opener.openImgs(fname,&nbsp;config)&lt;br&gt;<br>
&gt;&gt;&nbsp;imp&nbsp;=&nbsp;imps[0]&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;saver&nbsp;=&nbsp;ImgSaver()&lt;br&gt;<br>
&gt;&gt;&nbsp;saver.saveImg(target,&nbsp;imp)&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;print(&#39;Done&#39;)&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;Fri,&nbsp;Jan&nbsp;9,&nbsp;2015&nbsp;at&nbsp;12:09&nbsp;AM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Hi&nbsp;Hadrien,&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;crop&nbsp;a&nbsp;region&nbsp;in&nbsp;X&nbsp;and&nbsp;Y&nbsp;while&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;keeping&nbsp;any&nbsp;other&nbsp;dimensions&nbsp;which&nbsp;could&nbsp;exist&nbsp;(C,&nbsp;Z,&nbsp;T).&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Here&#39;s&nbsp;some&nbsp;Java:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt; &nbsp; &nbsp; int&nbsp;minX&nbsp;=&nbsp;128,&nbsp;maxX&nbsp;=&nbsp;255,&nbsp;minY&nbsp;=&nbsp;128,&nbsp;minY&nbsp;=&nbsp;255;&lt;br&gt;<br>
&gt;&gt;&gt; &nbsp; &nbsp; AxisType[]&nbsp;axes&nbsp;=&nbsp;{&nbsp;Axes.X,&nbsp;Axes.Y&nbsp;};&lt;br&gt;<br>
&gt;&gt;&gt; &nbsp; &nbsp; String[]&nbsp;ranges&nbsp;=&nbsp;{&nbsp;minX&nbsp;+&nbsp;&quot;-&quot;&nbsp;+&nbsp;maxX,&nbsp;minY&nbsp;+&nbsp;&quot;-&quot;&nbsp;+&nbsp;maxY&nbsp;};&lt;br&gt;<br>
&gt;&gt;&gt; &nbsp; &nbsp; config.imgOpenerSetRegion(new&nbsp;ImageRegion(axes,&nbsp;ranges));&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Adapted&nbsp;from&nbsp;here:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio/blob/scifio-0.18.0/src/test/java/io/scif/img/utests/ImgOpenerTest.java#L189-L191&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio/blob/scifio-0.18.0/src/test/java/io/scif/img/utests/ImgOpenerTest.java#L189-L191&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;And&nbsp;untested.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;HTH,&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Curtis&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2015&nbsp;at&nbsp;4:47&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;After&nbsp;some&nbsp;investigations,&nbsp;I&#39;m&nbsp;pretty&nbsp;sure&nbsp;I&nbsp;don&#39;t&nbsp;instanciate&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;ImageRegion&nbsp;correctly.&nbsp;Doc&nbsp;and&nbsp;source&nbsp;code&nbsp;didn&#39;t&nbsp;help&nbsp;me...&nbsp;I&nbsp;would&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;crop&nbsp;a&nbsp;region&nbsp;in&nbsp;X&nbsp;and&nbsp;Y&nbsp;while&nbsp;keeping&nbsp;any&nbsp;other&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;dimensions&nbsp;which&nbsp;could&nbsp;exist&nbsp;(C,&nbsp;Z,&nbsp;T).&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2015&nbsp;at&nbsp;10:22&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Thank&nbsp;you&nbsp;Curtis&nbsp;for&nbsp;the&nbsp;answer.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;tried&nbsp;to&nbsp;apply&nbsp;what&nbsp;you&nbsp;told&nbsp;me&nbsp;and&nbsp;the&nbsp;code&nbsp;now&nbsp;works&nbsp;without&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;error.&nbsp;However&nbsp;the&nbsp;saved&nbsp;cropped&nbsp;image&nbsp;is&nbsp;not&nbsp;cropped&nbsp;(same&nbsp;size&nbsp;as&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;original)&nbsp;and&nbsp;pixel&nbsp;values&nbsp;are&nbsp;modified).&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Script:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;from&nbsp;io.scif.config&nbsp;import&nbsp;SCIFIOConfig&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImageRegion&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgOpener&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgSaver&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;fname&nbsp;=&nbsp;&quot;/home/hadim/original.ome.tif&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;target&nbsp;=&nbsp;&quot;/home/hadim/cropped.ome.tif&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;config&nbsp;=&nbsp;SCIFIOConfig()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;region&nbsp;=&nbsp;ImageRegion(dict(x=2,&nbsp;y=2,&nbsp;width=10,&nbsp;height=10))&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;config.imgOpenerSetRegion(region)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;opener&nbsp;=&nbsp;ImgOpener()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;imps&nbsp;=&nbsp;opener.openImgs(fname,&nbsp;config)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;imp&nbsp;=&nbsp;imps[0]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;print(imps)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;saver&nbsp;=&nbsp;ImgSaver()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;saver.saveImg(target,&nbsp;imp)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Thanks&nbsp;again&nbsp;for&nbsp;your&nbsp;time.&nbsp;Don&#39;t&nbsp;be&nbsp;sorry&nbsp;if&nbsp;you&nbsp;don&#39;t&nbsp;have&nbsp;time&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;write&nbsp;an&nbsp;example.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;will&nbsp;be&nbsp;happy&nbsp;to&nbsp;provide&nbsp;some&nbsp;python/scifio&nbsp;examples&nbsp;scripts.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Ph.D&nbsp;student&nbsp;in&nbsp;Biology&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Tournier-Gachet&nbsp;Team&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;CNRS&nbsp;-&nbsp;LBCMCP&nbsp;-&nbsp;UMR&nbsp;5088&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Université&nbsp;de&nbsp;Toulouse&nbsp;-&nbsp;Bât.&nbsp;4R3B1&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;118,&nbsp;route&nbsp;de&nbsp;Narbonne&nbsp;-&nbsp;31062&nbsp;Toulouse&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2015&nbsp;at&nbsp;9:56&nbsp;PM,&nbsp;Curtis&nbsp;Rueden&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;Hi&nbsp;Hadrien,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;I&nbsp;tried&nbsp;to&nbsp;use&nbsp;SCIFIO&nbsp;to&nbsp;write&nbsp;cropped&nbsp;image&nbsp;on&nbsp;disk&nbsp;but&nbsp;it&nbsp;doesn&nbsp;not&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;work.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;The&nbsp;error&nbsp;you&nbsp;see&nbsp;is&nbsp;because&nbsp;SCIFIO&nbsp;operates&nbsp;on&nbsp;ImgLib2&nbsp;data&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;structures,&nbsp;not&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;ImagePlus&nbsp;objects.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Is&nbsp;there&nbsp;is&nbsp;any&nbsp;“easy”&nbsp;alternative&nbsp;to&nbsp;BF&nbsp;setCropRegion&nbsp;function&nbsp;in&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;SCIFIO&nbsp;?&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;Yes:&nbsp;you&nbsp;create&nbsp;a&nbsp;SCIFIOConfig,&nbsp;calling&nbsp;imgOpenerSetRegion&nbsp;[1]&nbsp;on&nbsp;it,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;then&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;pass&nbsp;it&nbsp;as&nbsp;an&nbsp;argument&nbsp;to&nbsp;the&nbsp;ImgOpener.&nbsp;You&#39;ll&nbsp;get&nbsp;back&nbsp;an&nbsp;ImgLib2&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;data&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;object&nbsp;which&nbsp;can&nbsp;then&nbsp;be&nbsp;fed&nbsp;to&nbsp;the&nbsp;SCIFIO&nbsp;ImgSaver.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;I&#39;m&nbsp;sorry&nbsp;that&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;time&nbsp;to&nbsp;whip&nbsp;up&nbsp;an&nbsp;example&nbsp;for&nbsp;you&nbsp;right&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;now.&nbsp;It&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;would&nbsp;be&nbsp;great&nbsp;to&nbsp;add&nbsp;more&nbsp;SCIFIO&nbsp;tutorials&nbsp;[2]&nbsp;that&nbsp;use&nbsp;the&nbsp;ImgOpener&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;and&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;ImgSaver,&nbsp;since&nbsp;they&nbsp;are&nbsp;much&nbsp;higher&nbsp;level&nbsp;APIs&nbsp;akin&nbsp;to&nbsp;the&nbsp;Bio-Formats&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;&quot;BF&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;functionality...&nbsp;please&nbsp;feel&nbsp;welcome&nbsp;to&nbsp;contribute&nbsp;some!&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;Regards,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;Curtis&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;[1]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://javadoc.imagej.net/SCIFIO/io/scif/config/SCIFIOConfig.html#imgOpenerSetRegion(io.scif.img.ImageRegion)&quot;&nbsp;target=&quot;_blank&quot;&gt;http://javadoc.imagej.net/SCIFIO/io/scif/config/SCIFIOConfig.html#imgOpenerSetRegion(io.scif.img.ImageRegion)&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;[2]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scifio/scifio-tutorials&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scifio/scifio-tutorials&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;On&nbsp;Thu,&nbsp;Jan&nbsp;8,&nbsp;2015&nbsp;at&nbsp;2:18&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;I&nbsp;am&nbsp;writing&nbsp;a&nbsp;python&nbsp;macro&nbsp;which&nbsp;iterate&nbsp;over&nbsp;all&nbsp;rois&nbsp;in&nbsp;ROI&nbsp;Manager&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;and&nbsp;then&nbsp;use&nbsp;setCropRegion&nbsp;function&nbsp;from&nbsp;bioformat&nbsp;plugin&nbsp;to&nbsp;open&nbsp;a&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;cropped&nbsp;region&nbsp;of&nbsp;an&nbsp;image.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;I&nbsp;tried&nbsp;to&nbsp;use&nbsp;SCIFIO&nbsp;to&nbsp;write&nbsp;cropped&nbsp;image&nbsp;on&nbsp;disk&nbsp;but&nbsp;it&nbsp;doesn&nbsp;not&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;work.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;(I&nbsp;am&nbsp;using&nbsp;an&nbsp;updated&nbsp;version&nbsp;of&nbsp;Fiji.)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Here&nbsp;is&nbsp;my&nbsp;script:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;ij.plugin.frame&nbsp;import&nbsp;RoiManager&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;ij&nbsp;import&nbsp;IJ&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;io.scif.img&nbsp;import&nbsp;ImgSaver&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;loci.plugins&nbsp;import&nbsp;BF&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://loci.plugins.in&quot;&nbsp;target=&quot;_blank&quot;&gt;loci.plugins.in&lt;/a&gt;&nbsp;import&nbsp;ImporterOptions&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;from&nbsp;loci.common&nbsp;import&nbsp;Region&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;import&nbsp;os&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;#&nbsp;Get&nbsp;current&nbsp;image&nbsp;filename&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;imp&nbsp;=&nbsp;IJ.getImage()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;f&nbsp;=&nbsp;imp.getOriginalFileInfo()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;fname&nbsp;=&nbsp;os.path.join(f.directory,&nbsp;f.fileName)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;IJ.log(&#39;Image&nbsp;filename&nbsp;is&nbsp;%s&#39;&nbsp;%&nbsp;fname)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;#&nbsp;Iterate&nbsp;over&nbsp;all&nbsp;ROIs&nbsp;from&nbsp;ROI&nbsp;Manager&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;rois&nbsp;=&nbsp;RoiManager.getInstance().getRoisAsArray()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;for&nbsp;i,&nbsp;roi&nbsp;in&nbsp;enumerate(rois):&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; crop_id&nbsp;=&nbsp;i&nbsp;+1&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; IJ.log(&quot;Opening&nbsp;crop&nbsp;%i&nbsp;/&nbsp;%i&quot;&nbsp;%&nbsp;(crop_id,&nbsp;len(rois)))&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; bounds&nbsp;=&nbsp;roi.getBounds()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; x&nbsp;=&nbsp;bounds.x&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; y&nbsp;=&nbsp;bounds.y&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; w&nbsp;=&nbsp;bounds.width&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; h&nbsp;=&nbsp;bounds.height&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; #&nbsp;Import&nbsp;only&nbsp;cropped&nbsp;region&nbsp;of&nbsp;the&nbsp;image&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; options&nbsp;=&nbsp;ImporterOptions()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; options.setCrop(True)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; options.setCropRegion(0,&nbsp;Region(x,&nbsp;y,&nbsp;w,&nbsp;h))&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; options.setId(fname)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; imps&nbsp;=&nbsp;BF.openImagePlus(options)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; imp&nbsp;=&nbsp;imps[0]&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; imp.show()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; crop_basename&nbsp;=&nbsp;&quot;crop%i_%s&quot;&nbsp;%&nbsp;(crop_id,&nbsp;f.fileName)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; crop_fname&nbsp;=&nbsp;os.path.join(f.directory,&nbsp;crop_basename)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; imp.setTitle(crop_basename)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; #&nbsp;Save&nbsp;image&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; IJ.log(&quot;Saving&nbsp;crop&nbsp;to&nbsp;%s&quot;&nbsp;%&nbsp;crop_fname)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; saver&nbsp;=&nbsp;ImgSaver()&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; saver.saveImg(crop_basename,&nbsp;imp)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;IJ.log(&#39;Done&#39;)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;It&nbsp;fails&nbsp;with&nbsp;this&nbsp;error:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; File&nbsp;&quot;/home/hadim/local/Fiji.app/plugins/Crop_Multi_Roi.py&quot;,&nbsp;line&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;49,&nbsp;in&nbsp;&lt;module&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt; &nbsp; &nbsp; saver.saveImg(crop_basename,&nbsp;imp)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;TypeError:&nbsp;saveImg():&nbsp;1st&nbsp;arg&nbsp;can&#39;t&nbsp;be&nbsp;coerced&nbsp;to&nbsp;io.scif.Writer,&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;String&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.Py.TypeError(Py.java:235)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.core.PyReflectedFunction.throwError(PyReflectedFunction.java:209)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.core.PyReflectedFunction.throwBadArgError(PyReflectedFunction.java:312)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.core.PyReflectedFunction.throwError(PyReflectedFunction.java:321)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.core.PyReflectedFunction.__call__(PyReflectedFunction.java:167)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.core.PyReflectedFunction.__call__(PyReflectedFunction.java:204)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.PyObject.__call__(PyObject.java:422)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.PyObject.__call__(PyObject.java:426)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.PyMethod.__call__(PyMethod.java:139)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.pycode._pyx7.f$0(/home/hadim/local/Fiji.app/plugins/Crop_Multi_Roi.py:51)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.python.pycode._pyx7.call_function(/home/hadim/local/Fiji.app/plugins/Crop_Multi_Roi.py)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.PyTableCode.call(PyTableCode.java:165)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.PyCode.call(PyCode.java:18)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.python.core.Py.runCode(Py.java:1275)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.scijava.plugins.scripting.jython.JythonScriptEngine.eval(JythonScriptEngine.java:76)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.scijava.script.ScriptModule.run(ScriptModule.java:175)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.scijava.module.ModuleRunner.run(ModuleRunner.java:167)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.scijava.module.ModuleRunner.call(ModuleRunner.java:126)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;org.scijava.module.ModuleRunner.call(ModuleRunner.java:65)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;org.scijava.thread.DefaultThreadService$2.call(DefaultThreadService.java:164)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;java.util.concurrent.FutureTask.run(FutureTask.java:262)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;at&nbsp;java.lang.Thread.run(Thread.java:745)&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Three&nbsp;questions:&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;how&nbsp;can&nbsp;I&nbsp;write&nbsp;cropped&nbsp;image&nbsp;(I&nbsp;need&nbsp;to&nbsp;write&nbsp;them&nbsp;as&nbsp;OME&nbsp;Tiff&nbsp;so&nbsp;I&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;need&nbsp;BF&nbsp;or&nbsp;SCIFIO).&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Is&nbsp;there&nbsp;is&nbsp;any&nbsp;“easy”&nbsp;alternative&nbsp;to&nbsp;BF&nbsp;setCropRegion&nbsp;function&nbsp;in&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;SCIFIO&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;?&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;I&nbsp;am&nbsp;currently&nbsp;using&nbsp;RoiManager.getInstance().getRoisAsArray()&nbsp;to&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;retrieve&nbsp;all&nbsp;rois.&nbsp;How&nbsp;can&nbsp;I&nbsp;directly&nbsp;get&nbsp;a&nbsp;ROIManager&nbsp;instance&nbsp;from&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;RoiSet.zip&nbsp;file&nbsp;?&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;very&nbsp;appreciated.&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Thanks&nbsp;!&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;—&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
