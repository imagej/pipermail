<tt>
Hi&nbsp;Johannes,&lt;br&gt;&lt;br&gt;Great,&nbsp;thanks&nbsp;for&nbsp;this.&nbsp;Rick,&nbsp;please&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;this&nbsp;code&nbsp;before&nbsp;beginning&nbsp;work&nbsp;on&nbsp;the&nbsp;imglib&nbsp;unit&nbsp;tests,&nbsp;as&nbsp;it&nbsp;looks&nbsp;like&nbsp;a&nbsp;good&nbsp;starting&nbsp;point.&lt;br&gt;&lt;br&gt;-Curtis&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;14,&nbsp;2010&nbsp;at&nbsp;6:37&nbsp;PM,&nbsp;Johannes&nbsp;Schindelin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:Johannes.Schindelin@gmx.de&quot;&gt;Johannes.Schindelin@gmx.de&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;15&nbsp;Apr&nbsp;2010,&nbsp;Stephan&nbsp;Saalfeld&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Cursor.hasNext()&nbsp;==&nbsp;false&nbsp;does&nbsp;not&nbsp;mean&nbsp;that&nbsp;the&nbsp;cursor&nbsp;is&nbsp;out&nbsp;of&nbsp;image&lt;br&gt;<br>
&amp;gt;&nbsp;bounds&nbsp;and,&nbsp;depending&nbsp;on&nbsp;the&nbsp;container&nbsp;may&nbsp;still&nbsp;point&nbsp;to&nbsp;some&nbsp;data.&lt;br&gt;<br>
&amp;gt;&nbsp;Image&nbsp;keeping&nbsp;track&nbsp;of&nbsp;its&nbsp;cursors,&nbsp;it&nbsp;is&nbsp;good&nbsp;to&nbsp;close&nbsp;them&nbsp;for&nbsp;freeing&lt;br&gt;<br>
&amp;gt;&nbsp;this&nbsp;data.&nbsp; Currently,&nbsp;this&nbsp;is&nbsp;important&nbsp;in&nbsp;cell&nbsp;containers&nbsp;only.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;recent&nbsp;design&nbsp;changes&nbsp;regarding&nbsp;data&nbsp;access&nbsp;make&nbsp;this&lt;br&gt;<br>
&amp;gt;&nbsp;tracking&nbsp;of&nbsp;cursors&nbsp;obsolete&nbsp;and&nbsp;so&nbsp;Cursor.close()&nbsp;too.&nbsp; A&nbsp;good&nbsp;hint&nbsp;is&lt;br&gt;<br>
&amp;gt;&nbsp;that&nbsp;Image.removeCursor()&nbsp;is&nbsp;just&nbsp;never&nbsp;called.&nbsp; But&nbsp;I&nbsp;am&nbsp;very&nbsp;tired&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;have&nbsp;to&nbsp;check&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
Well,&nbsp;for&nbsp;the&nbsp;moment,&nbsp;I&nbsp;just&nbsp;played&nbsp;it&nbsp;safe.&nbsp;Please&nbsp;check&nbsp;out&nbsp;the&lt;br&gt;<br>
junit-tests&nbsp;branch&nbsp;(based&nbsp;on&nbsp;master~2,&nbsp;so&nbsp;it&nbsp;will&nbsp;need&nbsp;adjusting&nbsp;once&nbsp;the&lt;br&gt;<br>
huge&nbsp;changes&nbsp;of&nbsp;containerlevel&nbsp;come&nbsp;in).&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;know&nbsp;that&nbsp;I&nbsp;have&nbsp;to&nbsp;add&nbsp;a&nbsp;few&nbsp;comments,&nbsp;but&nbsp;I&nbsp;just&nbsp;spent&nbsp;almost&nbsp;2&nbsp;hours&lt;br&gt;<br>
to&nbsp;hunt&nbsp;down&nbsp;a&nbsp;bug&nbsp;that&nbsp;I&nbsp;introduced&nbsp;in&nbsp;Fiji&amp;#39;s&nbsp;javac&nbsp;3&nbsp;weeks&nbsp;ago,&nbsp;so&nbsp;I&nbsp;am&lt;br&gt;<br>
thoroughly&nbsp;tired.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;current&nbsp;version&nbsp;of&nbsp;the&nbsp;tests&nbsp;is&nbsp;here:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://pacific.mpi-cbg.de/cgi-bin/gitweb.cgi?p=imglib.git;a=commitdiff;h=fd8eb4b6a9ad62d4103d36017d9da7ff8f4fedae&quot;&nbsp;target=&quot;_blank&quot;&gt;http://pacific.mpi-cbg.de/cgi-bin/gitweb.cgi?p=imglib.git;a=commitdiff;h=fd8eb4b6a9ad62d4103d36017d9da7ff8f4fedae&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
The&nbsp;idea&nbsp;is&nbsp;to&nbsp;have&nbsp;a&nbsp;few&nbsp;helper&nbsp;methods&nbsp;in&nbsp;TestBase&nbsp;which&nbsp;can&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;construct&nbsp;images&nbsp;algorithmically&lt;br&gt;<br>
-&nbsp;compare&nbsp;images&nbsp;to&nbsp;some&nbsp;calculated&nbsp;values&lt;br&gt;<br>
-&nbsp;compare&nbsp;&amp;quot;signatures&amp;quot;,&nbsp;i.e.&nbsp;first&nbsp;and&nbsp;second&nbsp;order&nbsp;moments&nbsp;of&nbsp;intensity&lt;br&gt;<br>
&nbsp; and&nbsp;coordinates.&lt;br&gt;<br>
&lt;br&gt;<br>
Obviously,&nbsp;I&nbsp;want&nbsp;to&nbsp;avoid&nbsp;large&nbsp;test&nbsp;images&nbsp;in&nbsp;the&nbsp;repository,&nbsp;and&nbsp;I&nbsp;want&lt;br&gt;<br>
to&nbsp;make&nbsp;it&nbsp;very&nbsp;simple&nbsp;to&nbsp;add&nbsp;tests,&nbsp;because&nbsp;we&nbsp;need&nbsp;them.&lt;br&gt;<br>
&lt;br&gt;<br>
Ciao,&lt;br&gt;<br>
Johannes&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
You&nbsp;received&nbsp;this&nbsp;message&nbsp;because&nbsp;you&nbsp;are&nbsp;subscribed&nbsp;to&nbsp;the&nbsp;Google&nbsp;Groups&nbsp;&amp;quot;Fiji-devel&amp;quot;&nbsp;group.&lt;br&gt;<br>
To&nbsp;post&nbsp;to&nbsp;this&nbsp;group,&nbsp;send&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:fiji-devel@googlegroups.com&quot;&gt;fiji-devel@googlegroups.com&lt;/a&gt;.&lt;br&gt;<br>
To&nbsp;unsubscribe&nbsp;from&nbsp;this&nbsp;group,&nbsp;send&nbsp;email&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;mailto:fiji-devel%2Bunsubscribe@googlegroups.com&quot;&gt;fiji-devel+unsubscribe@googlegroups.com&lt;/a&gt;.&lt;br&gt;<br>
For&nbsp;more&nbsp;options,&nbsp;visit&nbsp;this&nbsp;group&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://groups.google.com/group/fiji-devel?hl=en&quot;&nbsp;target=&quot;_blank&quot;&gt;http://groups.google.com/group/fiji-devel?hl=en&lt;/a&gt;.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
