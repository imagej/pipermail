<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Hadrien,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;write&nbsp;a&nbsp;small&nbsp;script&nbsp;to&nbsp;perform&nbsp;z&nbsp;projection&nbsp;on&nbsp;an&lt;/div&gt;&lt;div&gt;&gt;&nbsp;image.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;playing&nbsp;with&nbsp;Ops,&nbsp;and&nbsp;sorry&nbsp;that&nbsp;no&nbsp;one&nbsp;replied&nbsp;to&nbsp;this&nbsp;thread&nbsp;until&nbsp;now!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;just&nbsp;wanted&nbsp;to&nbsp;let&nbsp;you&nbsp;know&nbsp;that&nbsp;based&nbsp;on&nbsp;your&nbsp;attempts,&nbsp;we&nbsp;are&nbsp;preparing&nbsp;a&nbsp;Z&nbsp;projection&nbsp;example&nbsp;with&nbsp;Ops&nbsp;for&nbsp;the&nbsp;upcoming&nbsp;2015&nbsp;ImageJ&nbsp;conference.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Preliminary&nbsp;work&nbsp;can&nbsp;be&nbsp;seen&nbsp;at:&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-tutorials/pull/16&quot;&gt;https://github.com/imagej/imagej-tutorials/pull/16&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;will&nbsp;merge&nbsp;to&nbsp;master&nbsp;within&nbsp;the&nbsp;next&nbsp;few&nbsp;days,&nbsp;and&nbsp;become&nbsp;available&nbsp;in&nbsp;ImageJ&#39;s&nbsp;Script&nbsp;Editor&nbsp;in&nbsp;the&nbsp;Templates&nbsp;&gt;&nbsp;Tutorials&nbsp;menu&nbsp;by&nbsp;the&nbsp;conference.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Jan&nbsp;24,&nbsp;2015&nbsp;at&nbsp;4:29&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;tried&nbsp;another&nbsp;approach&nbsp;without&nbsp;success&nbsp;neither&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
-----------------------------------&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;#&nbsp;@DatasetService&nbsp;data&lt;br&gt;<br>
#&nbsp;@DisplayService&nbsp;display&lt;br&gt;<br>
&lt;/span&gt;#&nbsp;@ImageJ&nbsp;ij&lt;br&gt;<br>
&lt;br&gt;<br>
from&nbsp;net.imagej.ops.statistics&nbsp;import&nbsp;Max&lt;br&gt;<br>
from&nbsp;net.imagej.ops.statistics&nbsp;import&nbsp;Sum&lt;br&gt;<br>
from&nbsp;net.imglib2.type.numeric&nbsp;import&nbsp;RealType&lt;br&gt;<br>
&lt;br&gt;<br>
from&nbsp;jarray&nbsp;import&nbsp;array&lt;br&gt;<br>
&lt;br&gt;<br>
fname&nbsp;=&nbsp;&quot;/home/hadim/test_small.ome.tif&quot;&lt;br&gt;<br>
ds&nbsp;=&nbsp;data.open(fname)&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;TODO&nbsp;:&nbsp;find&nbsp;dimensions&nbsp;in&nbsp;ds&nbsp;object&lt;br&gt;<br>
dims&nbsp;=&nbsp;array([136,&nbsp;65],&nbsp;&#39;l&#39;)&lt;br&gt;<br>
out&nbsp;=&nbsp;ij.op().createimg(dims)&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;Find&nbsp;ndim&nbsp;for&nbsp;project&nbsp;on&nbsp;Z&nbsp;axis&lt;br&gt;<br>
ndim&nbsp;=&nbsp;2&lt;br&gt;<br>
&lt;br&gt;<br>
op&nbsp;=&nbsp;ij.op().sum(RealType,&nbsp;out)&lt;br&gt;<br>
ds2&nbsp;=&nbsp;ij.op().project(out,&nbsp;ds,&nbsp;op,&nbsp;ndim)&lt;br&gt;<br>
&lt;br&gt;<br>
ij.ui().show(ds2.getName(),&nbsp;ds2)&lt;br&gt;<br>
&lt;br&gt;<br>
#&nbsp;TODO:&nbsp;should&nbsp;I&nbsp;delete&nbsp;out&nbsp;?&lt;br&gt;<br>
-------------------------------------&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;im&nbsp;HOEnZb&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Hadrien&nbsp;Mary&lt;br&gt;<br>
&lt;br&gt;<br>
Ph.D&nbsp;student&nbsp;in&nbsp;Biology&lt;br&gt;<br>
Tournier-Gachet&nbsp;Team&lt;br&gt;<br>
CNRS&nbsp;-&nbsp;LBCMCP&nbsp;-&nbsp;UMR&nbsp;5088&lt;br&gt;<br>
&lt;br&gt;<br>
Université&nbsp;de&nbsp;Toulouse&nbsp;-&nbsp;Bât.&nbsp;4R3B1&lt;br&gt;<br>
118,&nbsp;route&nbsp;de&nbsp;Narbonne&nbsp;-&nbsp;31062&nbsp;Toulouse&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Sat,&nbsp;Jan&nbsp;24,&nbsp;2015&nbsp;at&nbsp;9:35&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Last&nbsp;thing&nbsp;:&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;run&nbsp;this&nbsp;script&nbsp;in&nbsp;headless&nbsp;mode&nbsp;on&lt;br&gt;<br>
&gt;&nbsp;pretty&nbsp;big&nbsp;images&nbsp;(17GB),&nbsp;so&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;be&nbsp;sure&nbsp;wether&nbsp;`img&nbsp;=&lt;br&gt;<br>
&gt;&nbsp;data.open(fname)`&nbsp;use&nbsp;SCIFIO&nbsp;to&nbsp;open&nbsp;them.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;it&nbsp;does&nbsp;I&nbsp;guess&nbsp;virtual&nbsp;stack&nbsp;is&nbsp;used&nbsp;in&nbsp;case&nbsp;the&nbsp;opened&nbsp;image&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;big.&nbsp;Am&nbsp;I&nbsp;correct&nbsp;?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Ph.D&nbsp;student&nbsp;in&nbsp;Biology&lt;br&gt;<br>
&gt;&nbsp;Tournier-Gachet&nbsp;Team&lt;br&gt;<br>
&gt;&nbsp;CNRS&nbsp;-&nbsp;LBCMCP&nbsp;-&nbsp;UMR&nbsp;5088&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Université&nbsp;de&nbsp;Toulouse&nbsp;-&nbsp;Bât.&nbsp;4R3B1&lt;br&gt;<br>
&gt;&nbsp;118,&nbsp;route&nbsp;de&nbsp;Narbonne&nbsp;-&nbsp;31062&nbsp;Toulouse&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Sat,&nbsp;Jan&nbsp;24,&nbsp;2015&nbsp;at&nbsp;9:25&nbsp;PM,&nbsp;Hadrien&nbsp;Mary&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hadrien.mary@gmail.com&quot;&gt;hadrien.mary@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;write&nbsp;a&nbsp;small&nbsp;script&nbsp;to&nbsp;perform&nbsp;z&nbsp;projection&nbsp;on&nbsp;an&lt;br&gt;<br>
&gt;&gt;&nbsp;image.&nbsp;It&nbsp;seems&nbsp;that&nbsp;I&nbsp;use&nbsp;the&nbsp;wrong&nbsp;signature&nbsp;for&nbsp;ops.project()&lt;br&gt;<br>
&gt;&gt;&nbsp;function.&nbsp;I&nbsp;tried&nbsp;many&nbsp;combinations&nbsp;without&nbsp;success...&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;-------------------------------&lt;br&gt;<br>
&gt;&gt;&nbsp;#&nbsp;@DatasetService&nbsp;data&lt;br&gt;<br>
&gt;&gt;&nbsp;#&nbsp;@DisplayService&nbsp;display&lt;br&gt;<br>
&gt;&gt;&nbsp;#&nbsp;@OpService&nbsp;ops&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;net.imagej.ops.statistics&nbsp;import&nbsp;Max&lt;br&gt;<br>
&gt;&gt;&nbsp;from&nbsp;net.imglib2.type.numeric&nbsp;import&nbsp;RealType&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;fname&nbsp;=&nbsp;&quot;/home/hadim/test_small.ome.tif&quot;&lt;br&gt;<br>
&gt;&gt;&nbsp;img&nbsp;=&nbsp;data.open(fname)&lt;br&gt;<br>
&gt;&gt;&nbsp;display.createDisplay(img.getName(),&nbsp;img)&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;#op&nbsp;=&nbsp;ops.sum(RealType,&nbsp;img)&lt;br&gt;<br>
&gt;&gt;&nbsp;img2&nbsp;=&nbsp;ops.project(img,&nbsp;Max,&nbsp;1)&lt;br&gt;<br>
&gt;&gt;&nbsp;display.createDisplay(img2.getName(),&nbsp;img2)&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;data.save(img2,&nbsp;&quot;/home/hadim/projected.ome.tif&quot;)&lt;br&gt;<br>
&gt;&gt;&nbsp;-----------------------------------&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;looked&nbsp;the&nbsp;doc,&nbsp;imagej-ops&nbsp;tests&nbsp;but&nbsp;I&nbsp;can&#39;t&nbsp;find&nbsp;the&nbsp;correct&lt;br&gt;<br>
&gt;&gt;&nbsp;signature&nbsp;for&nbsp;python.&nbsp;Maybe&nbsp;you&nbsp;can&nbsp;help.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Thank&nbsp;you&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&nbsp;Hadrien&nbsp;Mary&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Ph.D&nbsp;student&nbsp;in&nbsp;Biology&lt;br&gt;<br>
&gt;&gt;&nbsp;Tournier-Gachet&nbsp;Team&lt;br&gt;<br>
&gt;&gt;&nbsp;CNRS&nbsp;-&nbsp;LBCMCP&nbsp;-&nbsp;UMR&nbsp;5088&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Université&nbsp;de&nbsp;Toulouse&nbsp;-&nbsp;Bât.&nbsp;4R3B1&lt;br&gt;<br>
&gt;&gt;&nbsp;118,&nbsp;route&nbsp;de&nbsp;Narbonne&nbsp;-&nbsp;31062&nbsp;Toulouse&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
