<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;those&nbsp;not&nbsp;on&nbsp;the&nbsp;scijava&nbsp;mailing&nbsp;list&nbsp;(see &lt;a&nbsp;href=&quot;http://www.scijava.org/&quot;&gt;http://www.scijava.org/&lt;/a&gt;&nbsp;for&nbsp;details),&nbsp;we&nbsp;have&nbsp;recently&nbsp;improved&nbsp;the&nbsp;ImageJ2&nbsp;plugin&nbsp;framework&nbsp;to&nbsp;be&nbsp;more&nbsp;general,&nbsp;rebranding&nbsp;it&nbsp;the&nbsp;SciJava&nbsp;Common&nbsp;plugin&nbsp;framework.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;some&nbsp;of&nbsp;you&nbsp;already&nbsp;know,&nbsp;SciJava&nbsp;is&nbsp;an&nbsp;umbrella&nbsp;effort&nbsp;to&nbsp;unify&nbsp;efforts&nbsp;across&nbsp;several&nbsp;different&nbsp;software&nbsp;projects,&nbsp;including&nbsp;ImageJ2,&nbsp;Fiji,&nbsp;ImgLib2,&nbsp;Bio-Formats,&nbsp;SCIFIO,&nbsp;OMERO,&nbsp;CellProfiler,&nbsp;KNIME,&nbsp;Icy&nbsp;and&nbsp;more.&nbsp;The&nbsp;primary&nbsp;goal&nbsp;is&nbsp;to&nbsp;share&nbsp;code&nbsp;as&nbsp;much&nbsp;as&nbsp;is&nbsp;practical,&nbsp;and&nbsp;have&nbsp;common&nbsp;standards&nbsp;(e.g,&nbsp;for&nbsp;regions&nbsp;of&nbsp;interests)&nbsp;even&nbsp;when&nbsp;it&nbsp;is&nbsp;not.&lt;br&gt;<br>
<br>
&lt;br&gt;The&nbsp;SciJava&nbsp;Common&nbsp;framework&nbsp;gives&nbsp;us&nbsp;a&nbsp;very&nbsp;small,&nbsp;common&nbsp;place&nbsp;to&nbsp;put&nbsp;shared&nbsp;functionality&nbsp;across&nbsp;these&nbsp;projects.&nbsp;For&nbsp;example,&nbsp;the&nbsp;improved&nbsp;plugin&nbsp;framework&nbsp;means&nbsp;that&nbsp;ImageJ2&nbsp;plugins&nbsp;(e.g.,&nbsp;commands)&nbsp;and&nbsp;SCIFIO&nbsp;plugins&nbsp;(e.g.,&nbsp;file&nbsp;format&nbsp;readers)&nbsp;are&nbsp;now&nbsp;two&nbsp;flavors&nbsp;of&nbsp;the&nbsp;same&nbsp;kool-aid.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;below&nbsp;for&nbsp;further&nbsp;details.&lt;br&gt;&lt;br&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;----------&nbsp;Forwarded&nbsp;message&nbsp;----------&lt;br&gt;From:&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Curtis&nbsp;Rueden&lt;/b&gt;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ctrueden@wisc.edu&quot;&gt;ctrueden@wisc.edu&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
Date:&nbsp;Tue,&nbsp;Feb&nbsp;19,&nbsp;2013&nbsp;at&nbsp;11:22&nbsp;AM&lt;br&gt;Subject:&nbsp;SciJava&nbsp;Common&nbsp;plugin&nbsp;framework&lt;br&gt;To:&nbsp;SciJava&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:scijava@googlegroups.com&quot;&gt;scijava@googlegroups.com&lt;/a&gt;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;everyone,&lt;div&gt;&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;past&nbsp;few&nbsp;days,&nbsp;I&nbsp;factored&nbsp;out&nbsp;the&nbsp;ImageJ2&nbsp;plugin&nbsp;framework&nbsp;from&nbsp;ImageJ2&nbsp;core,&nbsp;migrating&nbsp;it&nbsp;into&nbsp;SciJava&nbsp;Common&nbsp;[1].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SciJava&nbsp;Common&nbsp;now&nbsp;provides&nbsp;a&nbsp;plugin&nbsp;framework,&nbsp;with&nbsp;an&nbsp;extensible&nbsp;mechanism&nbsp;for&nbsp;service&nbsp;discovery,&nbsp;driven&nbsp;by&nbsp;the&nbsp;SezPoz&nbsp;library,&nbsp;so&nbsp;that&nbsp;plugins&nbsp;can&nbsp;be&nbsp;loaded&nbsp;dynamically.&nbsp;We&nbsp;have&nbsp;already&nbsp;updated&nbsp;ImageJ2&nbsp;to&nbsp;use&nbsp;it,&nbsp;and&nbsp;are&nbsp;in&nbsp;the&nbsp;process&nbsp;of&nbsp;refactoring&nbsp;SCIFIO&nbsp;to&nbsp;use&nbsp;it&nbsp;as&nbsp;well.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SCIFIO&nbsp;and&nbsp;ImageJ2&nbsp;were&nbsp;both&nbsp;using&nbsp;SezPoz&nbsp;for&nbsp;extensibility/discovery,&nbsp;and&nbsp;had&nbsp;each&nbsp;invented&nbsp;their&nbsp;own&nbsp;simple&nbsp;application&nbsp;contexts&nbsp;to&nbsp;support&nbsp;this.&nbsp;Using&nbsp;a&nbsp;common&nbsp;library&nbsp;greatly&nbsp;improves&nbsp;DRYness,&nbsp;and&nbsp;truly&nbsp;cements&nbsp;SCIFIO&nbsp;as&nbsp;*the*&nbsp;driving&nbsp;I/O&nbsp;library&nbsp;for&nbsp;ImageJ2&nbsp;and&nbsp;ImgLib2&nbsp;[2].&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;short,&nbsp;we&nbsp;figured:&nbsp;with&nbsp;ImageJ2&nbsp;and&nbsp;SCIFIO&nbsp;being&nbsp;developed&nbsp;in&nbsp;the&nbsp;same&nbsp;office,&nbsp;and&nbsp;both&nbsp;of&nbsp;them&nbsp;part&nbsp;of&nbsp;this&nbsp;common&nbsp;SciJava&nbsp;effort,&nbsp;there&nbsp;really&nbsp;was&nbsp;no&nbsp;excuse&nbsp;not&nbsp;to&nbsp;reuse&nbsp;code&nbsp;between&nbsp;them.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;addition,&nbsp;we&nbsp;have&nbsp;been&nbsp;desiring&nbsp;a&nbsp;way&nbsp;to&nbsp;add&nbsp;extensibility&nbsp;features&nbsp;to&nbsp;ImgLib2,&nbsp;without&nbsp;creating&nbsp;a&nbsp;circular&nbsp;dependency&nbsp;on&nbsp;ImageJ2,&nbsp;and&nbsp;this&nbsp;will&nbsp;now&nbsp;be&nbsp;possible.&nbsp;That&nbsp;is,&nbsp;parts&nbsp;of&nbsp;ImgLib2&nbsp;could&nbsp;now&nbsp;depend&nbsp;on&nbsp;SciJava&nbsp;Common&nbsp;if&nbsp;they&nbsp;wish&nbsp;to&nbsp;provide&nbsp;new&nbsp;types&nbsp;of&nbsp;plugins&nbsp;(e.g.,&nbsp;OPS&nbsp;functions)&nbsp;with&nbsp;automatic&nbsp;discovery.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;refactoring&nbsp;also&nbsp;migrates&nbsp;the&nbsp;ImageJ&nbsp;event&nbsp;subsystem&nbsp;into&nbsp;SciJava&nbsp;Common,&nbsp;meaning&nbsp;that&nbsp;anything&nbsp;using&nbsp;SciJava&nbsp;Common&nbsp;now&nbsp;gets&nbsp;a&nbsp;pub/sub&nbsp;style&nbsp;event&nbsp;system&nbsp;for&nbsp;free.&nbsp;(This&nbsp;will&nbsp;also&nbsp;be&nbsp;useful&nbsp;for&nbsp;SCIFIO/Bio-Formats&nbsp;and&nbsp;ImgLib2,&nbsp;since&nbsp;a&nbsp;long-standing&nbsp;issue&nbsp;has&nbsp;been&nbsp;better&nbsp;hooks&nbsp;into&nbsp;ongoing&nbsp;operations.)&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SciJava&nbsp;Common&nbsp;has&nbsp;two&nbsp;dependencies,&nbsp;SezPoz&nbsp;[3]&nbsp;and&nbsp;EventBus&nbsp;[4],&nbsp;both&nbsp;of&nbsp;which&nbsp;are&nbsp;completely&nbsp;encapsulated&nbsp;such&nbsp;that&nbsp;downstream&nbsp;code&nbsp;does&nbsp;not&nbsp;directly&nbsp;depend&nbsp;on&nbsp;either&nbsp;library.&nbsp;So&nbsp;in&nbsp;the&nbsp;future,&nbsp;we&nbsp;could&nbsp;theoretically&nbsp;switch&nbsp;to&nbsp;a&nbsp;different&nbsp;discovery&nbsp;mechanism&nbsp;or&nbsp;event&nbsp;library&nbsp;with&nbsp;no&nbsp;downstream&nbsp;code&nbsp;changes.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Still&nbsp;to&nbsp;do:&nbsp;improve&nbsp;SciJava&nbsp;Common&#39;s&nbsp;logging&nbsp;implementation.&nbsp;We&nbsp;have&nbsp;an&nbsp;SLF4J-based&nbsp;LogService&nbsp;(as&nbsp;well&nbsp;as&nbsp;a&nbsp;stderr-based&nbsp;one,&nbsp;for&nbsp;simplicity),&nbsp;but&nbsp;it&nbsp;needs&nbsp;to&nbsp;work&nbsp;in&nbsp;a&nbsp;more&nbsp;granular&nbsp;way,&nbsp;with&nbsp;a&nbsp;separate&nbsp;logger&nbsp;for&nbsp;each&nbsp;calling&nbsp;class,&nbsp;similar&nbsp;to&nbsp;how&nbsp;Bio-Formats&nbsp;works&nbsp;now.&nbsp;But&nbsp;I&nbsp;want&nbsp;to&nbsp;avoid&nbsp;the&nbsp;need&nbsp;to&nbsp;manually&nbsp;configure&nbsp;a&nbsp;logger&nbsp;in&nbsp;downstream&nbsp;code;&nbsp;it&nbsp;should&nbsp;rather&nbsp;&quot;just&nbsp;work&quot;.&nbsp;This&nbsp;will&nbsp;give&nbsp;more&nbsp;flexibility&nbsp;when&nbsp;configuring&nbsp;logging.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Lastly,&nbsp;just&nbsp;for&nbsp;fun,&nbsp;some&nbsp;SLOC&nbsp;counts&nbsp;(Java&nbsp;only)&nbsp;as&nbsp;of&nbsp;today:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SciJava&nbsp;Common: 8K&lt;/div&gt;&lt;div&gt;ImgLib1: 37K&lt;/div&gt;&lt;div&gt;ImageJ2: 75K&lt;/div&gt;&lt;div&gt;ImageJ1: 96K&lt;/div&gt;<br>
&lt;div&gt;ImgLib2: 101K&lt;/div&gt;&lt;div&gt;OMERO: 392K&nbsp;[all&nbsp;components,&nbsp;Java&nbsp;only]&lt;br&gt;&lt;/div&gt;&lt;div&gt;Fiji: 506K&nbsp;[no&nbsp;submodules]&lt;/div&gt;&lt;div&gt;Bio-Formats: 584K&nbsp;[develop&nbsp;branch]&lt;/div&gt;&lt;div&gt;SCIFIO: 619K&nbsp;[hinerm/scifio-wrappers&nbsp;branch]&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;remember,&nbsp;kids:&nbsp;every&nbsp;line&nbsp;of&nbsp;code&nbsp;is&nbsp;a&nbsp;liability!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/scijava/scijava-common&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;[2] &lt;a&nbsp;href=&quot;http://trac.imagej.net/ticket/9&quot;&nbsp;target=&quot;_blank&quot;&gt;http://trac.imagej.net/ticket/9&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[3]&nbsp;&lt;a&nbsp;href=&quot;http://sezpoz.java.net/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://sezpoz.java.net/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;[4] &lt;a&nbsp;href=&quot;http://eventbus.org/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://eventbus.org/&lt;/a&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;P.S.&nbsp;Did&nbsp;you&nbsp;know&nbsp;sloccount&nbsp;has&nbsp;concurrency&nbsp;issues?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
