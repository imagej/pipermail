<tt>
Dscho,&nbsp;I&nbsp;like&nbsp;the&nbsp;cut&nbsp;of&nbsp;your&nbsp;jib,&nbsp;but&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;how&nbsp;backwards&nbsp;compatibility&nbsp;with&nbsp;old&nbsp;plugins&nbsp;fits&nbsp;into&nbsp;your&nbsp;proposal.&nbsp;Can&nbsp;they&nbsp;still&nbsp;make&nbsp;GUI&nbsp;calls&nbsp;as&nbsp;before?&nbsp;Do&nbsp;we&nbsp;try&nbsp;to&nbsp;write&nbsp;some&nbsp;crazy&nbsp;wrapper&nbsp;that&nbsp;shoehorns&nbsp;them&nbsp;into&nbsp;the&nbsp;API?&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;:)&lt;/div&gt;&lt;div&gt;-Adam&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Aug&nbsp;31,&nbsp;2010&nbsp;at&nbsp;5:12&nbsp;PM,&nbsp;Johannes&nbsp;Schindelin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:Johannes.Schindelin@gmx.de&quot;&gt;Johannes.Schindelin@gmx.de&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Tue,&nbsp;31&nbsp;Aug&nbsp;2010,&nbsp;Curtis&nbsp;Rueden&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;think&nbsp;the&nbsp;&amp;quot;abstract&nbsp;plugin&amp;quot;&nbsp;mechanism&nbsp;that&nbsp;Dscho&nbsp;&amp;amp;&nbsp;you&nbsp;developed&nbsp;is&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;good&nbsp;start,&nbsp;at&nbsp;least&nbsp;for&nbsp;plugins.&nbsp;Then&nbsp;you&nbsp;do&nbsp;not&nbsp;need&nbsp;a&nbsp;global&nbsp;context&lt;br&gt;<br>
&amp;gt;&nbsp;flag,&nbsp;but&nbsp;rather&nbsp;GenericDialog&nbsp;is&nbsp;only&nbsp;created&nbsp;in&nbsp;the&nbsp;GUI&nbsp;case.&nbsp;So&lt;br&gt;<br>
&amp;gt;&nbsp;plugins&nbsp;written&nbsp;using&nbsp;that&nbsp;new&nbsp;style&nbsp;are&nbsp;one&nbsp;big&nbsp;step&nbsp;closer&nbsp;to&nbsp;working&lt;br&gt;<br>
&amp;gt;&nbsp;headless.&nbsp;I&nbsp;think&nbsp;it&nbsp;is&nbsp;less&nbsp;important&nbsp;that&nbsp;older&nbsp;plugins&nbsp;work&nbsp;headless&lt;br&gt;<br>
&amp;gt;&nbsp;as-is—they&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;use&nbsp;the&nbsp;new&nbsp;style,&nbsp;to&nbsp;solve&nbsp;the&nbsp;problem&lt;br&gt;<br>
&amp;gt;&nbsp;that&nbsp;way.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;For&nbsp;Menus&nbsp;and&nbsp;Tools,&nbsp;I&nbsp;have&nbsp;not&nbsp;examined&nbsp;them&nbsp;in&nbsp;detail&nbsp;yet,&nbsp;so&nbsp;cannot&lt;br&gt;<br>
&amp;gt;&nbsp;really&nbsp;comment.&nbsp;Do&nbsp;you&nbsp;have&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;main&nbsp;offenders?&nbsp;Point&nbsp;to&nbsp;some&lt;br&gt;<br>
&amp;gt;&nbsp;line&nbsp;numbers&nbsp;in&nbsp;code&nbsp;where&nbsp;it&amp;#39;s&nbsp;a&nbsp;problem?&nbsp;It&nbsp;would&nbsp;help&nbsp;save&nbsp;me&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;As&nbsp;I&nbsp;mentioned&nbsp;back&nbsp;in&nbsp;Heidelberg:&nbsp;the&nbsp;main&nbsp;problem&nbsp;is&nbsp;when&nbsp;plugins&nbsp;think&lt;br&gt;<br>
they&nbsp;should&nbsp;open&nbsp;a&nbsp;GUI.&nbsp;Or&nbsp;show&nbsp;anything.&lt;br&gt;<br>
&lt;br&gt;<br>
Split&nbsp;Channels.&nbsp;Plot&nbsp;Profile.&nbsp;Even&nbsp;all&nbsp;the&nbsp;filters&nbsp;that&nbsp;open&nbsp;a&nbsp;new&lt;br&gt;<br>
(filtered)&nbsp;image.&nbsp;All&nbsp;of&nbsp;that&nbsp;is&nbsp;a&nbsp;problem.&nbsp;(Obviously!)&lt;br&gt;<br>
&lt;br&gt;<br>
Why?&nbsp;Because&nbsp;ImageJ&nbsp;plugins&nbsp;do&nbsp;not&nbsp;have&nbsp;a&nbsp;concept&nbsp;of&nbsp;&amp;quot;output&amp;quot;.&nbsp;They&nbsp;just&lt;br&gt;<br>
show&nbsp;stuff,&nbsp;instead&nbsp;of&nbsp;returning&nbsp;_anything_.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Another&nbsp;thing&nbsp;we&nbsp;could&nbsp;do&nbsp;is&nbsp;write&nbsp;a&nbsp;program&nbsp;that&nbsp;is&nbsp;supposed&nbsp;to&nbsp;run&lt;br&gt;<br>
&amp;gt;&nbsp;headless,&nbsp;run&nbsp;it&nbsp;so,&nbsp;and&nbsp;see&nbsp;where&nbsp;the&nbsp;exceptions&nbsp;are&nbsp;raised.&nbsp;Then&nbsp;solve&lt;br&gt;<br>
&amp;gt;&nbsp;them&nbsp;one&nbsp;by&nbsp;one&nbsp;until&nbsp;it&nbsp;works.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;That&nbsp;won&amp;#39;t&nbsp;work.&nbsp;It&nbsp;is&nbsp;a&nbsp;losing&nbsp;battle&nbsp;to&nbsp;try&nbsp;until&nbsp;you&nbsp;found&nbsp;all&nbsp;of&nbsp;the&lt;br&gt;<br>
cases&nbsp;where&nbsp;macros&nbsp;go&nbsp;wrong.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;design&nbsp;I&nbsp;put&nbsp;into&nbsp;the&nbsp;abstract&nbsp;plugin&nbsp;was&nbsp;carefully&nbsp;thought&nbsp;through.&lt;br&gt;<br>
Really.&lt;br&gt;<br>
&lt;br&gt;<br>
Instead&nbsp;of&nbsp;letting&nbsp;the&nbsp;developer&nbsp;make&nbsp;a&nbsp;dialog,&nbsp;she&nbsp;has&nbsp;to&nbsp;specify&nbsp;in&nbsp;a&lt;br&gt;<br>
high-level&nbsp;manner&nbsp;(similar&nbsp;to&nbsp;HTML&nbsp;or&nbsp;LaTeX)&nbsp;_what_&nbsp;she&nbsp;means&nbsp;instead&nbsp;of&lt;br&gt;<br>
_how_&nbsp;it&nbsp;should&nbsp;be&nbsp;displayed.&nbsp;That&nbsp;means&nbsp;both&nbsp;input&nbsp;and&nbsp;output.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;would&nbsp;be&nbsp;positively&nbsp;good&nbsp;if&nbsp;there&nbsp;were&nbsp;things&nbsp;in&nbsp;ImageJ2&nbsp;that&lt;br&gt;<br>
discouraged&nbsp;the&nbsp;developer&nbsp;rather&nbsp;strongly&nbsp;(such&nbsp;by&nbsp;breaking&nbsp;his&nbsp;code)&nbsp;to&lt;br&gt;<br>
open&nbsp;any&nbsp;GUI&nbsp;elements.&lt;br&gt;<br>
&lt;br&gt;<br>
Of&nbsp;course,&nbsp;there&nbsp;are&nbsp;--&nbsp;some&nbsp;--&nbsp;things&nbsp;that&nbsp;developers&nbsp;would&nbsp;like&nbsp;to&nbsp;do&lt;br&gt;<br>
with&nbsp;a&nbsp;GUI,&nbsp;such&nbsp;as&nbsp;interactions&nbsp;with&nbsp;sliders,&nbsp;aspect&nbsp;ratio&nbsp;constraining,&lt;br&gt;<br>
validation&nbsp;routines,&nbsp;etc.&nbsp;_All_&nbsp;of&nbsp;these&nbsp;should&nbsp;be&nbsp;offered&nbsp;using&nbsp;the&lt;br&gt;<br>
abstract&nbsp;plugin&nbsp;API.&nbsp;So&nbsp;that&nbsp;nobody&nbsp;has&nbsp;an&nbsp;excuse&nbsp;to&nbsp;make&nbsp;proper&nbsp;plugins&lt;br&gt;<br>
that&nbsp;run&nbsp;in&nbsp;a&nbsp;headless&nbsp;manner,&nbsp;that&nbsp;indeed&nbsp;could&nbsp;be&nbsp;shipped&nbsp;in&nbsp;a&nbsp;task&lt;br&gt;<br>
packet&nbsp;to&nbsp;a&nbsp;TV,&nbsp;a&nbsp;mobile&nbsp;phone&nbsp;or&nbsp;a&nbsp;toaster&nbsp;via&nbsp;TCP/IP,&nbsp;returning&nbsp;as&lt;br&gt;<br>
result&nbsp;packets.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;abstract&nbsp;plugin&nbsp;API&nbsp;should&nbsp;make&nbsp;specifying&nbsp;such&nbsp;things&nbsp;so&nbsp;easy&nbsp;that&nbsp;it&lt;br&gt;<br>
would&nbsp;be&nbsp;a&nbsp;bigger&nbsp;hassle&nbsp;to&nbsp;implement&nbsp;the&nbsp;GUI&nbsp;stuff&nbsp;yourself&nbsp;(thereby&lt;br&gt;<br>
breaking&nbsp;macro&nbsp;recording,&nbsp;headless&nbsp;operation,&nbsp;cluster&nbsp;queue&nbsp;submission,&lt;br&gt;<br>
etc).&lt;br&gt;<br>
&lt;br&gt;<br>
Ciao,&lt;br&gt;<br>
Dscho&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagejdev.org&quot;&gt;ImageJ-devel@imagejdev.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://imagejdev.org/mailman/listinfo/imagej-devel&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagejdev.org/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
