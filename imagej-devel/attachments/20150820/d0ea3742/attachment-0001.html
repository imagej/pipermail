<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Felix,&nbsp;Jan&nbsp;and&nbsp;everyone,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&nbsp;I&nbsp;couldn’t&nbsp;find&nbsp;any&nbsp;hint&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&lt;/div&gt;&lt;div&gt;&gt;&nbsp;a&nbsp;parameter&nbsp;(declared&nbsp;with&nbsp;the&nbsp;annotator)&nbsp;in&nbsp;a&nbsp;callback&nbsp;that&nbsp;for&lt;/div&gt;&lt;div&gt;&gt;&nbsp;another&nbsp;parameter.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;is&nbsp;possible&nbsp;to&nbsp;dynamically&nbsp;adjust&nbsp;parameters&nbsp;from&nbsp;Java&nbsp;code&nbsp;[1].&nbsp;You&nbsp;can&nbsp;also&nbsp;dynamically&nbsp;add&nbsp;and&nbsp;remove&nbsp;parameters.&nbsp;Such&nbsp;commands&nbsp;extend&nbsp;the&nbsp;DynamicCommand&nbsp;class.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;are&nbsp;many&nbsp;examples&nbsp;currently&nbsp;in&nbsp;the&nbsp;imagej-plugins-commands&nbsp;project;&nbsp;e.g.:&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-plugins-commands/blob/imagej-plugins-commands-0.5.1/src/main/java/net/imagej/plugins/commands/restructure/AddAxis.java&quot;&gt;https://github.com/imagej/imagej-plugins-commands/blob/imagej-plugins-commands-0.5.1/src/main/java/net/imagej/plugins/commands/restructure/AddAxis.java&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;a&nbsp;couple&nbsp;of&nbsp;notes:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;This&nbsp;pattern&nbsp;makes&nbsp;the&nbsp;command&nbsp;less&nbsp;reusable&nbsp;from&nbsp;other&nbsp;contexts,&nbsp;because&nbsp;some&nbsp;contexts&nbsp;require&nbsp;a&nbsp;priori&nbsp;knowledge&nbsp;about&nbsp;the&nbsp;number&nbsp;and&nbsp;types&nbsp;of&nbsp;input&nbsp;and&nbsp;output&nbsp;parameters.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;user&nbsp;interface&nbsp;currently&nbsp;does&nbsp;not&nbsp;properly&nbsp;refresh&nbsp;the&nbsp;input&nbsp;harvester&nbsp;dialog&nbsp;if&nbsp;changes&nbsp;are&nbsp;made&nbsp;to&nbsp;parameters&nbsp;from&nbsp;a&nbsp;callback.&nbsp;So&nbsp;while&nbsp;you&nbsp;can&nbsp;technically&nbsp;do&nbsp;things&nbsp;like&nbsp;change&nbsp;the&nbsp;choices&nbsp;array&nbsp;of&nbsp;a&nbsp;multiple-choice&nbsp;input,&nbsp;the&nbsp;user&nbsp;will&nbsp;not&nbsp;actually&nbsp;see&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;What&nbsp;does&nbsp;work&nbsp;currently&nbsp;is&nbsp;to&nbsp;determine&nbsp;the&nbsp;multiple-choice&nbsp;values&nbsp;at&nbsp;initialization&nbsp;time,&nbsp;based&nbsp;on&nbsp;the&nbsp;values&nbsp;of&nbsp;parameters&nbsp;which&nbsp;have&nbsp;already&nbsp;been&nbsp;populated&nbsp;earlier,&nbsp;such&nbsp;as&nbsp;an&nbsp;active&nbsp;dataset.&nbsp;This&nbsp;is&nbsp;what&nbsp;many&nbsp;of&nbsp;the&nbsp;DynamicCommand&nbsp;implementations&nbsp;in&nbsp;imagej-plugins-commands&nbsp;do.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Really,&nbsp;there&nbsp;are&nbsp;_five_&nbsp;different&nbsp;classes&nbsp;of&nbsp;commands&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Totally&nbsp;fixed,&nbsp;with&nbsp;inputs&nbsp;and&nbsp;outputs&nbsp;known&nbsp;in&nbsp;advance.&lt;/div&gt;&lt;div&gt;2)&nbsp;Updates&nbsp;parameter&nbsp;attributes&nbsp;(such&nbsp;as&nbsp;choices—but&nbsp;not&nbsp;#&nbsp;or&nbsp;type&nbsp;of&nbsp;inputs/outputs)&nbsp;once&nbsp;during&nbsp;initialization.&lt;/div&gt;&lt;div&gt;3)&nbsp;Updates&nbsp;parameter&nbsp;number&nbsp;and&nbsp;type&nbsp;(i.e.,&nbsp;adding/removing&nbsp;inputs/outputs)&nbsp;once&nbsp;during&nbsp;initialization.&lt;br&gt;&lt;/div&gt;&lt;div&gt;4)&nbsp;Updates&nbsp;parameter&nbsp;attributes&nbsp;repeatedly&nbsp;e.g.&nbsp;during&nbsp;callbacks.&lt;/div&gt;&lt;div&gt;5)&nbsp;Updates&nbsp;parameter&nbsp;number&nbsp;and&nbsp;type&nbsp;repeatedly&nbsp;e.g.&nbsp;during&nbsp;callbacks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Of&nbsp;these,&nbsp;type&nbsp;#1&nbsp;is&nbsp;most&nbsp;desirable&nbsp;for&nbsp;a&nbsp;variety&nbsp;of&nbsp;reasons.&nbsp;Failing&nbsp;that,&nbsp;types&nbsp;#2&nbsp;and&nbsp;#3&nbsp;can&nbsp;be&nbsp;done&nbsp;right&nbsp;now&nbsp;using&nbsp;DynamicCommand&nbsp;and&nbsp;it&nbsp;works&nbsp;properly&nbsp;from&nbsp;the&nbsp;ImageJ&nbsp;UI—but&nbsp;not&nbsp;from&nbsp;other&nbsp;contexts&nbsp;like&nbsp;CellProfiler,&nbsp;KNIME,&nbsp;etc.&nbsp;Types&nbsp;#4&nbsp;and&nbsp;#5&nbsp;can&nbsp;also&nbsp;be&nbsp;coded&nbsp;but&nbsp;will&nbsp;not&nbsp;work&nbsp;properly&nbsp;from&nbsp;the&nbsp;UI&nbsp;in&nbsp;ImageJ&nbsp;because&nbsp;the&nbsp;input&nbsp;harvester&nbsp;is&nbsp;not&nbsp;rebuilt&nbsp;on&nbsp;callbacks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;also:&lt;/div&gt;&lt;div&gt;* &lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/42&quot;&gt;https://github.com/scijava/scijava-common/issues/42&lt;/a&gt;&lt;/div&gt;&lt;div&gt;* &lt;a&nbsp;href=&quot;https://github.com/scijava/scijava-common/issues/43&quot;&gt;https://github.com/scijava/scijava-common/issues/43&lt;/a&gt;&lt;/div&gt;&lt;div&gt;* &lt;a&nbsp;href=&quot;https://github.com/CellProfiler/CellProfiler/issues/647&quot;&gt;https://github.com/CellProfiler/CellProfiler/issues/647&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Curtis&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;Dynamically&nbsp;updating&nbsp;parameters&nbsp;from&nbsp;scripts&nbsp;would&nbsp;be&nbsp;a&nbsp;different&nbsp;story.&nbsp;No&nbsp;plans&nbsp;to&nbsp;do&nbsp;that&nbsp;any&nbsp;time&nbsp;soon...&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;20,&nbsp;2015&nbsp;at&nbsp;6:50&nbsp;AM,&nbsp;Jan&nbsp;Eglinger&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:jan.eglinger@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jan.eglinger@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Felix&nbsp;and&nbsp;all,&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;20.08.2015&nbsp;10:06,&nbsp;MEYENHOFER&nbsp;Felix&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;couldn’t&nbsp;find&nbsp;any&nbsp;hint&nbsp;that&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&nbsp;a&nbsp;parameter&nbsp;(declared&nbsp;with&nbsp;the&nbsp;annotator)&nbsp;in&nbsp;a&nbsp;callback&nbsp;that&nbsp;for&nbsp;another&nbsp;parameter.&nbsp;For&nbsp;example;&nbsp;I&nbsp;have&nbsp;a&nbsp;file&nbsp;chooser&nbsp;and&nbsp;once&nbsp;a&nbsp;file&nbsp;hase&nbsp;been&nbsp;chosen,&nbsp;I&nbsp;want&nbsp;to&nbsp;read&nbsp;some&nbsp;file&nbsp;metadata&nbsp;and&nbsp;then&nbsp;update&nbsp;the&nbsp;choices&nbsp;of&nbsp;the&nbsp;combobox&nbsp;that&nbsp;allows&nbsp;to&nbsp;select&nbsp;the&nbsp;images&nbsp;series.&lt;br&gt;<br>
Since&nbsp;I&nbsp;could&nbsp;not&nbsp;figure&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;it,&nbsp;I&nbsp;wanted&nbsp;to&nbsp;ask&nbsp;here&nbsp;if&nbsp;it&nbsp;is&nbsp;possible&nbsp;at&nbsp;all?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/span&gt;<br>
I&nbsp;think&nbsp;dynamic&nbsp;adjustment&nbsp;of&nbsp;parameters&nbsp;isn&#39;t&nbsp;possible&nbsp;currently,&nbsp;but&nbsp;I&nbsp;agree&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;a&nbsp;great&nbsp;thing&nbsp;to&nbsp;have.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;know&nbsp;quite&nbsp;some&nbsp;use&nbsp;cases&nbsp;where&nbsp;either&nbsp;a&nbsp;DialogListener&nbsp;or&nbsp;a&nbsp;series&nbsp;of&nbsp;subsequent&nbsp;dialogs&nbsp;are&nbsp;used&nbsp;in&nbsp;ImageJ&nbsp;1.x&nbsp;plugins&nbsp;to&nbsp;adjust&nbsp;parameter&nbsp;choice&nbsp;to&nbsp;previously&nbsp;harvested&nbsp;input.&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Furthermore,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;get&nbsp;a&nbsp;directory&nbsp;chooser&nbsp;instead&nbsp;of&nbsp;a&nbsp;file&nbsp;chooser&nbsp;in&nbsp;the&nbsp;configuration&nbsp;dialog&nbsp;of&nbsp;a&nbsp;command&nbsp;using&nbsp;the&nbsp;@Parameter&nbsp;annotation?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/span&gt;<br>
Yes,&nbsp;by&nbsp;using&nbsp;the&lt;br&gt;<br>
 &nbsp; &nbsp;style&nbsp;=&nbsp;&quot;directory&quot;&lt;br&gt;<br>
attribute.&nbsp;See&nbsp;*Templates&nbsp;&gt;&nbsp;Python&nbsp;&gt;&nbsp;Process&nbsp;Folder*&nbsp;in&nbsp;the&nbsp;script&nbsp;editor,&nbsp;and&nbsp;this&nbsp;related&nbsp;discussion:&lt;br&gt;<br>
 &nbsp;&lt;a&nbsp;href=&quot;https://github.com/imagej/imagej-legacy/pull/114&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/imagej/imagej-legacy/pull/114&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Best,&lt;br&gt;<br>
Jan&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
ImageJ-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:ImageJ-devel@imagej.net&quot;&nbsp;target=&quot;_blank&quot;&gt;ImageJ-devel@imagej.net&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://imagej.net/mailman/listinfo/imagej-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imagej.net/mailman/listinfo/imagej-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
