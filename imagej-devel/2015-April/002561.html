<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] ImageJ Custom UI and preprocessors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageJ%20Custom%20UI%20and%20preprocessors&In-Reply-To=%3CCAJf7PRenzGvsmwSQLdhyw%2B2XSNsef2zFYXw0XyiARt4S9%3DymwQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002559.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] ImageJ Custom UI and preprocessors</H1>
    <B>Mongis Cyril</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20ImageJ%20Custom%20UI%20and%20preprocessors&In-Reply-To=%3CCAJf7PRenzGvsmwSQLdhyw%2B2XSNsef2zFYXw0XyiARt4S9%3DymwQ%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] ImageJ Custom UI and preprocessors">cyril.mongis at googlemail.com
       </A><BR>
    <I>Thu Apr 30 04:34:06 CDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002559.html">[ImageJ-devel] ImageJ Custom UI and preprocessors
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2561">[ date ]</a>
              <a href="thread.html#2561">[ thread ]</a>
              <a href="subject.html#2561">[ subject ]</a>
              <a href="author.html#2561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Mark,

Thanks for your help. I used a ImageJ2 command to open the image (the
OpenFile.class module) so the display service knows what's the actual
display :-) I guess it's a preprocessor issue then... I'm gonna implement
my own preprocessor that triggers JavaFX.

The source code is now a bit messy for now but as soon as I get something
clean, I will publish it on Github. JavaFx is a great improvement compared
to swing that really worth the look. For instance, I will use a Webview
associated with Angular JS and a JSON Object Mapper to create a little
embedded web app that list of all modules, and display informations about
them like input, output etc. I also created some kind of new &quot;special
widget&quot; for browsing through N-Dimensional images. I will publish a demo
video when it's fully operational ;-)

I keep you up ;-)

Cheers everyone,

Cyril MONGIS


2015-04-29 15:20 GMT+02:00 Mark Hiner &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">hiner at wisc.edu</A>&gt;:

&gt;<i> Hi Cyril,
</I>&gt;<i>
</I>&gt;<i> &gt;However, when I want to apply a Gaussian Blur (for instance), the
</I>&gt;<i> software sents back a message telling that the &quot;dataset&quot; input hasn't been
</I>&gt;<i> provided. I guess it's a preprocessor issue.
</I>&gt;<i>
</I>&gt;<i> Another possibility is that there actually is no Dataset. A Dataset[1] is
</I>&gt;<i> an ImageJ2 construct, and by default would not be produced by opening an
</I>&gt;<i> image with an ImageJ 1.x command. You can ensure a Dataset is available by
</I>&gt;<i> using an ImageJ2 I/O plugin (e.g. File &gt; Import &gt; Image...) or turn on
</I>&gt;<i> synchronization[2]. Once we get the synchronization step to be more
</I>&gt;<i> performant, it will be made automatic.
</I>&gt;<i>
</I>&gt;<i> &gt;how is the preprocessing order decided ?
</I>&gt;<i>
</I>&gt;<i> All Preprocessors[3] are SciJava Plugins, which are accessed in order of
</I>&gt;<i> priority[4,5]
</I>&gt;<i>
</I>&gt;<i> &gt;Could you point me to some existing preprocessor that does most of the
</I>&gt;<i> logic so I don't have to re-implement simple operations ?
</I>&gt;<i>
</I>&gt;<i> The ActiveDataset preprocessor[6] is what populates single @Dataset
</I>&gt;<i> parameters. There's also an ImagePlus version[7] for making @ImagePlus work.
</I>&gt;<i>
</I>&gt;<i> &gt;<A HREF="http://cyrilmongis.net/img/imagejfx-screenshot.jpg">http://cyrilmongis.net/img/imagejfx-screenshot.jpg</A>
</I>&gt;<i>
</I>&gt;<i> This is fantastic. Is your source code openly available? I'm interested in
</I>&gt;<i> JavaFX - for cross-platform distribution more than as a library, but would
</I>&gt;<i> still be great to see what you're doing.
</I>&gt;<i>
</I>&gt;<i> Thanks for keeping us up to date, let us know how it goes and if you run
</I>&gt;<i> into any more roadblocks (or if any of this is unclear)!
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i> Mark
</I>&gt;<i>
</I>&gt;<i> [1]
</I>&gt;<i> <A HREF="https://github.com/imagej/imagej-common/blob/imagej-common-0.14.0/src/main/java/net/imagej/Dataset.java">https://github.com/imagej/imagej-common/blob/imagej-common-0.14.0/src/main/java/net/imagej/Dataset.java</A>
</I>&gt;<i> [2] <A HREF="http://imagej.net/Compatibility#Translation_of_data_structures">http://imagej.net/Compatibility#Translation_of_data_structures</A>
</I>&gt;<i> [3]
</I>&gt;<i> <A HREF="https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/module/process/PreprocessorPlugin.java">https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/module/process/PreprocessorPlugin.java</A>
</I>&gt;<i> [4]
</I>&gt;<i> <A HREF="https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/plugin/Plugin.java#L129">https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/plugin/Plugin.java#L129</A>
</I>&gt;<i> [5]
</I>&gt;<i> <A HREF="https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/Priority.java">https://github.com/scijava/scijava-common/blob/scijava-common-2.40.0/src/main/java/org/scijava/Priority.java</A>
</I>&gt;<i> [6]
</I>&gt;<i> <A HREF="https://github.com/imagej/imagej-common/blob/imagej-common-0.14.0/src/main/java/net/imagej/display/process/ActiveDatasetPreprocessor.java">https://github.com/imagej/imagej-common/blob/imagej-common-0.14.0/src/main/java/net/imagej/display/process/ActiveDatasetPreprocessor.java</A>
</I>&gt;<i> [7]
</I>&gt;<i> <A HREF="https://github.com/imagej/imagej-legacy/blob/master/src/main/java/net/imagej/legacy/plugin/ActiveImagePlusPreprocessor.java">https://github.com/imagej/imagej-legacy/blob/master/src/main/java/net/imagej/legacy/plugin/ActiveImagePlusPreprocessor.java</A>
</I>&gt;<i>
</I>&gt;<i> On Wed, Apr 29, 2015 at 3:17 AM, Mongis Cyril &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">cyril.mongis at googlemail.com</A>
</I>&gt;<i> &gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Dear all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm actually integrating ImageJ in my PhD project. It leads me to
</I>&gt;&gt;<i> implements a JavaFX UI for ImageJ. Thanks to Curtis's help, I have been
</I>&gt;&gt;<i> able to support image opening and displaying. I'm now facing the issue of
</I>&gt;&gt;<i> triggering the filling of parameters via the UI. My menu is generated via a
</I>&gt;&gt;<i> MenuCreator implementation (the whole MenuCreator structure is a brillant
</I>&gt;&gt;<i> idea by the way, it allowed to integrate the ImageJ Menu in no time !) and
</I>&gt;&gt;<i> call the ShadowMenu.run() for the corresponding module. Applying LUT works
</I>&gt;&gt;<i> (so I guess that getting the active display works). However, when I want to
</I>&gt;&gt;<i> apply a Gaussian Blur (for instance), the software sents back a message
</I>&gt;&gt;<i> telling that the &quot;dataset&quot; input hasn't been provided. I guess it's a
</I>&gt;&gt;<i> preprocessor issue. I already did some digging about how preprocessor work
</I>&gt;&gt;<i> (from the tutorial and from the code that I read), but I lacking
</I>&gt;&gt;<i> explanations about the big picture. My main question is  : which approach
</I>&gt;&gt;<i> should I use make Imagej trigger my UI with some kind of auto-generated
</I>&gt;&gt;<i> dialog ? Should I create my own preprocessor or just maybe implements some
</I>&gt;&gt;<i> kind of UI binding used by an already existing preprocessor ? Since
</I>&gt;&gt;<i> applying LUT seems to work, does it means several preprocessor are executed
</I>&gt;&gt;<i> before a command is ran ? If yes, how is the preprocessing order decided ?
</I>&gt;&gt;<i> Could you point me to some existing preprocessor that does most of the
</I>&gt;&gt;<i> logic so I don't have to re-implement simple operations ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I joined a screenshot of the current state of the ImageJ integration :-)
</I>&gt;&gt;<i> <A HREF="http://cyrilmongis.net/img/imagejfx-screenshot.jpg">http://cyrilmongis.net/img/imagejfx-screenshot.jpg</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cyril MONGIS
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> ImageJ-devel mailing list
</I>&gt;&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">ImageJ-devel at imagej.net</A>
</I>&gt;&gt;<i> <A HREF="http://imagej.net/mailman/listinfo/imagej-devel">http://imagej.net/mailman/listinfo/imagej-devel</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20150430/e8bfe5ea/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20150430/e8bfe5ea/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002559.html">[ImageJ-devel] ImageJ Custom UI and preprocessors
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2561">[ date ]</a>
              <a href="thread.html#2561">[ thread ]</a>
              <a href="subject.html#2561">[ subject ]</a>
              <a href="author.html#2561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
