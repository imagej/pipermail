<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Scripting examples
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Scripting%20examples&In-Reply-To=%3CCADN69y%3DG1BDkmYUK6JqanNw6_ZDKDbMxMe5GgmU8U5cgxu%3DYFA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001948.html">
   <LINK REL="Next"  HREF="001950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Scripting examples</H1>
    <B>Curtis Rueden</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Scripting%20examples&In-Reply-To=%3CCADN69y%3DG1BDkmYUK6JqanNw6_ZDKDbMxMe5GgmU8U5cgxu%3DYFA%40mail.gmail.com%3E"
       TITLE="[ImageJ-devel] Scripting examples">ctrueden at wisc.edu
       </A><BR>
    <I>Tue Feb 18 13:26:43 CST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="001948.html">[ImageJ-devel] Scripting examples
</A></li>
        <LI>Next message: <A HREF="001950.html">[ImageJ-devel] Scripting examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1949">[ date ]</a>
              <a href="thread.html#1949">[ thread ]</a>
              <a href="subject.html#1949">[ subject ]</a>
              <a href="author.html#1949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Brian,

I am out of the office today, and will reply in more detail later, but just
wanted to quickly add: the example Johannes wrote should work with the
current master branch as well as the recent 2.0.0-beta-7.7 release.
Specifically, it will work if you &quot;Run Script&quot; since the parameter parsing
mechanism etc. is all already in place. It just doesn't work from the
Script Editor yet since that tool needs some TLC still. As Johannes says, I
am still actively hacking on scripting support.

Also note that you can inject a Context parameter then make a new ImageJ
gateway object wrapping it to easily access services the same way the
tutorials do. (I forget whether ImageJ gateways are injectable ATM but if
not, they will be.)

Anyway, please let us know if you are unable to run such scripts.

Regards,
Curtis
On Feb 18, 2014 12:41 PM, &quot;Johannes Schindelin&quot; &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-devel">Johannes.Schindelin at gmx.de</A>&gt;
wrote:

&gt;<i> Hi Brian,
</I>&gt;<i>
</I>&gt;<i> On Tue, 18 Feb 2014, Brian Northan wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Now I am trying to understand how one should be accessing ImageJ2
</I>&gt;<i> &gt; functionality from the scripts.  In ImageJ1 I use the static functions in
</I>&gt;<i> &gt; the IJ class, IJ.run, IJ.openImage etc.
</I>&gt;<i>
</I>&gt;<i> Yeah, in IJ2 you have to use a context. The static functions of ImageJ 1.x
</I>&gt;<i> do not allow you to insulate separate processes from each other. That
</I>&gt;<i> leads to surprising results, e.g. when you try to put more than one
</I>&gt;<i> ImageJ 1.x applet into the same web page: it simply won't work, ever.
</I>&gt;<i>
</I>&gt;<i> &gt; So far in ImageJ2 I have been writing java applications that start by
</I>&gt;<i> &gt; instantiating an ImageJ app and then use that to access services and run
</I>&gt;<i> &gt; commands. Basically following the tutorials.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So how are things intended to work in a script??  Is there a simpler api
</I>&gt;<i> &gt; somewhere like the IJ API??  Or does one still need to use the service
</I>&gt;<i> APIs
</I>&gt;<i> &gt; in a script??
</I>&gt;<i>
</I>&gt;<i> This is a work in progress right now, under heavy construction.
</I>&gt;<i> Eventually, something like this will work:
</I>&gt;<i>
</I>&gt;<i> -- snip --
</I>&gt;<i> # @StatusService status
</I>&gt;<i> # @OUTPUT String greeting
</I>&gt;<i>
</I>&gt;<i> status.showStatus(1, 2, &quot;In progress...&quot;)
</I>&gt;<i> status.warn(&quot;This is a gentle warning&quot;)
</I>&gt;<i> status.showStatus(2, 2)
</I>&gt;<i>
</I>&gt;<i> greeting = &quot;Hello, world!&quot;
</I>&gt;<i> -- snap --
</I>&gt;<i>
</I>&gt;<i> In other words, your input and output parameters will be specified using a
</I>&gt;<i> syntax similar to ImageJ2 commands' at the top of the script.
</I>&gt;<i>
</I>&gt;<i> Ciao,
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-devel/attachments/20140218/89375ba6/attachment.html">http://imagej.net/pipermail/imagej-devel/attachments/20140218/89375ba6/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001948.html">[ImageJ-devel] Scripting examples
</A></li>
	<LI>Next message: <A HREF="001950.html">[ImageJ-devel] Scripting examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1949">[ date ]</a>
              <a href="thread.html#1949">[ thread ]</a>
              <a href="subject.html#1949">[ subject ]</a>
              <a href="author.html#1949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
