From bugzilla at fiji.sc  Tue Jul  1 03:36:48 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 08:36:48 +0000
Subject: [ImageJ-devel] [Bug 826] New: I cannot open *.avi files after
 updating my Fiji to ImageJ2. Before the update it was working perfectly.
 Now, I cannot come back to my previous version of Fiji :(
Message-ID: <bug-826-194@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=826

            Bug ID: 826
           Summary: I cannot open *.avi files after updating my Fiji to
                    ImageJ2. Before the update it was working perfectly.
                    Now, I cannot come back to my previous version of Fiji
                    :(
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: enhancement
          Priority: P5
         Component: ImageJ2
          Assignee: imagej-devel at imagej.net
          Reporter: lluis.soler at gmail.com

(Fiji Is Just) ImageJ 2.0.0-rc-6/1.49b; Java 1.6.0_24 [64-bit]; Windows 7 6.1;
25MB of 12195MB (<1%)

org.scijava.NullContextException: Before attempting to use this object, please
set its context by calling the setContext(...) method.

    at org.scijava.AbstractContextual.context(AbstractContextual.java:57)

    at org.scijava.AbstractGateway.get(AbstractGateway.java:90)

    at org.scijava.AbstractGateway.log(AbstractGateway.java:152)

    at
io.scif.io.RandomAccessInputStream.<init>(RandomAccessInputStream.java:111)

    at
io.scif.io.RandomAccessInputStream.<init>(RandomAccessInputStream.java:100)

    at
io.scif.io.RandomAccessInputStream.<init>(RandomAccessInputStream.java:126)

    at io.scif.codec.AbstractCodec.decompress(AbstractCodec.java:166)

    at
io.scif.formats.AVIFormat$AVIUtils.extractCompression(AVIFormat.java:1800)

    at
io.scif.formats.AVIFormat$Metadata.populateImageMetadata(AVIFormat.java:316)

    at io.scif.AbstractParser.parse(AbstractParser.java:254)

    at io.scif.AbstractParser.parse(AbstractParser.java:335)

    at io.scif.AbstractParser.parse(AbstractParser.java:52)

    at io.scif.AbstractReader.setSource(AbstractReader.java:270)

    at
io.scif.services.DefaultInitializeService.initializeReader(DefaultInitializeService.java:90)

    at io.scif.img.ImgOpener.createReader(ImgOpener.java:542)

    at io.scif.img.ImgOpener.openImgs(ImgOpener.java:144)

    at net.imagej.DefaultDatasetService.open(DefaultDatasetService.java:257)

    at net.imagej.DefaultDatasetService.open(DefaultDatasetService.java:241)

    at net.imagej.io.DatasetIOPlugin.open(DatasetIOPlugin.java:78)

    at net.imagej.io.DatasetIOPlugin.open(DatasetIOPlugin.java:50)

    at
net.imagej.legacy.plugin.DefaultLegacyOpener.open(DefaultLegacyOpener.java:135)

    at
net.imagej.legacy.DefaultLegacyHooks.interceptFileOpen(DefaultLegacyHooks.java:436)

    at
net.imagej.legacy.DefaultLegacyHooks.interceptRunPlugIn(DefaultLegacyHooks.java:158)

    at ij.IJ.runPlugIn(IJ.java)

    at ij.Executer.runCommand(Executer.java:131)

    at ij.Executer.run(Executer.java:64)

    at java.lang.Thread.run(Thread.java:662)

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/ae745396/attachment.html>

From bugzilla at fiji.sc  Tue Jul  1 07:39:57 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 12:39:57 +0000
Subject: [ImageJ-devel] [Bug 827] New: Fiji and macro never really ended
Message-ID: <bug-827-194@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=827

            Bug ID: 827
           Summary: Fiji and macro never really ended
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: enhancement
          Priority: P5
         Component: ImageJ2
          Assignee: imagej-devel at imagej.net
          Reporter: quentinlerouzic at hotmail.fr

hello,

Today in use the "kill" button in macro windows, I seen the button "kill" is
turn grey and the button "run" is turn on. but when I looked in my output
directory for results, I seen that the macro continue. And she continue always
then as I closed Fiji.

For really stop the macro I need kill the process fiji in the task manager
Windows.
I re-tested after reboot, daily updates and an over reboot. The result is same,
the macro never stop.

I'm here if you need more details.
Regards.
Quentin Le Rouzic

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/2781a9c3/attachment.html>

From bugzilla at fiji.sc  Tue Jul  1 08:40:37 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 13:40:37 +0000
Subject: [ImageJ-devel] [Bug 826] I cannot open *.avi files after updating
 my Fiji to ImageJ2. Before the update it was working perfectly. Now,
 I cannot come back to my previous version of Fiji :(
In-Reply-To: <bug-826-194@http.fiji.sc/bugzilla/>
References: <bug-826-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-826-194-kupfAPf4fZ@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=826

Curtis Rueden <ctrueden at wisc.edu> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |ASSIGNED
                 CC|                            |ctrueden at wisc.edu,
                   |                            |imagej-devel at imagej.net
          Component|ImageJ2                     |SCIFIO
           Assignee|imagej-devel at imagej.net     |ctrueden at wisc.edu

--- Comment #1 from Curtis Rueden <ctrueden at wisc.edu> ---
Thanks for the bug report. We'll investigate ASAP.

In the meantime, there are three ways to get your files working again:

1) File > Import > Bio-Formats to import the files via Bio-Formats.

2) Edit > Options > ImageJ2 and uncheck "Use SCIFIO when opening files" to
revert to the old ImageJ1 AVI reader, which will work the same way as before.

And if all else fails, you can use an older "Life-Line" version of Fiji
available from: http://fiji.sc/Downloads

-- 
You are receiving this mail because:
You are on the CC list for the bug.
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/d160eb47/attachment.html>

From ctrueden at wisc.edu  Tue Jul  1 09:41:52 2014
From: ctrueden at wisc.edu (Curtis Rueden)
Date: Tue, 1 Jul 2014 09:41:52 -0500
Subject: [ImageJ-devel] Patch Improving Non-uniform Units Handling
In-Reply-To: <CAHx_jrbtjzHAjafQeRSJK9e0dAWWrR+=1kmAOmmByOYgDxVMuw@mail.gmail.com>
References: <CAHx_jrbtjzHAjafQeRSJK9e0dAWWrR+=1kmAOmmByOYgDxVMuw@mail.gmail.com>
Message-ID: <CADN69y=ShF2rmtMF6+sSq9iq=AU4S3owOz8Tr6F=SuM0jMQgYw@mail.gmail.com>

Hi everyone,

I am replying to this thread for the benefit of the archives. The
conversation moved to the ImageJ mailing list, and Wayne made changes to
ImageJ1 to address the relevant issues.

Thread is archived here:
https://list.nih.gov/cgi-bin/wa.exe?A2=IMAGEJ;ed64a99.1406

Regards,
Curtis


On Wed, Jun 25, 2014 at 1:40 PM, Alan Brooks <alancbrooks at gmail.com> wrote:

> ImageJ1 has built-in support for non-uniform x/y/z units via Calibration's
> getX/Y/ZUnit() and setX/Y/ZUnit(). At my company, we look a good amount of
> "raw" image data that naturally has time as one unit and detectors as the
> other unit, so our raw file reader makes use of this functionality. I found
> that some parts of ImageJ don't seem to look for X/Y/Z units, instead using
> getUnit/s() without checking for non-uniform units.
>
> So, I have put together a patch to improve a couple of key functions. I
> based the patch on the 2014.06.23 (1.40c20) snapshot on
> https://github.com/imagej/imagej1.git. I don't see any pull requests for
> that project, so not sure how the IJ team would want this patch? For now,
> it is inline, below. But I'm happy to push it to the correct spot ...
> perhaps I should be asking http://wiki.imagej.net/ImageJA for a pull
> request?
>
> Thanks,
> Alan
>
>
> From ad1add8f9dcdfd1ba42436a225a0c41e80353be6 Mon Sep 17 00:00:00 2001
> From: Alan Brooks <alancbrooks at gmail.com>
> Date: Wed, 25 Jun 2014 12:21:48 -0500
> Subject: [PATCH] Show correct non-matching x & y units on surface plot.
>
> ---
>  ij/plugin/SurfacePlotter.java | 7 +++++--
>  1 file changed, 5 insertions(+), 2 deletions(-)
>
> diff --git a/ij/plugin/SurfacePlotter.java b/ij/plugin/SurfacePlotter.java
> index 011754e..9789155 100644
> --- a/ij/plugin/SurfacePlotter.java
> +++ b/ij/plugin/SurfacePlotter.java
> @@ -306,12 +306,15 @@ public class SurfacePlotter implements PlugIn {
>   ip2.drawString(s, (int) p1x-18-w, (int) p1y +h/2);
>
>   //x-axis
> - s = (double) Math.round(roi.height*cal.pixelHeight*10)/10+"
> "+cal.getUnits();
> + boolean unitsMatch = cal.getXUnit().equals(cal.getYUnit());
> + String xunits = unitsMatch ? cal.getUnits() : cal.getYUnit(); // why
> swapped?
> + s = (double) Math.round(roi.height*cal.pixelHeight*10)/10+" "+xunits;
>   w =  ip2.getFontMetrics().stringWidth(s);
>   drawAxis(ip2, (int) p1x, (int) p1y, (int) p2x, (int) p2y, s, 10, -1, 1,
> 1);
>
>   //y-axis
> - s =  (double) Math.round(roi.width*cal.pixelWidth*10)/10+"
> "+cal.getUnits();
> + String yunits = unitsMatch ? cal.getUnits() : cal.getXUnit(); // why
> swapped?
> + s =  (double) Math.round(roi.width*cal.pixelWidth*10)/10+" "+yunits;
>   w =  ip2.getFontMetrics().stringWidth(s);
>   //drawAxis(ip2, (int) p2x, (int) p2y, (int) p3x, (int) p3y, s, 10, 1 ,
> 1, -1);
>   drawAxis(ip2, (int) p2x, (int) p2y, (int) p3x, (int) p3y, s, 10, 1, -1,
> 1);
> --
> 1.8.4.msysgit.0
>
> From 70df4ea5619a010caa8732c764ea2ab897dab448 Mon Sep 17 00:00:00 2001
> From: Alan Brooks <alancbrooks at gmail.com>
> Date: Wed, 25 Jun 2014 12:20:54 -0500
> Subject: [PATCH] Show correct non-matching x & y units when specifying an
> ROI
>  selection.
>
> ---
>  ij/plugin/SpecifyROI.java | 4 +++-
>  1 file changed, 3 insertions(+), 1 deletion(-)
>
> diff --git a/ij/plugin/SpecifyROI.java b/ij/plugin/SpecifyROI.java
> index bb48b24..db71ac3 100644
> --- a/ij/plugin/SpecifyROI.java
> +++ b/ij/plugin/SpecifyROI.java
> @@ -111,8 +111,10 @@ public class SpecifyROI implements PlugIn,
> DialogListener {
>   gd.addCheckbox("Oval", oval);
>   gd.addCheckbox("Constrain square/circle", square);
>   gd.addCheckbox("Centered",centered);
> + boolean unitsMatch = cal.getXUnit().equals(cal.getYUnit());
> + String units = unitsMatch ? cal.getUnits() : cal.getXUnit()+" x
> "+cal.getYUnit();
>   if (cal.scaled())
> - gd.addCheckbox("Scaled units ("+cal.getUnits()+")", scaledUnits);
> + gd.addCheckbox("Scaled units ("+units+")", scaledUnits);
>   fields = gd.getNumericFields();
>   gd.addDialogListener(this);
>   gd.showDialog();
> --
> 1.8.4.msysgit.0
>
> From c8717cd7146dae5e54f6b93ba529632f828ce5ef Mon Sep 17 00:00:00 2001
> From: Alan Brooks <alancbrooks at gmail.com>
> Date: Wed, 25 Jun 2014 12:18:12 -0500
> Subject: [PATCH] Update Transformer so that Rotate Right and Rotate Left
>  commands preserve non-matching x & y units.
>
> ---
>  ij/plugin/filter/Transformer.java | 3 +++
>  1 file changed, 3 insertions(+)
>
> diff --git a/ij/plugin/filter/Transformer.java
> b/ij/plugin/filter/Transformer.java
> index 26a1e96..5a6aa88 100644
> --- a/ij/plugin/filter/Transformer.java
> +++ b/ij/plugin/filter/Transformer.java
> @@ -62,6 +62,9 @@ public class Transformer implements PlugInFilter {
>       double pixelWidth = cal.pixelWidth;
>       cal.pixelWidth = cal.pixelHeight;
>       cal.pixelHeight = pixelWidth;
> +     String xUnit = cal.getXUnit();
> +        cal.setXUnit(cal.getYUnit());
> +        cal.setYUnit(xUnit);
>   return;
>   }
>   }
> --
> 1.8.4.msysgit.0
>
> From bc4a026a612559b77be7dfc2120886be3529d092 Mon Sep 17 00:00:00 2001
> From: Alan Brooks <alancbrooks at gmail.com>
> Date: Wed, 25 Jun 2014 12:16:43 -0500
> Subject: [PATCH] Improve ImageWindow's subtitle to handle non-matching x &
> y
>  units. Useful when working with raw data files.
>
> ---
>  ij/gui/ImageWindow.java | 12 ++++++++++--
>  1 file changed, 10 insertions(+), 2 deletions(-)
>
> diff --git a/ij/gui/ImageWindow.java b/ij/gui/ImageWindow.java
> index a81ebe3..ee853d9 100644
> --- a/ij/gui/ImageWindow.java
> +++ b/ij/gui/ImageWindow.java
> @@ -301,8 +301,16 @@ public class ImageWindow extends Frame implements
> FocusListener, WindowListener,
>       int type = imp.getType();
>       Calibration cal = imp.getCalibration();
>       if (cal.scaled()) {
> -     s += IJ.d2s(imp.getWidth()*cal.pixelWidth,2) + "x" +
> IJ.d2s(imp.getHeight()*cal.pixelHeight,2)
> - + " " + cal.getUnits() + " (" + imp.getWidth() + "x" + imp.getHeight()
> + "); ";
> +     boolean unitsMatch = cal.getXUnit().equals(cal.getYUnit());
> +     if (unitsMatch) {
> +     s += IJ.d2s(imp.getWidth()*cal.pixelWidth,2) + "x"
> +       + IJ.d2s(imp.getHeight()*cal.pixelHeight,2) + " " + cal.getUnits()
> +       + " (" + imp.getWidth() + "x" + imp.getHeight() + "); ";
> +  } else {
> +     s += IJ.d2s(imp.getWidth()*cal.pixelWidth,2) + cal.getXUnit() + " x
> "
> +       + IJ.d2s(imp.getHeight()*cal.pixelHeight,2) + cal.getYUnit()
> +       + " (" + imp.getWidth() + "x" + imp.getHeight() + "); ";
> +  }
>       } else
>       s += imp.getWidth() + "x" + imp.getHeight() + " pixels; ";
>   double size =
> ((double)imp.getWidth()*imp.getHeight()*imp.getStackSize())/1024.0;
> --
> 1.8.4.msysgit.0
>
> From cb0e1dd0f81ca526cc17de90acc13f1569e06584 Mon Sep 17 00:00:00 2001
> From: Alan Brooks <alancbrooks at gmail.com>
> Date: Wed, 25 Jun 2014 12:07:30 -0500
> Subject: [PATCH] Respect X/Y/Z units when showing file information. Useful
> for
>  displaying details about raw data collect files where x-y-z units are
> often
>  different.
>
> ---
>  ij/plugin/filter/Info.java | 59
> +++++++++++++++++++++++-----------------------
>  1 file changed, 30 insertions(+), 29 deletions(-)
>
> diff --git a/ij/plugin/filter/Info.java b/ij/plugin/filter/Info.java
> index 9ce1ac2..99fdcf8 100644
> --- a/ij/plugin/filter/Info.java
> +++ b/ij/plugin/filter/Info.java
> @@ -85,36 +85,37 @@ public class Info implements PlugInFilter {
>   }
>
>   String getInfo(ImagePlus imp, ImageProcessor ip) {
> - String s = new String("\n");
> - s += "Title: " + imp.getTitle() + "\n";
> - Calibration cal = imp.getCalibration();
> -     int stackSize = imp.getStackSize();
> -     int channels = imp.getNChannels();
> -     int slices = imp.getNSlices();
> -     int frames = imp.getNFrames();
> - int digits = imp.getBitDepth()==32?4:0;
> - int dp, dp2;
> - if (cal.scaled()) {
> - String unit = cal.getUnit();
> - String units = cal.getUnits();
> - double pw = imp.getWidth()*cal.pixelWidth;
> - double ph = imp.getHeight()*cal.pixelHeight;
> -     dp = Tools.getDecimalPlaces(pw, ph);
> -     s += "Width:  "+IJ.d2s(pw,dp)+" " + units+" ("+imp.getWidth()+")\n";
> -     s += "Height:  "+IJ.d2s(ph,dp)+" " + units+"
> ("+imp.getHeight()+")\n";
>  -     if (slices>1) {
> - double pd = slices*cal.pixelDepth;
> - dp = Tools.getDecimalPlaces(pw, pd);
> -     s += "Depth:  "+IJ.d2s(pd,dp)+" " + units+" ("+slices+")\n";
> -     }
> +            String s = new String("\n");
> +            s += "Title: " + imp.getTitle() + "\n";
> +            Calibration cal = imp.getCalibration();
> +            int stackSize = imp.getStackSize();
> +            int channels = imp.getNChannels();
> +            int slices = imp.getNSlices();
> +            int frames = imp.getNFrames();
> +            int digits = imp.getBitDepth()==32?4:0;
> +            int dp, dp2;
> +            String xunit = cal.getXUnit();
> +            String yunit = cal.getYUnit();
> +            String zunit = cal.getZUnit();
> +            if (cal.scaled()) {
> +                double pw = imp.getWidth()*cal.pixelWidth;
> +                double ph = imp.getHeight()*cal.pixelHeight;
> +                dp = Tools.getDecimalPlaces(pw, ph);
> +                s += "Width:  "+IJ.d2s(pw,dp)+" " + xunit +"s
> ("+imp.getWidth()+")\n";
> +                s += "Height:  "+IJ.d2s(ph,dp)+" " + yunit +"s
> ("+imp.getHeight()+")\n";
> +                if (slices>1) {
> +                                double pd = slices*cal.pixelDepth;
> +                                dp = Tools.getDecimalPlaces(pw, pd);
> +                        s += "Depth:  "+IJ.d2s(pd,dp)+" " + zunit +"s
> ("+slices+")\n";
> +                }
>       double xResolution = 1.0/cal.pixelWidth;
>       double yResolution = 1.0/cal.pixelHeight;
>       int places = Tools.getDecimalPlaces(xResolution, yResolution);
>       if (xResolution==yResolution)
> -     s += "Resolution:  "+IJ.d2s(xResolution,places) + " pixels per
> "+unit+"\n";
> +     s += "Resolution:  "+IJ.d2s(xResolution,places) + " pixels per
> "+xunit+"\n";
>       else {
> -     s += "X Resolution:  "+IJ.d2s(xResolution,places) + " pixels per
> "+unit+"\n";
> -     s += "Y Resolution:  "+IJ.d2s(yResolution,places) + " pixels per
> "+unit+"\n";
> +     s += "X Resolution:  "+IJ.d2s(xResolution,places) + " pixels per
> "+xunit+"\n";
> +     s += "Y Resolution:  "+IJ.d2s(yResolution,places) + " pixels per
> "+yunit+"\n";
>       }
>      } else {
>       s += "Width:  " + imp.getWidth() + " pixels\n";
> @@ -122,19 +123,19 @@ public class Info implements PlugInFilter {
>       if (stackSize>1)
>       s += "Depth:  " + slices + " pixels\n";
>      }
> -     if (stackSize>1) {
> +            if (stackSize>1) {
>       dp = Tools.getDecimalPlaces(cal.pixelWidth, cal.pixelDepth);
> -     s += "Voxel size:
> "+IJ.d2s(cal.pixelWidth,dp)+"x"+IJ.d2s(cal.pixelHeight,dp)+"x"+IJ.d2s(cal.pixelDepth,dp)+"
> "+cal.getUnit()+"\n";
> +     s += "Voxel size:
> "+IJ.d2s(cal.pixelWidth,dp)+"x"+IJ.d2s(cal.pixelHeight,dp)+"x"+IJ.d2s(cal.pixelDepth,dp)+"
> ("+xunit+" x "+yunit+" x "+zunit+")\n";
>      } else {
>       dp = Tools.getDecimalPlaces(cal.pixelWidth, cal.pixelHeight);
> -     s += "Pixel size:
> "+IJ.d2s(cal.pixelWidth,dp)+"x"+IJ.d2s(cal.pixelHeight,dp)+"
> "+cal.getUnit()+"\n";
> +     s += "Pixel size:
> "+IJ.d2s(cal.pixelWidth,dp)+"x"+IJ.d2s(cal.pixelHeight,dp)+" ("+xunit+" x
> "+yunit+")\n";
>      }
>
>      s += "ID: "+imp.getID()+"\n";
>      String zOrigin =
> stackSize>1||cal.zOrigin!=0.0?","+d2s(cal.zOrigin):"";
>      s += "Coordinate origin:  " +
> d2s(cal.xOrigin)+","+d2s(cal.yOrigin)+zOrigin+"\n";
>      int type = imp.getType();
> -     switch (type) {
> +            switch (type) {
>       case ImagePlus.GRAY8:
>       s += "Bits per pixel: 8 ";
>       String lut = "LUT";
>  --
> 1.8.4.msysgit.0
>
>
> _______________________________________________
> ImageJ-devel mailing list
> ImageJ-devel at imagej.net
> http://imagej.net/mailman/listinfo/imagej-devel
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/2233c341/attachment-0001.html>

From bugzilla at fiji.sc  Tue Jul  1 14:09:22 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 19:09:22 +0000
Subject: [ImageJ-devel] [Bug 827] Fiji and macro never really ended
In-Reply-To: <bug-827-194@http.fiji.sc/bugzilla/>
References: <bug-827-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-827-194-B15oTgMCfh@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=827

Curtis Rueden <ctrueden at wisc.edu> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |ctrueden at wisc.edu

--- Comment #1 from Curtis Rueden <ctrueden at wisc.edu> ---
We just fixed a related bug, #805. Can you please update your Fiji and test
again? Hopefully Fiji will now actually quit when you quit the program, and
your macro will terminate.

The Kill button being grayed out is a separate issue, which is why this bug
report is not a duplicate of 805.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/711a1995/attachment.html>

From bugzilla at fiji.sc  Tue Jul  1 14:09:33 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 19:09:33 +0000
Subject: [ImageJ-devel] [Bug 827] Fiji and macro never really ended
In-Reply-To: <bug-827-194@http.fiji.sc/bugzilla/>
References: <bug-827-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-827-194-avREkEokBX@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=827

Curtis Rueden <ctrueden at wisc.edu> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |NEEDSINFO

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/287b2c77/attachment.html>

From bugzilla at fiji.sc  Tue Jul  1 14:09:57 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Tue, 01 Jul 2014 19:09:57 +0000
Subject: [ImageJ-devel] [Bug 827] Fiji and macro never really ended
In-Reply-To: <bug-827-194@http.fiji.sc/bugzilla/>
References: <bug-827-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-827-194-Z37UHYMn1Y@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=827

Curtis Rueden <ctrueden at wisc.edu> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Assignee|imagej-devel at imagej.net     |imagej-builds at imagej.net

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140701/97801d2b/attachment.html>

From schindelin at wisc.edu  Thu Jul  3 13:20:18 2014
From: schindelin at wisc.edu (Johannes Schindelin)
Date: Thu, 03 Jul 2014 20:20:18 +0200 (CEST)
Subject: [ImageJ-devel] Fwd: Re: ImageJ maven again
In-Reply-To: <CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
Message-ID: <alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>

Hi,

let's stay open about this project so that nobody can claim to be cut out
from the development, at least not without posing a major fire hazard to
their leg wear.

On Thu, 3 Jul 2014, Curtis Rueden wrote:

> Tobias needs more permissions on our Nexus but I didn't have time to figure
> it out yesterday.
> 
> On Jul 3, 2014 10:52 AM, "Tobias Pietzsch" <pietzsch at mpi-cbg.de> wrote:
> 
> > I now tried to deploy a (3rd party) jar to imagej.releases using this:
> >
> > pietzsch at tomancak-mac-17:~$ mvn deploy:deploy-file -Durl=
> > http://maven.imagej.net/content/repositories/releases/
> > -Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar -DgroupId=cisd
> > -DartifactId=jhdf5 -Dpackaging=jar -Dversion=13.06.2
> > -DrepositoryId=imagej.releases
> > [INFO] Scanning for projects...
> > ...
> > [ERROR] Failed to execute goal
> > org.apache.maven.plugins:maven-deploy-plugin:2.5:deploy-file (default-cli)
> > on project standalone-pom: Failed to deploy artifacts: Could not transfer
> > artifact cisd:jhdf5:jar:13.06.2 from/to imagej.releases (
> > http://maven.imagej.net/content/repositories/releases/): Access denied
> > to:
> > http://maven.imagej.net/content/repositories/releases/cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar

>From the logs, it appears that someone from the public IP of the MPI-CBG
tried to put a new jhdf5-13.06.2 at 03/Jul/2014:10:26:04 -0500 which
translates to roughly half past five in the afternoon Dresden time.

The logs also reveal that this PUT request elicited a response code 401
(Access denied). From other, more successful PUT requests it looks as if
that is expected, but needs to be followed up by another request that
succeeds with a 201 (Created) [*1*].

It looks to me as if Maven does not find the proper credentials and
therefore does not even try to upload with authentication.

Please also note that jhdf5 should be in the imagej.thirdparty repository,
not the imagej.releases one (we do not maintain this project, unlike
pretty much everything put into the imagej.releases repository).

> > I have set up my ~/.m2/settings-security.xml and ~/.m2/settings.xml
> > correctly I think.

Could it be that your $HOME/.m2/settings.xml looks like this:

-- snip --
<settings>
	<servers>
		<server>
			<id>imagej.snapshots</id>
			<username>pietzsch</username>
			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
		</server>
	</servers>
</settings>
-- snap --

but should look like this:

-- snip --
<settings>
	<servers>
		<server>
			<id>imagej.releases</id>
			<username>pietzsch</username>
			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
		</server>
		<server>
			<id>imagej.snapshots</id>
			<username>pietzsch</username>
			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
		</server>
		<server>
			<id>imagej.thirdparty</id>
			<username>pietzsch</username>
			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
		</server>
	</servers>
</settings>
-- snap --

On the other hand, the problem might be a different one altogether: after
staring at the quoted command-line, I cannot fail to note that this
command is launched from your home directory, letting me suspect that
there is no pom.xml file at all.

Please note that Maven needs quite a bit of information for deploying: it
is not enough to say "imagej.releases", it needs a URL and very
specifically a transport helper for uploading (comparable to the uploader
plugins for the ImageJ updater, or the ssh protocol for Git pushing). For
the ImageJ Maven repositories, we use WebDAV to upload, in the form of the
wagon-webdav-jackrabbit extension. In your particular case, I expect none
of this information to be available to Maven.

I would suggest to try almost the same command-line you tried, but from
a directory containing *any* SciJava project. As long as it depends on
pom-scijava >= 1.135, it will have a profile that adds the deploy
information for the ImageJ Maven repositories specifically. So if you run
the following command-line from, say, the imglib2 checkout:

	mvn -Pdeploy-to-imagej deploy:deploy-file \
		-Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar \
		-DgroupId=cisd -DartifactId=jhdf5 -Dpackaging=jar \
		-Dversion=13.06.2 \
		-DrepositoryId=imagej.thirdparty

it might do what you want it to do.

Ciao,
Dscho

Footnote *1*:
http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#2xx_Success


From pietzsch at mpi-cbg.de  Thu Jul  3 15:21:06 2014
From: pietzsch at mpi-cbg.de (Tobias Pietzsch)
Date: Thu, 3 Jul 2014 22:21:06 +0200
Subject: [ImageJ-devel] ImageJ maven again
In-Reply-To: <alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
	<alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
Message-ID: <134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>

Hi Dscho,

thanks for looking into this!


Actually, my ~/.m2/settings.xml did contain a section for 
> 		<server>
> 			<id>imagej.releases</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
with the password (passed through mvn -ep) I set at the Nexus webinterface (and which works for logging in there).

I did try to push to imagej.releases before, because that is where the previous version of jhdf5 was
http://maven.imagej.net/content/repositories/releases/cisd/jhdf5/


Now, following your suggestions, what I tried is the following:

1.) I added a section for 
> 		<server>
> 			<id>imagej.thirdparty</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
to my settings.xml

2.) I cloned a fresh scijava-common from github. This currently has the parent pom-scijava 2.22.

3.) From that directory I ran the command you suggested. Here is the full output:
pietzsch at tomancak-mac-17:~/workspace/scijava-common (master)$ mvn -Pdeploy-to-imagej deploy:deploy-file -Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar -DgroupId=cisd -DartifactId=jhdf5 -Dpackaging=jar -Dversion=13.06.2 -DrepositoryId=imagej.thirdparty
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building SciJava Common 2.25.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-deploy-plugin:2.8.1:deploy-file (default-cli) @ scijava-common ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.042s
[INFO] Finished at: Thu Jul 03 22:12:30 CEST 2014
[INFO] Final Memory: 9M/310M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file (default-cli) on project scijava-common: Execution default-cli of goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file failed. NullPointerException -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException


I did look into the pom-scijava 2.22 and I couldn't find any mention of the "imagej.thirdparty" repository.
Maybe that is the problem?
I didn't try again with the "imagej.releases" repository because I don't want to mess anything up and I wouldn't know how to undo a successful deployment there.


What would you suggest? One thing I think I could try is to mimic the pom-scijava and put this into the pom.xml of my scijava-common clone:
		<!-- This profile enables deployment to the ImageJ Maven repository. -->
		<profile>
			<id>deploy-to-imagej</id>
			<distributionManagement>
				<repository>
					<id>imagej.releases</id>
					<name>ImageJ Releases Repository</name>
					<url>dav:http://maven.imagej.net/content/repositories/releases</url>
				</repository>
				<repository>
					<id>imagej.thirdparty</id>
					<name>ImageJ Thirdparty Repository</name>
					<url>dav:http://maven.imagej.net/content/repositories/thirdparty</url>
				</repository>
				<snapshotRepository>
					<id>imagej.snapshots</id>
					<name>ImageJ Snapshots Repository</name>
					<url>dav:http://maven.imagej.net/content/repositories/snapshots</url>
				</snapshotRepository>
			</distributionManagement>
		</profile>
Do you think that might work? Should I try it?


Thanks,
Tobias


On Jul 3, 2014, at 8:20 PM, Johannes Schindelin <schindelin at wisc.edu> wrote:

> Hi,
> 
> let's stay open about this project so that nobody can claim to be cut out
> from the development, at least not without posing a major fire hazard to
> their leg wear.
> 
> On Thu, 3 Jul 2014, Curtis Rueden wrote:
> 
>> Tobias needs more permissions on our Nexus but I didn't have time to figure
>> it out yesterday.
>> 
>> On Jul 3, 2014 10:52 AM, "Tobias Pietzsch" <pietzsch at mpi-cbg.de> wrote:
>> 
>>> I now tried to deploy a (3rd party) jar to imagej.releases using this:
>>> 
>>> pietzsch at tomancak-mac-17:~$ mvn deploy:deploy-file -Durl=
>>> http://maven.imagej.net/content/repositories/releases/
>>> -Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar -DgroupId=cisd
>>> -DartifactId=jhdf5 -Dpackaging=jar -Dversion=13.06.2
>>> -DrepositoryId=imagej.releases
>>> [INFO] Scanning for projects...
>>> ...
>>> [ERROR] Failed to execute goal
>>> org.apache.maven.plugins:maven-deploy-plugin:2.5:deploy-file (default-cli)
>>> on project standalone-pom: Failed to deploy artifacts: Could not transfer
>>> artifact cisd:jhdf5:jar:13.06.2 from/to imagej.releases (
>>> http://maven.imagej.net/content/repositories/releases/): Access denied
>>> to:
>>> http://maven.imagej.net/content/repositories/releases/cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar
> 
> From the logs, it appears that someone from the public IP of the MPI-CBG
> tried to put a new jhdf5-13.06.2 at 03/Jul/2014:10:26:04 -0500 which
> translates to roughly half past five in the afternoon Dresden time.
> 
> The logs also reveal that this PUT request elicited a response code 401
> (Access denied). From other, more successful PUT requests it looks as if
> that is expected, but needs to be followed up by another request that
> succeeds with a 201 (Created) [*1*].
> 
> It looks to me as if Maven does not find the proper credentials and
> therefore does not even try to upload with authentication.
> 
> Please also note that jhdf5 should be in the imagej.thirdparty repository,
> not the imagej.releases one (we do not maintain this project, unlike
> pretty much everything put into the imagej.releases repository).
> 
>>> I have set up my ~/.m2/settings-security.xml and ~/.m2/settings.xml
>>> correctly I think.
> 
> Could it be that your $HOME/.m2/settings.xml looks like this:
> 
> -- snip --
> <settings>
> 	<servers>
> 		<server>
> 			<id>imagej.snapshots</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
> 	</servers>
> </settings>
> -- snap --
> 
> but should look like this:
> 
> -- snip --
> <settings>
> 	<servers>
> 		<server>
> 			<id>imagej.releases</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
> 		<server>
> 			<id>imagej.snapshots</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
> 		<server>
> 			<id>imagej.thirdparty</id>
> 			<username>pietzsch</username>
> 			<password>{0123456789abcdefghijklmnopqrstuvwxyzABCDEFG=}</password>
> 		</server>
> 	</servers>
> </settings>
> -- snap --
> 
> On the other hand, the problem might be a different one altogether: after
> staring at the quoted command-line, I cannot fail to note that this
> command is launched from your home directory, letting me suspect that
> there is no pom.xml file at all.
> 
> Please note that Maven needs quite a bit of information for deploying: it
> is not enough to say "imagej.releases", it needs a URL and very
> specifically a transport helper for uploading (comparable to the uploader
> plugins for the ImageJ updater, or the ssh protocol for Git pushing). For
> the ImageJ Maven repositories, we use WebDAV to upload, in the form of the
> wagon-webdav-jackrabbit extension. In your particular case, I expect none
> of this information to be available to Maven.
> 
> I would suggest to try almost the same command-line you tried, but from
> a directory containing *any* SciJava project. As long as it depends on
> pom-scijava >= 1.135, it will have a profile that adds the deploy
> information for the ImageJ Maven repositories specifically. So if you run
> the following command-line from, say, the imglib2 checkout:
> 
> 	mvn -Pdeploy-to-imagej deploy:deploy-file \
> 		-Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar \
> 		-DgroupId=cisd -DartifactId=jhdf5 -Dpackaging=jar \
> 		-Dversion=13.06.2 \
> 		-DrepositoryId=imagej.thirdparty
> 
> it might do what you want it to do.
> 
> Ciao,
> Dscho
> 
> Footnote *1*:
> http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#2xx_Success

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140703/b94ab20f/attachment.pgp>

From Johannes.Schindelin at gmx.de  Thu Jul  3 15:34:34 2014
From: Johannes.Schindelin at gmx.de (Johannes Schindelin)
Date: Thu, 3 Jul 2014 22:34:34 +0200 (CEST)
Subject: [ImageJ-devel] ImageJ maven again
In-Reply-To: <134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
	<alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
	<134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>
Message-ID: <alpine.DEB.1.00.1407032231400.14982@s15462909.onlinehome-server.info>

Hi Tobias,

On Thu, 3 Jul 2014, Tobias Pietzsch wrote:

> I did try to push to imagej.releases before, because that is where the
> previous version of jhdf5 was
> http://maven.imagej.net/content/repositories/releases/cisd/jhdf5/

Yes, let's not do that again.

> I did look into the pom-scijava 2.22 and I couldn't find any mention of
> the "imagej.thirdparty" repository.

Right, my mistake. We no longer depend on any third-party stuff in
ImageJ2.

So yes, putting in the sections you described in your mail into your
pom.xml should help.

I also looked into my personal notes how to deploy manually into
thirdparty and noticed that I use a slightly different URL for these:

	-Durl=dav:http://maven.imagej.net/content/repositories/thirdparty

I suppose the "dav:" prefix makes all the difference.

Ciao,
Johannes


From pietzsch at mpi-cbg.de  Thu Jul  3 15:58:52 2014
From: pietzsch at mpi-cbg.de (Tobias Pietzsch)
Date: Thu, 3 Jul 2014 22:58:52 +0200
Subject: [ImageJ-devel] ImageJ maven again
In-Reply-To: <alpine.DEB.1.00.1407032231400.14982@s15462909.onlinehome-server.info>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
	<alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
	<134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>
	<alpine.DEB.1.00.1407032231400.14982@s15462909.onlinehome-server.info>
Message-ID: <1AEAECDF-8F37-4E97-91E1-41D74F3EE7A7@mpi-cbg.de>

Hi Johannes,

it almost worked now. mvn even transferred the file (it took a while and was counting KB up, so it must have done something).
But then I get an "Access denied":
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file (default-cli) on project scijava-common: Failed to deploy artifacts: Could not transfer artifact cisd:jhdf5:jar:13.06.2 from/to imagej.thirdparty (dav:http://maven.imagej.net/content/repositories/thirdparty/): Access denied to: http://maven.imagej.net/content/repositories/thirdparty//cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar -> [Help 1]


Also, in the Nexus web interface, I don't see any repositories when I am logged in.
Maybe I really do not have the necessary permissions?


Here is the full output:

pietzsch at tomancak-mac-17:~/workspace/scijava-common (master)$ mvn deploy:deploy-file -Durl=dav:http://maven.imagej.net/content/repositories/thirdparty/ -Dfile=/Users/pietzsch/Desktop/jhdf5-13.06.2.jar -DgroupId=cisd -DartifactId=jhdf5 -Dpackaging=jar -Dversion=13.06.2 -DrepositoryId=imagej.thirdparty
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building SciJava Common 2.25.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-deploy-plugin:2.8.1:deploy-file (default-cli) @ scijava-common ---
Uploading: dav:http://maven.imagej.net/content/repositories/thirdparty/cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar
Jul 03, 2014 10:49:25 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:49:26 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:49:26 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:49:27 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:49:27 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:50:54 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Uploading: http://maven.imagej.net/content/repositories/thirdparty/cisd/jhdf5/13.06.2/jhdf5-13.06.2.pom
Jul 03, 2014 10:52:21 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:52:22 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:52:22 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:52:22 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:52:23 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
Jul 03, 2014 10:52:23 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme
INFO: basic authentication scheme selected
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:59.810s
[INFO] Finished at: Thu Jul 03 22:52:23 CEST 2014
[INFO] Final Memory: 11M/310M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file (default-cli) on project scijava-common: Failed to deploy artifacts: Could not transfer artifact cisd:jhdf5:jar:13.06.2 from/to imagej.thirdparty (dav:http://maven.imagej.net/content/repositories/thirdparty/): Access denied to: http://maven.imagej.net/content/repositories/thirdparty//cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
pietzsch at tomancak-mac-17:~/workspace/scijava-common (master)$


thanks,
Tobias

On Jul 3, 2014, at 10:34 PM, Johannes Schindelin <Johannes.Schindelin at gmx.de> wrote:

> Hi Tobias,
> 
> On Thu, 3 Jul 2014, Tobias Pietzsch wrote:
> 
>> I did try to push to imagej.releases before, because that is where the
>> previous version of jhdf5 was
>> http://maven.imagej.net/content/repositories/releases/cisd/jhdf5/
> 
> Yes, let's not do that again.
> 
>> I did look into the pom-scijava 2.22 and I couldn't find any mention of
>> the "imagej.thirdparty" repository.
> 
> Right, my mistake. We no longer depend on any third-party stuff in
> ImageJ2.
> 
> So yes, putting in the sections you described in your mail into your
> pom.xml should help.
> 
> I also looked into my personal notes how to deploy manually into
> thirdparty and noticed that I use a slightly different URL for these:
> 
> 	-Durl=dav:http://maven.imagej.net/content/repositories/thirdparty
> 
> I suppose the "dav:" prefix makes all the difference.
> 
> Ciao,
> Johannes

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140703/adf23ad9/attachment-0001.pgp>

From Johannes.Schindelin at gmx.de  Thu Jul  3 16:50:45 2014
From: Johannes.Schindelin at gmx.de (Johannes Schindelin)
Date: Thu, 3 Jul 2014 23:50:45 +0200 (CEST)
Subject: [ImageJ-devel] ImageJ maven again
In-Reply-To: <1AEAECDF-8F37-4E97-91E1-41D74F3EE7A7@mpi-cbg.de>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
	<alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
	<134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>
	<alpine.DEB.1.00.1407032231400.14982@s15462909.onlinehome-server.info>
	<1AEAECDF-8F37-4E97-91E1-41D74F3EE7A7@mpi-cbg.de>
Message-ID: <alpine.DEB.1.00.1407032349030.14982@s15462909.onlinehome-server.info>

Hi Tobias,

On Thu, 3 Jul 2014, Tobias Pietzsch wrote:

> it almost worked now. mvn even transferred the file (it took a while and
> was counting KB up, so it must have done something).  But then I get an
> "Access denied":
> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file (default-cli) on project scijava-common: Failed to deploy artifacts: Could not transfer artifact cisd:jhdf5:jar:13.06.2 from/to imagej.thirdparty (dav:http://maven.imagej.net/content/repositories/thirdparty/): Access denied to: http://maven.imagej.net/content/repositories/thirdparty//cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar -> [Help 1]
> 
> 
> Also, in the Nexus web interface, I don't see any repositories when I am
> logged in.
> Maybe I really do not have the necessary permissions?

I assigned you a couple more roles, hopefully fixing the problem. Could
you try again?

Unfortunately, I have to leave now, I kind of expected you to ping me on
IRC as Curtis had suggested if the problem persists. Tomorrow is
Independence Day. I seriously hope that you can wait until Monday if it
still does not work.

Ciao,
Johannes


From pietzsch at mpi-cbg.de  Thu Jul  3 17:43:36 2014
From: pietzsch at mpi-cbg.de (Tobias Pietzsch)
Date: Fri, 4 Jul 2014 00:43:36 +0200
Subject: [ImageJ-devel] ImageJ maven again
In-Reply-To: <alpine.DEB.1.00.1407032349030.14982@s15462909.onlinehome-server.info>
References: <CADN69ynvSpnx5QYfgqsS5sLDNp0q8xdM07-5uKiVJ0APOjgp0Q@mail.gmail.com>
	<AB6A9C59-BE6A-4C53-8B5A-BB9CC6A3933E@mpi-cbg.de>
	<CB8900C9-E980-4946-AEF7-5BF16277CC5A@mpi-cbg.de>
	<034A4F5F-AAED-4356-849F-46E892D8B609@mpi-cbg.de>
	<CADN69ym3Nn6MvuynWEhkmcV3ve_1pYrGtdKQW693T9rbABC+ng@mail.gmail.com>
	<CADN69y=HMNvdJHZ0tk7WAxaPvrravaL-9FcW7Rj7-fXsvNzE2Q@mail.gmail.com>
	<alpine.DEB.1.00.1407031951540.14982@s15462909.onlinehome-server.info>
	<134149E3-4BF4-4A2E-84E5-C7438B98D129@mpi-cbg.de>
	<alpine.DEB.1.00.1407032231400.14982@s15462909.onlinehome-server.info>
	<1AEAECDF-8F37-4E97-91E1-41D74F3EE7A7@mpi-cbg.de>
	<alpine.DEB.1.00.1407032349030.14982@s15462909.onlinehome-server.info>
Message-ID: <00B0E567-339E-408D-A6EE-71E6B189B513@mpi-cbg.de>

Hi Johannes,

it worked now. Thanks so much and enjoy independence day!

best regards,
Tobias

On Jul 3, 2014, at 11:50 PM, Johannes Schindelin <Johannes.Schindelin at gmx.de> wrote:

> Hi Tobias,
> 
> On Thu, 3 Jul 2014, Tobias Pietzsch wrote:
> 
>> it almost worked now. mvn even transferred the file (it took a while and
>> was counting KB up, so it must have done something).  But then I get an
>> "Access denied":
>> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.1:deploy-file (default-cli) on project scijava-common: Failed to deploy artifacts: Could not transfer artifact cisd:jhdf5:jar:13.06.2 from/to imagej.thirdparty (dav:http://maven.imagej.net/content/repositories/thirdparty/): Access denied to: http://maven.imagej.net/content/repositories/thirdparty//cisd/jhdf5/13.06.2/jhdf5-13.06.2.jar -> [Help 1]
>> 
>> 
>> Also, in the Nexus web interface, I don't see any repositories when I am
>> logged in.
>> Maybe I really do not have the necessary permissions?
> 
> I assigned you a couple more roles, hopefully fixing the problem. Could
> you try again?
> 
> Unfortunately, I have to leave now, I kind of expected you to ping me on
> IRC as Curtis had suggested if the problem persists. Tomorrow is
> Independence Day. I seriously hope that you can wait until Monday if it
> still does not work.
> 
> Ciao,
> Johannes

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140704/1f01b943/attachment.pgp>

From bugzilla at fiji.sc  Mon Jul  7 11:35:56 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 07 Jul 2014 16:35:56 +0000
Subject: [ImageJ-devel] [Bug 840] New: SCIFIO makes import images take
	forever
Message-ID: <bug-840-194@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=840

            Bug ID: 840
           Summary: SCIFIO makes import images take forever
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: major
          Priority: P5
         Component: SCIFIO
          Assignee: imagej-devel at imagej.net
          Reporter: jbkelley at unc.edu

With SCIFIO active, I go to import image sequence and select TIF files.  Prior
to each tif file being imported, there is a long "initializing" time. 
Something that normally takes a couple of seconds was dragging on for minutes
before I force quit Imagej.

Inactivation of SCIFIO returns import speed to normal

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140707/b62ac301/attachment.html>

From bugzilla at fiji.sc  Mon Jul  7 15:07:33 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 07 Jul 2014 20:07:33 +0000
Subject: [ImageJ-devel] [Bug 841] New: hyperstack not switching between Z
	positions
Message-ID: <bug-841-194@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

            Bug ID: 841
           Summary: hyperstack not switching between Z positions
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: major
          Priority: P5
         Component: ImageJ2
          Assignee: imagej-devel at imagej.net
          Reporter: jbkelley at unc.edu

I convert my stack of 870 images to 6 z positions and 145 time points.  The z
position does not change when I alter the z-position slider however. 
Attempting to do something like a z-projection gives images that flicker in
intensity, so I think that it is not just rendering of different z-positions,
but also acting upon them that is messed up.  This seemed to be find before I
updated today.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140707/40d0ced9/attachment.html>

From bugzilla at fiji.sc  Mon Jul  7 16:52:53 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 07 Jul 2014 21:52:53 +0000
Subject: [ImageJ-devel] [Bug 840] SCIFIO makes import images take forever
In-Reply-To: <bug-840-194@http.fiji.sc/bugzilla/>
References: <bug-840-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-840-194-deazT3qRxq@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=840

Curtis Rueden <ctrueden at wisc.edu> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
                 CC|                            |ctrueden at wisc.edu,
                   |                            |imagej-builds at imagej.net
         Resolution|---                         |MOVED
           Assignee|imagej-devel at imagej.net     |ctrueden at wisc.edu

--- Comment #1 from Curtis Rueden <ctrueden at wisc.edu> ---
SCIFIO supports a wider variety of TIFF files than ImageJ 1.x does, but is
currently slower than ImageJ1's TIFF reader. Turning off SCIFIO support is the
best option for now until the SCIFIO TIFF reader gets faster.

This issue is tracked at: https://github.com/scifio/scifio/issues/7

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140707/f36a6e43/attachment.html>

From bugzilla at fiji.sc  Thu Jul 10 15:03:16 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Thu, 10 Jul 2014 20:03:16 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-hYIyDTRPNR@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

Mark Hiner <hinerm at gmail.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |hinerm at gmail.com

--- Comment #1 from Mark Hiner <hinerm at gmail.com> ---
Hi Joshua,

 It's not entirely clear what steps to take to reproduce this issue (e.g. image
format of the dataset, whether it was opened with File>Open or via the
Bio-Formats importer, etc..).

 Could you take a look at http://fiji.sc/Bug_reporting_best_practices and then
update this bug report? Uploading a sample image and pasting the local
environment of your ImageJ installation would be especially helpful. That wiki
page also has temporary workaround instructions until we can resolve the issue.

Thanks for the report!

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140710/4cd3601a/attachment.html>

From bugzilla at fiji.sc  Fri Jul 11 11:38:34 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Fri, 11 Jul 2014 16:38:34 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-WK0MZVlWnO@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

--- Comment #2 from Joshua Kelley <jbkelley at unc.edu> ---
After updating FIJI today, this bug no longer happens.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140711/31682c98/attachment.html>

From bugzilla at fiji.sc  Fri Jul 11 11:41:43 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Fri, 11 Jul 2014 16:41:43 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-dE7Wo0ykS6@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

--- Comment #3 from Mark Hiner <hinerm at gmail.com> ---
Joshua,

 Can you check your Edit > Options > ImageJ2 settings?

 If "Use SCIFIO when opening files" is unchecked, could you enable it and then
see if this bug is still present? I just want to be sure it's not a bug in the
ImageJ2 side.

 If the option is checked and you still can't reproduce the error, we can close
this issue.

Thanks!

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140711/d7c60dd8/attachment.html>

From bugzilla at fiji.sc  Mon Jul 14 11:43:11 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 14 Jul 2014 16:43:11 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-MeUNEBXpWK@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

--- Comment #4 from Joshua Kelley <jbkelley at unc.edu> ---
I did this, and while SCIFIO doesn't do a good job of opening my images, once
images are open, I do not get the hyperstack bug, so I think its safe to close
that.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140714/99aeac10/attachment.html>

From bugzilla at fiji.sc  Mon Jul 14 11:52:41 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 14 Jul 2014 16:52:41 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-Mq8QpH5gEG@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

Mark Hiner <hinerm at gmail.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|---                         |FIXED

--- Comment #5 from Mark Hiner <hinerm at gmail.com> ---
I am assuming by "doesn't do a good job" you mean that it is slower than you're
used to, an issue beyond the scope of this bug report and discussed elsewhere.

If there is actually an issue with correctness in opening your dataset, please
re-open this issue or file a new one.

Thanks.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140714/a05e2491/attachment.html>

From bugzilla at fiji.sc  Mon Jul 14 13:08:55 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 14 Jul 2014 18:08:55 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-bDvoRlOTuN@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

--- Comment #6 from Joshua Kelley <jbkelley at unc.edu> ---
What I mean, precisely, is that I cannot do an apples to apples comparison of
stack to hyperstack transition, and resultant movement through the hyperstack,
because with SCIFIO enabled, I cannot import the same images that I was
converting from stack to hyperstack, and then trying to navigate through.  

I am importing 145 16 bit .tif files, each of which has 6 layers.  With SCIFIO
enabled, it seems to be picking multiple channels, and opening a subset of the
time points it should be, and then it opens one image a couple thousand times.  

This is a problem with SCIFIO importing though, so I assume it is not
applicable to this specific bug.  It did appear that I could navigate the z
dimension properly after converting to a hyperstack, but SCIFIO opened many of
the same images over and over again, so it would formally be possible for me to
not see certain types of errors.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140714/db8a5f30/attachment.html>

From bugzilla at fiji.sc  Mon Jul 14 13:43:58 2014
From: bugzilla at fiji.sc (bugzilla at fiji.sc)
Date: Mon, 14 Jul 2014 18:43:58 +0000
Subject: [ImageJ-devel] [Bug 841] hyperstack not switching between Z
	positions
In-Reply-To: <bug-841-194@http.fiji.sc/bugzilla/>
References: <bug-841-194@http.fiji.sc/bugzilla/>
Message-ID: <bug-841-194-GfKbPAY96N@http.fiji.sc/bugzilla/>

http://fiji.sc/bugzilla/show_bug.cgi?id=841

--- Comment #7 from Mark Hiner <hinerm at gmail.com> ---
I agree, it is not related to this bug. Another report should be opened for the
incorrect importing.

Could be related to https://github.com/imagej/imagej-legacy/issues/61

A sample dataset would be helpful, too.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140714/076b243c/attachment.html>

From sara.schiesaro at student.unife.it  Fri Jul 25 07:07:22 2014
From: sara.schiesaro at student.unife.it (SARA SCHIESARO)
Date: Fri, 25 Jul 2014 14:07:22 +0200
Subject: [ImageJ-devel] imglib2 FFT algorithm explanation
Message-ID: <CAEhh=ExUcx6kxYZ97oJjg9VLk2JM9PVAzx_y+30vb0HKcNO6DQ@mail.gmail.com>

Hi all,
I've already worked with FourierTransform and FFTConvolution classes, I've
also studied their codes in order to adapt them to my program, anyway I
still have some doubts about those classes and I hope you can help me!

First, dimensions of the output resulting from the FourierTransform and
those of the fftKernel in the FFTConvolution class differ from those of the
input images, why? Why, for example, if I transform a 256x256 image I get
back a 281x560 spectrum?

Secondly, trying to find out an answer to the first doubt I have, I find
out that the spectrum dimensions are calculated by using the package
edu.mines.jtk.dsp and in particular the classes FftReal/FftComplex, both
based on the Pfacc class. Comments to the Pfacc class said that this class
implements the PFA algorithm for the FFT computation, so my second doubt is
this: do the FourierTransform and FFTConvolution classes implement the PFA
algorithm?

I really need to find it out in order to continue my work, so any help will
be appreciated!
Thanks a lot,

Sara S.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140725/71ec05df/attachment.html>

From bnorthan at gmail.com  Wed Jul 30 07:09:18 2014
From: bnorthan at gmail.com (Brian Northan)
Date: Wed, 30 Jul 2014 08:09:18 -0400
Subject: [ImageJ-devel] imglib2 FFT algorithm explanation
In-Reply-To: <CAEhh=ExUcx6kxYZ97oJjg9VLk2JM9PVAzx_y+30vb0HKcNO6DQ@mail.gmail.com>
References: <CAEhh=ExUcx6kxYZ97oJjg9VLk2JM9PVAzx_y+30vb0HKcNO6DQ@mail.gmail.com>
Message-ID: <CAMWa8i2WehXh0Qp2bH5QH+hpDk18sgssyZsaJF-SJMA0eoLn+Q@mail.gmail.com>

Hi Sara

I've worked quite a bit with these classes the last couple of years.  The
list and Stephen Priebisch (the author) has been pretty helpful, so
consider them the final authority, but here is some information that might
be helpful.

1.  The latest versions of the fft functions are in the fft2 directory.  (
https://github.com/imglib/imglib/tree/master/algorithms/core/src/main/java/net/imglib2/algorithm/fft2)
they are a bit faster then those in 'fft'.  I believe the older versions
are depreciated.

2.  The newer FFT (FFT.java
https://github.com/imglib/imglib/blob/master/algorithms/core/src/main/java/net/imglib2/algorithm/fft2/FFT.java)
calculates dimensions and subsequent padding value as the first step in
*realToComplex*.  It looks like it always does it as to get the dimensions
optimized for speed.  Mines also supports dimensions optimized for small
size and *FFTMethods* supports this.

Why, for example, if I transform a 256x256 image I get back a 281x560
> spectrum
>

I not sure why this happened...  were you trying to compute a power
spectrum??  Or just looking at the complex valued image that was returned
after the FFT calculation??

The convolution function automatically pads as to avoid circular
convolution at the edges.  So if your kernel size is also 256 by 256 the
numbers make sense.  The image would get padded to 512 by 512 and the input
to the FFT padded a bit more (560 by 560 sounds right) after transform
281X560 complex coefficients seems right.

(as a side note it seems that power of 2s are not an efficient size for
mines FFTs I guess I will have to look at the details of the PFA algorithm
to understand why... thanks for pointing out that mines uses PFA)

Brian

>
>>

On Fri, Jul 25, 2014 at 8:07 AM, SARA SCHIESARO <
sara.schiesaro at student.unife.it> wrote:

> Hi all,
> I've already worked with FourierTransform and FFTConvolution classes, I've
> also studied their codes in order to adapt them to my program, anyway I
> still have some doubts about those classes and I hope you can help me!
>
> First, dimensions of the output resulting from the FourierTransform and
> those of the fftKernel in the FFTConvolution class differ from those of the
> input images, why? Why, for example, if I transform a 256x256 image I get
> back a 281x560 spectrum?
>
> Secondly, trying to find out an answer to the first doubt I have, I find
> out that the spectrum dimensions are calculated by using the package
> edu.mines.jtk.dsp and in particular the classes FftReal/FftComplex, both
> based on the Pfacc class. Comments to the Pfacc class said that this class
> implements the PFA algorithm for the FFT computation, so my second doubt is
> this: do the FourierTransform and FFTConvolution classes implement the PFA
> algorithm?
>
> I really need to find it out in order to continue my work, so any help
> will be appreciated!
> Thanks a lot,
>
> Sara S.
>
> _______________________________________________
> ImageJ-devel mailing list
> ImageJ-devel at imagej.net
> http://imagej.net/mailman/listinfo/imagej-devel
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://imagej.net/pipermail/imagej-devel/attachments/20140730/e7fdac36/attachment.html>

