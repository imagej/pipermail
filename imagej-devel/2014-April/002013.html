<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-devel] Jython error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Jython%20error&In-Reply-To=%3Calpine.DEB.1.00.1404092259031.14982%40s15462909.onlinehome-server.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002012.html">
   <LINK REL="Next"  HREF="002014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-devel] Jython error</H1>
    <B>Johannes Schindelin</B> 
    <A HREF="mailto:imagej-devel%40imagej.net?Subject=Re%3A%20%5BImageJ-devel%5D%20Jython%20error&In-Reply-To=%3Calpine.DEB.1.00.1404092259031.14982%40s15462909.onlinehome-server.info%3E"
       TITLE="[ImageJ-devel] Jython error">Johannes.Schindelin at gmx.de
       </A><BR>
    <I>Wed Apr  9 16:02:26 CDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002012.html">[ImageJ-devel] Jython error
</A></li>
        <LI>Next message: <A HREF="002014.html">[ImageJ-devel] Jython error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2013">[ date ]</a>
              <a href="thread.html#2013">[ thread ]</a>
              <a href="subject.html#2013">[ subject ]</a>
              <a href="author.html#2013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Brian,

On Wed, 9 Apr 2014, Brian Northan wrote:

&gt;<i> I just updated to pom-scijava-1.55
</I>
I hope you mean pom-scijava 1.155, not 1.55.

&gt;<i> and am having trouble running a jython script (was working fine until I
</I>&gt;<i> updated, I hadn't updated in a few weeks so I don't know exactly when it
</I>&gt;<i> broke).
</I>&gt;<i> 
</I>&gt;<i> when I call &quot;os.path.exists&quot; I get...
</I>&gt;<i> 
</I>&gt;<i> &quot;java.lang.IncompatibleClassChangeError: Found class
</I>&gt;<i> com.kenai.jffi.InvocationBuffer, but interface was expected&quot;
</I>
It is one of those problems caused by other software maintainers being
overly happy to include soon-to-be-outdated dependencies in their .jar
files. In particular, when I run

$ ./bin/find-jar-for-class.bsh com.kenai.jffi.InvocationBuffer
Class com.kenai.jffi.InvocationBuffer is in .../jruby-complete-1.7.11.jar
Class com.kenai.jffi.InvocationBuffer is in .../jython-2.5.2.jar
Class com.kenai.jffi.InvocationBuffer is in .../jruby-1.6.7.2.jar

I see that the class/interface is in the two biggest offenders: JRuby
and Jython. Most likely, one of them has an obsolete version of jffi
bundled, and another one accesses that obsolete version by mistake.

If you have jruby 1.6.7.2, try to delete that .jar (it is a game of luck
which of your .jar files appears in the class path first, so I would
strongly suggest to delete it rather than renaming it).

Ciao,
Johannes

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002012.html">[ImageJ-devel] Jython error
</A></li>
	<LI>Next message: <A HREF="002014.html">[ImageJ-devel] Jython error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2013">[ date ]</a>
              <a href="thread.html#2013">[ thread ]</a>
              <a href="subject.html#2013">[ subject ]</a>
              <a href="author.html#2013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-devel">More information about the ImageJ-devel
mailing list</a><br>
</body></html>
