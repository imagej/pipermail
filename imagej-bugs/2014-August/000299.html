<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-bugs] [Bug 854] Multithreading problem in javascript macro
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%20854%5D%20Multithreading%20problem%20in%20javascript%20macro&In-Reply-To=%3Cbug-854-19-LOKRKxYLEV%40http.fiji.sc/bugzilla/%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000297.html">
   <LINK REL="Next"  HREF="000301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-bugs] [Bug 854] Multithreading problem in javascript macro</H1>
    <B>bugzilla at fiji.sc</B> 
    <A HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%20854%5D%20Multithreading%20problem%20in%20javascript%20macro&In-Reply-To=%3Cbug-854-19-LOKRKxYLEV%40http.fiji.sc/bugzilla/%3E"
       TITLE="[ImageJ-bugs] [Bug 854] Multithreading problem in javascript macro">bugzilla at fiji.sc
       </A><BR>
    <I>Thu Aug 21 15:03:56 CDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000297.html">[ImageJ-bugs] [Bug 465] Trackmate - missing Save dialog for Export	tracks to XML
</A></li>
        <LI>Next message: <A HREF="000301.html">[ImageJ-bugs] [Bug 465] Trackmate - missing Save dialog for Export	tracks to XML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#299">[ date ]</a>
              <a href="thread.html#299">[ thread ]</a>
              <a href="subject.html#299">[ subject ]</a>
              <a href="author.html#299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://fiji.sc/bugzilla/show_bug.cgi?id=854">http://fiji.sc/bugzilla/show_bug.cgi?id=854</A>

Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">ctrueden at wisc.edu</A>&gt; changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEEDSINFO                   |RESOLVED
                 CC|                            |<A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">ctrueden at wisc.edu</A>
         Resolution|---                         |WONTFIX

--- Comment #5 from Curtis Rueden &lt;<A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">ctrueden at wisc.edu</A>&gt; ---
I downloaded your script and your TIFF, and was able to reproduce the problem
on my OS X machine. Impressive script, Thomas!

Unfortunately, debugging concurrency issues is one of the more difficult and
time consuming programming tasks. And ImageJ 1.x is rife with concurrency
problems lurking under the hood, which most people rarely encounter, but which
advanced script writers such as yourself sometimes bump into.

I really appreciate that you would love some help debugging your code, but
given the complexity of the script, in this case I think there is no option but
for you, or someone else in your group, to dig in more deeply and identify the
root cause of the issue. Ultimately, you have a large function being called by
many threads at once into IJ1 data structures which are probably not
thread-safe, so some synchronized blocks may be in order (and I'm not sure how
you do that in JavaScript).

Two parting suggestions:

1) You could recast your code as a Java plugin and use an IDE with a dedicated
debugger, memory profiler, and many other goodies. Debugging concurrency issues
from Eclipse (by attaching to a running Fiji as a remote debugger; see
<A HREF="http://fiji.sc/Debugging_intro#Attaching_to_ImageJ_instances">http://fiji.sc/Debugging_intro#Attaching_to_ImageJ_instances</A>) will be easier
than debugging things from the ImageJ Script Editor in JavaScript with no such
tools.

2) You could post a Minimal, Complete and Verifiable example on StackOverflow
(<A HREF="http://stackoverflow.com/help/mcve">http://stackoverflow.com/help/mcve</A>) and hope that someone from the larger
community of developers there has additional suggestions or insight.

I wish you the best of luck with it.

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-bugs/attachments/20140821/f66472a0/attachment.html">http://imagej.net/pipermail/imagej-bugs/attachments/20140821/f66472a0/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000297.html">[ImageJ-bugs] [Bug 465] Trackmate - missing Save dialog for Export	tracks to XML
</A></li>
	<LI>Next message: <A HREF="000301.html">[ImageJ-bugs] [Bug 465] Trackmate - missing Save dialog for Export	tracks to XML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#299">[ date ]</a>
              <a href="thread.html#299">[ thread ]</a>
              <a href="subject.html#299">[ subject ]</a>
              <a href="author.html#299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-bugs">More information about the Imagej-bugs
mailing list</a><br>
</body></html>
