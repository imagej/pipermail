<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-bugs] [Bug 951] New: load(path) does work in javascript, but not if called from a macro
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%20951%5D%20New%3A%20load%28path%29%20does%20work%20in%20javascript%2C%0A%20but%20not%20if%20called%20from%20a%20macro&In-Reply-To=%3Cbug-951-19%40http.fiji.sc/bugzilla/%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-bugs] [Bug 951] New: load(path) does work in javascript, but not if called from a macro</H1>
    <B>bugzilla at fiji.sc</B> 
    <A HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%20951%5D%20New%3A%20load%28path%29%20does%20work%20in%20javascript%2C%0A%20but%20not%20if%20called%20from%20a%20macro&In-Reply-To=%3Cbug-951-19%40http.fiji.sc/bugzilla/%3E"
       TITLE="[ImageJ-bugs] [Bug 951] New: load(path) does work in javascript, but not if called from a macro">bugzilla at fiji.sc
       </A><BR>
    <I>Sat Nov  1 02:56:39 CDT 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000495.html">[ImageJ-bugs] [Bug 951] load(path) does work in javascript, but not if called from a macro
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#494">[ date ]</a>
              <a href="thread.html#494">[ thread ]</a>
              <a href="subject.html#494">[ subject ]</a>
              <a href="author.html#494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://fiji.sc/bugzilla/show_bug.cgi?id=951">http://fiji.sc/bugzilla/show_bug.cgi?id=951</A>

            Bug ID: 951
           Summary: load(path) does work in javascript, but not if called
                    from a macro
           Product: Fiji
           Version: unspecified
          Hardware: Macintosh
                OS: Mac OS
            Status: NEW
          Severity: normal
          Priority: P4
         Component: Plugins
          Assignee: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">imagej-bugs at imagej.net</A>
          Reporter: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">christophe.leterrier at gmail.com</A>
                CC: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">christophe.leterrier at gmail.com</A>

I have a script (javascript) that calls functions in another script using
load(path). It works fine in Fiji thanks to Johannes' work (see
<A HREF="http://imagej.1557.x6.nabble.com/Javascript-in-Fiji-does-not-work-anymore-td5008314.html">http://imagej.1557.x6.nabble.com/Javascript-in-Fiji-does-not-work-anymore-td5008314.html</A>).

I have now made a toolset to launch these various scripts using the
runMacro(path) command. So what happens is that the Action Tool calls the
script#1 using runMacro(path1), and the script#1 calls functions in script#2
using load(path2). However when I do this, I get an error (that does not happen
when launching script#1 directly:

ReferenceError: &quot;load&quot; is not defined (&lt;Unknown source&gt;#35) in &lt;Unknown source&gt;
at line number 35

Anyone knows what happens here, and knows how to work around/correct this?

Information about your version of Java:

  os.arch =&gt; x86_64
  os.name =&gt; Mac OS X
  os.version =&gt; 10.10
  java.version =&gt; 1.6.0_65
  java.vendor =&gt; Apple Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_65-b14-466.1-11M4716
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 20.65-b04-466.1
  java.vm.vendor =&gt; Apple Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; apple.awt.CGraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; null
  file.separator =&gt; /

The up-to-date check says: UP_TO_DATE

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: null
  imagej.dir =&gt; /Users/christo/Travail/Labo/Processing/Fiji_current/Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <A HREF="http://update.imagej.net/">http://update.imagej.net/</A> (last check:20141026020028)
Fiji: <A HREF="http://fiji.sc/update/">http://fiji.sc/update/</A> (last check:20141023165357)
Bio-Formats: <A HREF="http://sites.imagej.net/Bio-Formats/">http://sites.imagej.net/Bio-Formats/</A> (last check:20141031022635)
GDSC-SMLM: <A HREF="http://sites.imagej.net/GDSC-SMLM/">http://sites.imagej.net/GDSC-SMLM/</A> (last check:20140918121334)
PTBIOP: <A HREF="http://biop.epfl.ch/Fiji-Update/">http://biop.epfl.ch/Fiji-Update/</A> (last check:20141008175041)

Files not up-to-date:
  200a30ac (MODIFIED) 20141001201752 Contents/Info.plist
  ebd9888a (MODIFIED) 20130910230945 macros/StartupMacros.fiji.ijm
  37d3408d (LOCAL_ONLY) 20130910230945 macros/StartupMacros.fiji_stock.ijm
  09d47feb (LOCAL_ONLY) 20141031212500 macros/myTool.txt
  1e948734 (LOCAL_ONLY) 20140423133536 macros/toolsets/3D_AIS_Measure.ijm
  dca2b75a (LOCAL_ONLY) 20121116182554 macros/toolsets/Intensity Ratios
Tools.ijm
  d28c5f20 (LOCAL_ONLY) 20140331210831 macros/toolsets/PeakFinder_Tool.txt
  bc0b4a55 (LOCAL_ONLY) 20141031212500 macros/toolsets/SR tools.ijm
  e9cc69cf (LOCAL_ONLY) 20140116225135 macros/toolsets/Simple AIS Measure
Tools.ijm
  491f95aa (LOCAL_ONLY) 20120531234749 macros/toolsets/Test_Shortcut.ijm
  074f1336 (LOCAL_ONLY) 20141029214914 plugins/Thunder_STORM.jar
  a9b2a6a9 (LOCAL_ONLY) 20141029214915 plugins/added SR/Batch_NStoTS3D.js
  924368ed (LOCAL_ONLY) 20141029214915 plugins/added SR/Batch_TSAddZUnc.js
  4fc89b3a (LOCAL_ONLY) 20140624222024 plugins/added SR/F-NStxtSplit.js
  0f5a18da (LOCAL_ONLY) 20141029214915 plugins/added SR/F-NStxtTranslate.js
  2171ad06 (LOCAL_ONLY) 20141029214915 plugins/added SR/F-TSAddZUnc.js
  8ad1cd33 (LOCAL_ONLY) 20141031212539 plugins/added SR/F-TSRotate.js
  8499ed11 (LOCAL_ONLY) 20141031212500 plugins/added SR/Generate_Recon.ijm
  85c74b0c (LOCAL_ONLY) 20141029214915 plugins/added SR/Generate_Recon_WIP.ijm
  d2fc2b14 (LOCAL_ONLY) 20141031212500 plugins/added SR/Generate_Slices from
ROI.ijm
  79aa4406 (LOCAL_ONLY) 20141029223923 plugins/added SR/Generate_Slices from
ROI_WIP.ijm
  d53b30fb (LOCAL_ONLY) 20141029214915 plugins/added SR/Get_Z_Range.js
  5ee9ebf4 (LOCAL_ONLY) 20140624222024 plugins/added SR/Single_NStxtSplit.js
  a0dba650 (LOCAL_ONLY) 20141029214915 plugins/added
SR/Single_NStxtTranslate.js
  4f618b33 (LOCAL_ONLY) 20141029214915 plugins/added SR/Single_TSAddZUnc.js
  e6ea9222 (LOCAL_ONLY) 20141029214915 plugins/added SR/Single_TSRotate.js
  3dc946f2 (LOCAL_ONLY) 20141029214915 plugins/added SR/Slice_to_Zoombox.ijm
  f58c5b2e (LOCAL_ONLY) 20131105141630 plugins/added
macros/Calculate_Ratios.ijm
  c73c63d4 (LOCAL_ONLY) 20120203190735 plugins/added macros/Calib_EMGain.ijm
  23565f48 (LOCAL_ONLY) 20120123170343 plugins/added
macros/Convert_Image_to_Icon.ijm
  cf56c63a (LOCAL_ONLY) 20140624224104 plugins/added
macros/Convert_NDF_to_ROI_monoCh.ijm
  9121b3d6 (LOCAL_ONLY) 20140624231653 plugins/added
macros/Convert_NDF_to_ROI_monoCh_2.ijm
  8c162fbc (LOCAL_ONLY) 20121116182556 plugins/added
macros/Convert_NDF_to_ROI_multiCh.ijm
  b73d84c3 (LOCAL_ONLY) 20140624231839 plugins/added
macros/Convert_NDF_to_ROI_multiCh2.ijm
  5759d835 (LOCAL_ONLY) 20140306191916 plugins/added
macros/Correct_&amp;_Split_Channels.ijm
  1e1afbf4 (LOCAL_ONLY) 20140517214448 plugins/added
macros/Duplicate_wLabel.ijm
  6a5e9f21 (LOCAL_ONLY) 20120120190326 plugins/added macros/Edit_Cat_ROIs.ijm
  d0ae64a9 (LOCAL_ONLY) 20120523184024 plugins/added macros/Extract_LIF.ijm
  681f02d5 (LOCAL_ONLY) 20140423133537 plugins/added macros/Extract_Zeiss.ijm
  fa330291 (LOCAL_ONLY) 20130530200036 plugins/added macros/Generate_Comets.ijm
  b4baa60d (LOCAL_ONLY) 20130908215841 plugins/added macros/Generate_Kymos.ijm
  40277102 (LOCAL_ONLY) 20140624222024 plugins/added
macros/Generate_Stacks_Folder.ijm
  d4e49dd3 (LOCAL_ONLY) 20121116182556 plugins/added
macros/Generate_Tracings_Folder_monoCh.ijm
  664cbbe3 (LOCAL_ONLY) 20121116182556 plugins/added
macros/Generate_Tracings_Folder_multiCh.ijm
  aa4dfffd (LOCAL_ONLY) 20140211211257 plugins/added
macros/Make_Projections.ijm
  6b42d1ed (LOCAL_ONLY) 20120203190735 plugins/added macros/Mean_vs_SD.ijm
  9ecf1256 (LOCAL_ONLY) 20130410220303 plugins/added
macros/Measure_Intensities.ijm
  ec2b207d (LOCAL_ONLY) 20120120190326 plugins/added macros/Normalize_Movie.ijm
  44725a89 (LOCAL_ONLY) 20120120190326 plugins/added
macros/Pad_Image_to_Stack.ijm
  848b3f14 (LOCAL_ONLY) 20140201140529 plugins/added macros/Plot_Column.ijm
  cf33bc89 (LOCAL_ONLY) 20130419214758 plugins/added
macros/RGB_Profiles_Tool.ijm
  a04dd29d (LOCAL_ONLY) 20120120190326 plugins/added
macros/Register_Coverslip_Zeiss.ijm
  464c88ea (LOCAL_ONLY) 20120120190326 plugins/added macros/Running_Average.ijm
  7eec215c (LOCAL_ONLY) 20120928172722 plugins/added
macros/Simple_AIS_Measure.ijm
  61572565 (LOCAL_ONLY) 20130506225216 plugins/added
macros/Simple_AIS_Measure_new.ijm
  d3faf6a6 (LOCAL_ONLY) 20120120190326 plugins/added
macros/Stitch_Processed_Mosaic.ijm
  4a24763e (LOCAL_ONLY) 20120120190326 plugins/added macros/Transfer_Labels.ijm
  3e4083ae (LOCAL_ONLY) 20140829213750 plugins/added
plugins/Actin2_Quantifier.class
  ac3d73f5 (LOCAL_ONLY) 20130502205606 plugins/added
plugins/Align_RGB_planes.jar
  0a5c1981 (LOCAL_ONLY) 20130419214758 plugins/added plugins/Color_Profiler.jar
  c60c5966 (LOCAL_ONLY) 20131115215344 plugins/added plugins/FIRE_plugin.jar
  66f0be96 (LOCAL_ONLY) 20120120190326 plugins/added
plugins/Fast_Filters$1.class
  7b74cdd1 (LOCAL_ONLY) 20120120190326 plugins/added plugins/Fast_Filters.class
  e9e5c061 (LOCAL_ONLY) 20140129213842 plugins/added
plugins/Image_Stabilizer.class
  1fd3d1a6 (LOCAL_ONLY) 20140219221145 plugins/added
plugins/Image_Stabilizer_Log_Applier.class
  a7eaa6cb (LOCAL_ONLY) 20140929212023 plugins/added
plugins/KymoResliceWide_.jar
  a5d02cb7 (LOCAL_ONLY) 20140929212023 plugins/added plugins/Kymo_graph1001.jar
  dad4b299 (LOCAL_ONLY) 20130731193228 plugins/added plugins/M2LE_Pipeline.jar
  f07dd15c (LOCAL_ONLY) 20120120190326 plugins/added plugins/NeuronJ_.jar
  2b0f8e5e (LOCAL_ONLY) 20130419214758 plugins/added plugins/Radial_Profile.jar
  15638c2e (LOCAL_ONLY) 20140331202439 plugins/added
plugins/Radial_Profile_Angle_Ext.jar
  97813c51 (LOCAL_ONLY) 20130331152055 plugins/added
plugins/Sigma_Filter_Plus.class
  be06fe59 (LOCAL_ONLY) 20140929212023 plugins/added plugins/action_bar202.jar
  b2afde18 (LOCAL_ONLY) 20130908215841 plugins/added plugins/cell_counter.jar
  5229937c (LOCAL_ONLY) 20120120190326 plugins/added
plugins/mm_nd_and_roi_pack.jar
  8fa95c18 (LOCAL_ONLY) 20140916183646 plugins/added scripts/Fit_Sinus.js
  b9d874ac (LOCAL_ONLY) 20140926224157 plugins/added scripts/Pro_Feat_Fit.js
  8771821c (LOCAL_ONLY) 20140926224157 plugins/added
scripts/Profile_AlignRef.js
  4f471c4a (LOCAL_ONLY) 20140926224157 plugins/added scripts/Reassign_ROIs_HS
channels.js
  b5d7dea9 (LOCAL_ONLY) 20140926224157 plugins/added scripts/Reassign_ROIs_HS
to S.js
  5dea0423 (LOCAL_ONLY) 20140619220039 plugins/added
scripts/Remove_Background_Median.js
  ccc0dfcb (LOCAL_ONLY) 20140624222024 plugins/added scripts/SAM2_V2.js

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-bugs/attachments/20141101/7e34f875/attachment.html">http://imagej.net/pipermail/imagej-bugs/attachments/20141101/7e34f875/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000495.html">[ImageJ-bugs] [Bug 951] load(path) does work in javascript, but not if called from a macro
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#494">[ date ]</a>
              <a href="thread.html#494">[ thread ]</a>
              <a href="subject.html#494">[ subject ]</a>
              <a href="author.html#494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-bugs">More information about the Imagej-bugs
mailing list</a><br>
</body></html>
