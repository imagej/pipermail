<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-bugs] [Bug 1019] New: Align image by Line ROI results in	Java error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%201019%5D%20New%3A%20Align%20image%20by%20Line%20ROI%20results%20in%0A%09Java%20error&In-Reply-To=%3Cbug-1019-19%40http.fiji.sc/bugzilla/%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000851.html">
   <LINK REL="Next"  HREF="000774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-bugs] [Bug 1019] New: Align image by Line ROI results in	Java error</H1>
    <B>bugzilla at fiji.sc</B> 
    <A HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%201019%5D%20New%3A%20Align%20image%20by%20Line%20ROI%20results%20in%0A%09Java%20error&In-Reply-To=%3Cbug-1019-19%40http.fiji.sc/bugzilla/%3E"
       TITLE="[ImageJ-bugs] [Bug 1019] New: Align image by Line ROI results in	Java error">bugzilla at fiji.sc
       </A><BR>
    <I>Wed Mar  4 10:06:17 CST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000851.html">[ImageJ-bugs] [Bug 1018] Unable to run FIJI in 32 bit mode
</A></li>
        <LI>Next message: <A HREF="000774.html">[ImageJ-bugs] [Bug 1019] Align image by Line ROI results in Java	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#773">[ date ]</a>
              <a href="thread.html#773">[ thread ]</a>
              <a href="subject.html#773">[ subject ]</a>
              <a href="author.html#773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://fiji.sc/bugzilla/show_bug.cgi?id=1019">http://fiji.sc/bugzilla/show_bug.cgi?id=1019</A>

            Bug ID: 1019
           Summary: Align image by Line ROI results in Java error
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: normal
          Priority: P4
         Component: Plugins
          Assignee: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">imagej-bugs at imagej.net</A>
          Reporter: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">amc910 at bham.ac.uk</A>
                CC: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">amc910 at bham.ac.uk</A>

Hi there,

I'm trying to run the 'Align image by line ROI' utility, and I keep getting a
Java error.

The following macro results in the same error:
-----------------
run(&quot;Dot Blot (7K)&quot;);
run(&quot;Dot Blot (7K)&quot;);

selectWindow(&quot;Dot_Blot.jpg&quot;);
makeLine(116, 256, 475, 97);
selectWindow(&quot;Dot_Blot-1.jpg&quot;);
makeLine(106, 111, 404, 172);

run(&quot;Align Image by line ROI&quot;);
-----------------

Hit 'OK' and the following Java error is printed:

-----------------
(Fiji Is Just) ImageJ 2.0.0-rc-25/1.49p; Java 1.6.0_24 [64-bit]; Windows 7 6.1;
100MB of 5971MB (1%)

java.lang.NullPointerException
    at Align_Image.align(Align_Image.java:139)
    at Align_Image.run(Align_Image.java:83)
    at ij.IJ.runUserPlugIn(IJ.java:199)
    at ij.IJ.runPlugIn(IJ.java:163)
    at ij.Executer.runCommand(Executer.java:131)
    at ij.Executer.run(Executer.java:64)
    at ij.IJ.run(IJ.java:275)
    at ij.IJ.run(IJ.java:250)
    at ij.macro.Functions.doRun(Functions.java:593)
    at ij.macro.Functions.doFunction(Functions.java:89)
    at ij.macro.Interpreter.doStatement(Interpreter.java:226)
    at ij.macro.Interpreter.doStatements(Interpreter.java:214)
    at ij.macro.Interpreter.run(Interpreter.java:111)
    at ij.macro.Interpreter.run(Interpreter.java:81)
    at ij.macro.Interpreter.run(Interpreter.java:92)
    at ij.plugin.Macro_Runner.runMacro(Macro_Runner.java:153)
    at ij.IJ.runMacro(IJ.java:116)
    at ij.IJ.runMacro(IJ.java:105)
    at net.imagej.legacy.IJ1Helper.runMacro(IJ1Helper.java:794)
    at net.imagej.legacy.plugin.IJ1MacroEngine.eval(IJ1MacroEngine.java:116)
    at net.imagej.legacy.plugin.IJ1MacroEngine.eval(IJ1MacroEngine.java:160)
    at org.scijava.script.ScriptModule.run(ScriptModule.java:175)
    at org.scijava.module.ModuleRunner.run(ModuleRunner.java:167)
    at org.scijava.module.ModuleRunner.call(ModuleRunner.java:126)
    at org.scijava.module.ModuleRunner.call(ModuleRunner.java:65)
    at
org.scijava.thread.DefaultThreadService$2.call(DefaultThreadService.java:164)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
-------------

&gt;<i>From the first two lines in the error log I'm assuming it has to do with lines
</I>139 and 83 in Align_image.java:
131:    float dx1 = line1.x2 - line1.x1;
83:    ImageProcessor result = align(source.getProcessor(), line1,
target.getProcessor(), line2, withScaling, withRotation);

From: <A HREF="https://github.com/fiji/VIB/blob/master/src/main/java/Align_Image.java">https://github.com/fiji/VIB/blob/master/src/main/java/Align_Image.java</A>

I'm afraid I'm not really sure where to go from here, any ideas?

Information about your version of Java:

  os.arch =&gt; amd64
  os.name =&gt; Windows 7
  os.version =&gt; 6.1
  java.version =&gt; 1.6.0_24
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_24-b07
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 19.1-b02
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \

The up-to-date check says: REMIND_LATER

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: C:\Work\FIJI-W~1\Fiji.app/java/win64/jdk1.6.0_24//jre
  imagej.dir =&gt; C:\Work\FIJI-W~1\Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <A HREF="http://update.imagej.net/">http://update.imagej.net/</A> (last check:20150302042523)
Fiji: <A HREF="http://fiji.sc/update/">http://fiji.sc/update/</A> (last check:20150302225742)

Files not up-to-date:
  b0038cbf (MODIFIED) 20150304154358 jars/ij-1.49m.jar
  1ad3be0d (LOCAL_ONLY) 20140201185146 jars/jpedalSTD.jar
  c7660983 (LOCAL_ONLY) 20140731142918 macros/Angus1.ijm
  c55dde81 (LOCAL_ONLY) 20140731142926 macros/Angus2.ijm
  0be8846e (LOCAL_ONLY) 20141210131404 macros/BatchScale.ijm
  0a23f9af (LOCAL_ONLY) 20140729120848 macros/Bleach Correction.ijm
  d71b3fa8 (LOCAL_ONLY) 20150217134500 macros/Confocal1.ijm
  9078abc5 (LOCAL_ONLY) 20150120131532 macros/Cropping.ijm
  6eeac28f (LOCAL_ONLY) 20141204141336 macros/DateLastModified.ijm
  19ddd309 (LOCAL_ONLY) 20140626124302 macros/FullScan_100x.ijm
  35e3bd87 (LOCAL_ONLY) 20140626124325 macros/FullScan_200x.ijm
  6727eb24 (LOCAL_ONLY) 20140626124218 macros/FullScan_25x.ijm
  470b2083 (LOCAL_ONLY) 20140626124344 macros/FullScan_500x.ijm
  23e828fb (LOCAL_ONLY) 20140626124239 macros/FullScan_50x.ijm
  51565b01 (LOCAL_ONLY) 20141209172107 macros/LoggerDataExtract.ijm
  3b8be573 (LOCAL_ONLY) 20140624092005 macros/MultiOpen.ijm
  c2c3c8fa (LOCAL_ONLY) 20141209172109 macros/ScannertoRGBij.ijm
  20c298a4 (LOCAL_ONLY) 20140604130515 macros/StackReg.ijm
  54bc1cc8 (LOCAL_ONLY) 20140731181111 macros/Timelapse overlay.ijm
  0e90592c (LOCAL_ONLY) 20140624161002 macros/Timelapse1.ijm
  0ea65c05 (LOCAL_ONLY) 20140804113436 macros/VirtualDubMacro.ijm
  05337381 (LOCAL_ONLY) 20140804144053 macros/WB Single.ijm
  76215538 (LOCAL_ONLY) 20140804144725 macros/WB Stack.ijm
  b0408dbd (LOCAL_ONLY) 20150126154553 macros/WhiteBalanceAreaMean.ijm
  83f01961 (LOCAL_ONLY) 20140729120800 plugins/Bleach Correction.ijm
  e532d82b (LOCAL_ONLY) 20140626175231 plugins/FullScan_100x.ijm
  553b12f8 (LOCAL_ONLY) 20140626175259 plugins/FullScan_200x.ijm
  842dac39 (LOCAL_ONLY) 20140626175242 plugins/FullScan_25x.ijm
  b90fcf8c (LOCAL_ONLY) 20140626175540 plugins/FullScan_500x.ijm
  fb0ea92b (LOCAL_ONLY) 20140626175247 plugins/FullScan_50x.ijm
  29aa129b (LOCAL_ONLY) 20140530113502 plugins/MeasureStack.class
  698e201e (LOCAL_ONLY) 20140530113502 plugins/MeasureStackReviewer.class
  db437772 (LOCAL_ONLY) 20140530113502 plugins/Measure_Stack.class
  2b893d8c (LOCAL_ONLY) 20140624133848 plugins/MultiOpen.ijm
  b7e36bf5 (LOCAL_ONLY) 20140804104151 plugins/RXTXcomm.jar
  b3b73e80 (LOCAL_ONLY) 20141210131339 plugins/Scan_.jar
  6aca4c14 (LOCAL_ONLY) 20140804151315 plugins/WB Single.ijm
  ff703cc6 (LOCAL_ONLY) 20140610111222 plugins/ij-dcraw_.jar
  27598922 (LOCAL_ONLY) 20140804103936 plugins/serial_ext.jar
  dcb0f1b8 (LOCAL_ONLY) 20141210131339
plugins/uk.co.mmscomputing.device.twain.jar

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-bugs/attachments/20150304/6f93b289/attachment.html">http://imagej.net/pipermail/imagej-bugs/attachments/20150304/6f93b289/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000851.html">[ImageJ-bugs] [Bug 1018] Unable to run FIJI in 32 bit mode
</A></li>
	<LI>Next message: <A HREF="000774.html">[ImageJ-bugs] [Bug 1019] Align image by Line ROI results in Java	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#773">[ date ]</a>
              <a href="thread.html#773">[ thread ]</a>
              <a href="subject.html#773">[ subject ]</a>
              <a href="author.html#773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-bugs">More information about the Imagej-bugs
mailing list</a><br>
</body></html>
