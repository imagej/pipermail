<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;base&nbsp;href=&quot;http://fiji.sc/bugzilla/&quot;&nbsp;/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;&lt;a&nbsp;class=&quot;bz_bug_link&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bz_status_CONFIRMED&nbsp;&quot;<br>
&nbsp;&nbsp;&nbsp;title=&quot;CONFIRMED&nbsp;-&nbsp;I'm&nbsp;trying&nbsp;to&nbsp;merge&nbsp;two&nbsp;images&nbsp;(1&nbsp;gb&nbsp;each,&nbsp;tiff&nbsp;files)&nbsp;and&nbsp;Image&nbsp;J&nbsp;processess&nbsp;the&nbsp;top&nbsp;half&nbsp;of&nbsp;the&nbsp;image&nbsp;while&nbsp;the&nbsp;bottom&nbsp;is&nbsp;black.&quot;<br>
&nbsp;&nbsp;&nbsp;href=&quot;http://fiji.sc/bugzilla/show_bug.cgi?id=1032#c12&quot;&gt;Comment&nbsp;#&nbsp;12&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;&lt;a&nbsp;class=&quot;bz_bug_link&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bz_status_CONFIRMED&nbsp;&quot;<br>
&nbsp;&nbsp;&nbsp;title=&quot;CONFIRMED&nbsp;-&nbsp;I'm&nbsp;trying&nbsp;to&nbsp;merge&nbsp;two&nbsp;images&nbsp;(1&nbsp;gb&nbsp;each,&nbsp;tiff&nbsp;files)&nbsp;and&nbsp;Image&nbsp;J&nbsp;processess&nbsp;the&nbsp;top&nbsp;half&nbsp;of&nbsp;the&nbsp;image&nbsp;while&nbsp;the&nbsp;bottom&nbsp;is&nbsp;black.&quot;<br>
&nbsp;&nbsp;&nbsp;href=&quot;http://fiji.sc/bugzilla/show_bug.cgi?id=1032&quot;&gt;bug&nbsp;1032&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;&lt;span&nbsp;class=&quot;vcard&quot;&gt;&lt;a&nbsp;class=&quot;email&quot;&nbsp;href=&quot;mailto:wsr&#64;nih.gov&quot;&nbsp;title=&quot;Wayne&nbsp;Rasband&nbsp;&lt;wsr&#64;nih.gov&gt;&quot;&gt;&nbsp;&lt;span&nbsp;class=&quot;fn&quot;&gt;Wayne&nbsp;Rasband&lt;/span&gt;&lt;/a&gt;<br>
&lt;/span&gt;&lt;/b&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&gt;The&nbsp;following&nbsp;example&nbsp;macro&nbsp;creates&nbsp;two&nbsp;850&nbsp;megapixel&nbsp;images,&nbsp;merges&nbsp;them,<br>
scales&nbsp;the&nbsp;merged&nbsp;image&nbsp;to&nbsp;2048x2048,&nbsp;saves&nbsp;it&nbsp;as&nbsp;JPEG&nbsp;and&nbsp;displays&nbsp;it.&nbsp;It&nbsp;does<br>
this&nbsp;without&nbsp;displaying&nbsp;any&nbsp;of&nbsp;the&nbsp;850&nbsp;megapixel&nbsp;images.&nbsp;The&nbsp;resulting&nbsp;JPEG<br>
file&nbsp;is&nbsp;137K.&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;MB&nbsp;=&nbsp;850;<br>
&nbsp;&nbsp;&nbsp;&nbsp;setBatchMode(true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;=&nbsp;sqrt(MB*1024*1024);<br>
&nbsp;&nbsp;&nbsp;&nbsp;doCommand(&quot;Monitor&nbsp;Memory...&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;newImage(&quot;c1&quot;,&nbsp;&quot;8-bit&nbsp;ramp&quot;,&nbsp;w,&nbsp;w,&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;newImage(&quot;c2&quot;,&nbsp;&quot;8-bit&nbsp;ramp&quot;,&nbsp;w,&nbsp;w,&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;run(&quot;Rotate&nbsp;90&nbsp;Degrees&nbsp;Right&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;run(&quot;Merge&nbsp;Channels...&quot;,&nbsp;&quot;c1=c1&nbsp;c2=c2&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;run(&quot;Size...&quot;,&nbsp;&quot;width=2048&nbsp;height=2048&nbsp;constrain&nbsp;interpolation=Bilinear&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;saveAs(&quot;Jpeg&quot;,&nbsp;&quot;&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;setBatchMode(false);<br>
<br>
This&nbsp;version&nbsp;of&nbsp;the&nbsp;macro&nbsp;saves&nbsp;the&nbsp;850&nbsp;megapixel&nbsp;merged&nbsp;image&nbsp;as&nbsp;a&nbsp;15MB<br>
(29,854x29,854)&nbsp;JPEG&nbsp;without&nbsp;displaying&nbsp;anything.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;MB&nbsp;=&nbsp;850;<br>
&nbsp;&nbsp;&nbsp;&nbsp;setBatchMode(true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;=&nbsp;sqrt(MB*1024*1024);<br>
&nbsp;&nbsp;&nbsp;&nbsp;doCommand(&quot;Monitor&nbsp;Memory...&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;newImage(&quot;c1&quot;,&nbsp;&quot;8-bit&nbsp;ramp&quot;,&nbsp;w,&nbsp;w,&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;newImage(&quot;c2&quot;,&nbsp;&quot;8-bit&nbsp;ramp&quot;,&nbsp;w,&nbsp;w,&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;run(&quot;Rotate&nbsp;90&nbsp;Degrees&nbsp;Right&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;run(&quot;Merge&nbsp;Channels...&quot;,&nbsp;&quot;c1=c1&nbsp;c2=c2&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;saveAs(&quot;Jpeg&quot;,&nbsp;&quot;&quot;);&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;You&nbsp;are&nbsp;receiving&nbsp;this&nbsp;mail&nbsp;because:&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;You&nbsp;are&nbsp;the&nbsp;assignee&nbsp;for&nbsp;the&nbsp;bug.&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
