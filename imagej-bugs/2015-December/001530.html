<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ImageJ-bugs] [Bug 1200] New: large file pairwais stitching problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%201200%5D%20New%3A%20large%20file%20pairwais%20stitching%20problem&In-Reply-To=%3Cbug-1200-19%40http.fiji.sc/bugzilla/%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001529.html">
   <LINK REL="Next"  HREF="001531.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ImageJ-bugs] [Bug 1200] New: large file pairwais stitching problem</H1>
    <B>bugzilla at fiji.sc</B> 
    <A HREF="mailto:imagej-bugs%40imagej.net?Subject=Re%3A%20%5BImageJ-bugs%5D%20%5BBug%201200%5D%20New%3A%20large%20file%20pairwais%20stitching%20problem&In-Reply-To=%3Cbug-1200-19%40http.fiji.sc/bugzilla/%3E"
       TITLE="[ImageJ-bugs] [Bug 1200] New: large file pairwais stitching problem">bugzilla at fiji.sc
       </A><BR>
    <I>Wed Dec  2 07:58:07 CST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001529.html">[ImageJ-bugs] [Bug 1188] OS X native FileDialog does not display	title
</A></li>
        <LI>Next message: <A HREF="001531.html">[ImageJ-bugs] [Bug 1200] large file pairwise stitching problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://fiji.sc/bugzilla/show_bug.cgi?id=1200">http://fiji.sc/bugzilla/show_bug.cgi?id=1200</A>

            Bug ID: 1200
           Summary: large file pairwais stitching problem
           Product: Fiji
           Version: unspecified
          Hardware: PC
                OS: Windows
            Status: NEW
          Severity: normal
          Priority: P4
         Component: Plugins
          Assignee: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">imagej-bugs at imagej.net</A>
          Reporter: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">alexandros.sountoulidis at su.se</A>
                CC: <A HREF="http://imagej.net/mailman/listinfo/imagej-bugs">alexandros.sountoulidis at su.se</A>

Hello,

I know that would be nice to send the images but the files are too big. File1
4.7 GB (3072x4608 z=120 steps 8 bit, 3 channels) File2 3.7GB ( 2560x4608 z=112
steps 8 bit, 3 channels). I tried to used pairwise stitching because the
overlap at the z-axis and I took the following error
Exception in thread &quot;Thread-51&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:706)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-52&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:711)
    at java.lang.Thread.run(Thread.java:662)
version = 1.5
C:\Users\Samakovlis\.ImageJ_3D_Viewer.props (The system cannot find the file
specified)
nFrames = 1
version = 1.5
nFrames = 1
Exception in thread &quot;Thread-2707&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:706)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-2708&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:711)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-4059&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:706)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-4058&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:711)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-5409&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:706)
    at java.lang.Thread.run(Thread.java:662)
Exception in thread &quot;Thread-5410&quot; java.lang.NegativeArraySizeException
    at
mpicbg.imglib.container.basictypecontainer.array.FloatArray.&lt;init&gt;(FloatArray.java:54)
    at
mpicbg.imglib.container.array.ArrayContainerFactory.createFloatInstance(ArrayContainerFactory.java:147)
    at
mpicbg.imglib.type.numeric.complex.ComplexFloatType.createSuitableDirectAccessContainer(ComplexFloatType.java:83)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:69)
    at
mpicbg.imglib.container.DirectAccessContainerFactory.createContainer(DirectAccessContainerFactory.java:55)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:113)
    at mpicbg.imglib.image.Image.&lt;init&gt;(Image.java:136)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:69)
    at mpicbg.imglib.image.ImageFactory.createImage(ImageFactory.java:72)
    at
mpicbg.imglib.algorithm.fft.FFTFunctions.computeFFT(FFTFunctions.java:389)
    at
mpicbg.imglib.algorithm.fft.FourierTransform.process(FourierTransform.java:268)
    at
mpicbg.imglib.algorithm.fft.PhaseCorrelation$3.run(PhaseCorrelation.java:711)
    at java.lang.Thread.run(Thread.java:662)
................................................................................
................................................................................
................................................................................
................................................................................
................................................................................
................................................................................
........................................................................
Done: Checksummer

There is no problem if I reduce the dimensions of the images 50%. Since the
sytem has 12 physical cores (and 12 logical) and 64GB RAM, I think that it has
to do with the settings of the plugin.

Can you help me please?

Thank you very much for your great work and the help, of coarse.

Kind regards,
Alex

Information about your version of Java:

  os.arch =&gt; amd64
  os.name =&gt; Windows NT (unknown)
  os.version =&gt; 6.2
  java.version =&gt; 1.6.0_24
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_24-b07
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 19.1-b02
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \

The up-to-date check says: REMIND_LATER

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: C:\Fiji.app/java/win64/jdk1.6.0_24//jre
  imagej.dir =&gt; C:\Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <A HREF="http://update.imagej.net/">http://update.imagej.net/</A> (last check:20151122025629)
Fiji: <A HREF="http://update.fiji.sc/">http://update.fiji.sc/</A> (last check:20151126153359)

-- 
You are receiving this mail because:
You are the assignee for the bug.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://imagej.net/pipermail/imagej-bugs/attachments/20151202/73d7ada5/attachment.html">http://imagej.net/pipermail/imagej-bugs/attachments/20151202/73d7ada5/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001529.html">[ImageJ-bugs] [Bug 1188] OS X native FileDialog does not display	title
</A></li>
	<LI>Next message: <A HREF="001531.html">[ImageJ-bugs] [Bug 1200] large file pairwise stitching problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://imagej.net/mailman/listinfo/imagej-bugs">More information about the Imagej-bugs
mailing list</a><br>
</body></html>
